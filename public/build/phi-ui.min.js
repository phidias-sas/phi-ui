(function(e){function t(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function n(e,t){return De.call(e,t)}function a(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function r(e){Le.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function i(e,t){var n=!0;return p(function(){return n&&(r(e),n=!1),t.apply(this,arguments)},t)}function o(e,t){vt[e]||(r(t),vt[e]=!0)}function s(e,t){return function(n){return g(e.call(this,n),t)}}function l(e,t){return function(n){return this.localeData().ordinal(e.call(this,n),t)}}function d(e,t){var n,a,r=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(r,"months");return 0>t-i?(n=e.clone().add(r-1,"months"),a=(t-i)/(i-n)):(n=e.clone().add(r+1,"months"),a=(t-i)/(n-i)),-(r+a)}function u(e,t,n){var a;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(a=e.isPM(n),a&&12>t&&(t+=12),a||12!==t||(t=0),t):t}function c(){}function f(e,t){t!==!1&&N(e),h(this,e),this._d=new Date(+e._d),Mt===!1&&(Mt=!0,Le.updateOffset(this),Mt=!1)}function m(e){var t=Y(e),n=t.year||0,a=t.quarter||0,r=t.month||0,i=t.week||0,o=t.day||0,s=t.hour||0,l=t.minute||0,d=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*d+6e4*l+36e5*s,this._days=+o+7*i,this._months=+r+3*a+12*n,this._data={},this._locale=Le.localeData(),this._bubble()}function p(e,t){for(var a in t)n(t,a)&&(e[a]=t[a]);return n(t,"toString")&&(e.toString=t.toString),n(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t){var n,a,r;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),Oe.length>0)for(n in Oe)a=Oe[n],r=t[a],"undefined"!=typeof r&&(e[a]=r);return e}function _(e){return 0>e?Math.ceil(e):Math.floor(e)}function g(e,t,n){for(var a=""+Math.abs(e),r=e>=0;a.length<t;)a="0"+a;return(r?n?"+":"":"-")+a}function v(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function y(e,t){var n;return t=j(t,e),e.isBefore(t)?n=v(e,t):(n=v(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function M(e,t){return function(n,a){var r,i;return null===a||isNaN(+a)||(o(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),i=n,n=a,a=i),n="string"==typeof n?+n:n,r=Le.duration(n,a),L(this,r,e),this}}function L(e,t,n,a){var r=t._milliseconds,i=t._days,o=t._months;a=null==a?!0:a,r&&e._d.setTime(+e._d+r*n),i&&he(e,"Date",pe(e,"Date")+i*n),o&&me(e,pe(e,"Month")+o*n),a&&Le.updateOffset(e,i||o)}function b(e){return"[object Array]"===Object.prototype.toString.call(e)}function T(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function w(e,t,n){var a,r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),o=0;for(a=0;r>a;a++)(n&&e[a]!==t[a]||!n&&S(e[a])!==S(t[a]))&&o++;return o+i}function k(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=ct[e]||ft[t]||t}return e}function Y(e){var t,a,r={};for(a in e)n(e,a)&&(t=k(a),t&&(r[t]=e[a]));return r}function D(t){var n,a;if(0===t.indexOf("week"))n=7,a="day";else{if(0!==t.indexOf("month"))return;n=12,a="month"}Le[t]=function(r,i){var o,s,l=Le._locale[t],d=[];if("number"==typeof r&&(i=r,r=e),s=function(e){var t=Le().utc().set(a,e);return l.call(Le._locale,t,r||"")},null!=i)return s(i);for(o=0;n>o;o++)d.push(s(o));return d}}function S(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function x(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function E(e,t,n){return de(Le([e,11,31+t-n]),t,n).week}function C(e){return A(e)?366:365}function A(e){return e%4===0&&e%100!==0||e%400===0}function N(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[xe]<0||e._a[xe]>11?xe:e._a[Ee]<1||e._a[Ee]>x(e._a[Se],e._a[xe])?Ee:e._a[Ce]<0||e._a[Ce]>24||24===e._a[Ce]&&(0!==e._a[Ae]||0!==e._a[Ne]||0!==e._a[$e])?Ce:e._a[Ae]<0||e._a[Ae]>59?Ae:e._a[Ne]<0||e._a[Ne]>59?Ne:e._a[$e]<0||e._a[$e]>999?$e:-1,e._pf._overflowDayOfYear&&(Se>t||t>Ee)&&(t=Ee),e._pf.overflow=t)}function $(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&t._pf.bigHour===e)),t._isValid}function R(e){return e?e.toLowerCase().replace("_","-"):e}function O(e){for(var t,n,a,r,i=0;i<e.length;){for(r=R(e[i]).split("-"),t=r.length,n=R(e[i+1]),n=n?n.split("-"):null;t>0;){if(a=H(r.slice(0,t).join("-")))return a;if(n&&n.length>=t&&w(r,n,!0)>=t-1)break;t--}i++}return null}function H(e){var t=null;if(!Re[e]&&He)try{t=Le.locale(),require("./locale/"+e),Le.locale(t)}catch(n){}return Re[e]}function j(e,t){var n,a;return t._isUTC?(n=t.clone(),a=(Le.isMoment(e)||T(e)?+e:+Le(e))-+n,n._d.setTime(+n._d+a),Le.updateOffset(n,!1),n):Le(e).local()}function W(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function P(e){var t,n,a=e.match(Fe);for(t=0,n=a.length;n>t;t++)a[t]=gt[a[t]]?gt[a[t]]:W(a[t]);return function(r){var i="";for(t=0;n>t;t++)i+=a[t]instanceof Function?a[t].call(r,e):a[t];return i}}function F(e,t){return e.isValid()?(t=I(t,e.localeData()),mt[t]||(mt[t]=P(t)),mt[t](e)):e.localeData().invalidDate()}function I(e,t){function n(e){return t.longDateFormat(e)||e}var a=5;for(Ie.lastIndex=0;a>=0&&Ie.test(e);)e=e.replace(Ie,n),Ie.lastIndex=0,a-=1;return e}function z(e,t){var n,a=t._strict;switch(e){case"Q":return Qe;case"DDDD":return tt;case"YYYY":case"GGGG":case"gggg":return a?nt:Ue;case"Y":case"G":case"g":return rt;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return a?at:qe;case"S":if(a)return Qe;case"SS":if(a)return et;case"SSS":if(a)return tt;case"DDD":return Be;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ge;case"a":case"A":return t._locale._meridiemParse;case"x":return Ze;case"X":return Xe;case"Z":case"ZZ":return Je;case"T":return Ke;case"SSSS":return Ve;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return a?et:ze;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return ze;case"Do":return a?t._locale._ordinalParse:t._locale._ordinalParseLenient;default:return n=new RegExp(X(Z(e.replace("\\","")),"i"))}}function B(e){e=e||"";var t=e.match(Je)||[],n=t[t.length-1]||[],a=(n+"").match(dt)||["-",0,0],r=+(60*a[1])+S(a[2]);return"+"===a[0]?r:-r}function U(e,t,n){var a,r=n._a;switch(e){case"Q":null!=t&&(r[xe]=3*(S(t)-1));break;case"M":case"MM":null!=t&&(r[xe]=S(t)-1);break;case"MMM":case"MMMM":a=n._locale.monthsParse(t,e,n._strict),null!=a?r[xe]=a:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(r[Ee]=S(t));break;case"Do":null!=t&&(r[Ee]=S(parseInt(t.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=S(t));break;case"YY":r[Se]=Le.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":r[Se]=S(t);break;case"a":case"A":n._meridiem=t;break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":r[Ce]=S(t);break;case"m":case"mm":r[Ae]=S(t);break;case"s":case"ss":r[Ne]=S(t);break;case"S":case"SS":case"SSS":case"SSSS":r[$e]=S(1e3*("0."+t));break;case"x":n._d=new Date(S(t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=B(t);break;case"dd":case"ddd":case"dddd":a=n._locale.weekdaysParse(t),null!=a?(n._w=n._w||{},n._w.d=a):n._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=S(t));break;case"gg":case"GG":n._w=n._w||{},n._w[e]=Le.parseTwoDigitYear(t)}}function q(e){var n,a,r,i,o,s,l;n=e._w,null!=n.GG||null!=n.W||null!=n.E?(o=1,s=4,a=t(n.GG,e._a[Se],de(Le(),1,4).year),r=t(n.W,1),i=t(n.E,1)):(o=e._locale._week.dow,s=e._locale._week.doy,a=t(n.gg,e._a[Se],de(Le(),o,s).year),r=t(n.w,1),null!=n.d?(i=n.d,o>i&&++r):i=null!=n.e?n.e+o:o),l=ue(a,r,i,s,o),e._a[Se]=l.year,e._dayOfYear=l.dayOfYear}function V(e){var n,a,r,i,o=[];if(!e._d){for(r=J(e),e._w&&null==e._a[Ee]&&null==e._a[xe]&&q(e),e._dayOfYear&&(i=t(e._a[Se],r[Se]),e._dayOfYear>C(i)&&(e._pf._overflowDayOfYear=!0),a=ie(i,0,e._dayOfYear),e._a[xe]=a.getUTCMonth(),e._a[Ee]=a.getUTCDate()),n=0;3>n&&null==e._a[n];++n)e._a[n]=o[n]=r[n];for(;7>n;n++)e._a[n]=o[n]=null==e._a[n]?2===n?1:0:e._a[n];24===e._a[Ce]&&0===e._a[Ae]&&0===e._a[Ne]&&0===e._a[$e]&&(e._nextDay=!0,e._a[Ce]=0),e._d=(e._useUTC?ie:re).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ce]=24)}}function G(e){var t;e._d||(t=Y(e._i),e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],V(e))}function J(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function K(t){if(t._f===Le.ISO_8601)return void ee(t);t._a=[],t._pf.empty=!0;var n,a,r,i,o,s=""+t._i,l=s.length,d=0;for(r=I(t._f,t._locale).match(Fe)||[],n=0;n<r.length;n++)i=r[n],a=(s.match(z(i,t))||[])[0],a&&(o=s.substr(0,s.indexOf(a)),o.length>0&&t._pf.unusedInput.push(o),s=s.slice(s.indexOf(a)+a.length),d+=a.length),gt[i]?(a?t._pf.empty=!1:t._pf.unusedTokens.push(i),U(i,a,t)):t._strict&&!a&&t._pf.unusedTokens.push(i);t._pf.charsLeftOver=l-d,s.length>0&&t._pf.unusedInput.push(s),t._pf.bigHour===!0&&t._a[Ce]<=12&&(t._pf.bigHour=e),t._a[Ce]=u(t._locale,t._a[Ce],t._meridiem),V(t),N(t)}function Z(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,a,r){return t||n||a||r})}function X(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(e){var t,n,r,i,o;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=h({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf=a(),t._f=e._f[i],K(t),$(t)&&(o+=t._pf.charsLeftOver,o+=10*t._pf.unusedTokens.length,t._pf.score=o,(null==r||r>o)&&(r=o,n=t));p(e,n||t)}function ee(e){var t,n,a=e._i,r=it.exec(a);if(r){for(e._pf.iso=!0,t=0,n=st.length;n>t;t++)if(st[t][1].exec(a)){e._f=st[t][0]+(r[6]||" ");break}for(t=0,n=lt.length;n>t;t++)if(lt[t][1].exec(a)){e._f+=lt[t][0];break}a.match(Je)&&(e._f+="Z"),K(e)}else e._isValid=!1}function te(e){ee(e),e._isValid===!1&&(delete e._isValid,Le.createFromInputFallback(e))}function ne(e,t){var n,a=[];for(n=0;n<e.length;++n)a.push(t(e[n],n));return a}function ae(t){var n,a=t._i;a===e?t._d=new Date:T(a)?t._d=new Date(+a):null!==(n=je.exec(a))?t._d=new Date(+n[1]):"string"==typeof a?te(t):b(a)?(t._a=ne(a.slice(0),function(e){return parseInt(e,10)}),V(t)):"object"==typeof a?G(t):"number"==typeof a?t._d=new Date(a):Le.createFromInputFallback(t)}function re(e,t,n,a,r,i,o){var s=new Date(e,t,n,a,r,i,o);return 1970>e&&s.setFullYear(e),s}function ie(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function oe(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function se(e,t,n,a,r){return r.relativeTime(t||1,!!n,e,a)}function le(e,t,n){var a=Le.duration(e).abs(),r=Ye(a.as("s")),i=Ye(a.as("m")),o=Ye(a.as("h")),s=Ye(a.as("d")),l=Ye(a.as("M")),d=Ye(a.as("y")),u=r<pt.s&&["s",r]||1===i&&["m"]||i<pt.m&&["mm",i]||1===o&&["h"]||o<pt.h&&["hh",o]||1===s&&["d"]||s<pt.d&&["dd",s]||1===l&&["M"]||l<pt.M&&["MM",l]||1===d&&["y"]||["yy",d];return u[2]=t,u[3]=+e>0,u[4]=n,se.apply({},u)}function de(e,t,n){var a,r=n-t,i=n-e.day();return i>r&&(i-=7),r-7>i&&(i+=7),a=Le(e).add(i,"d"),{week:Math.ceil(a.dayOfYear()/7),year:a.year()}}function ue(e,t,n,a,r){var i,o,s=ie(e,0,1).getUTCDay();return s=0===s?7:s,n=null!=n?n:r,i=r-s+(s>a?7:0)-(r>s?7:0),o=7*(t-1)+(n-r)+i+1,{year:o>0?e:e-1,dayOfYear:o>0?o:C(e-1)+o}}function ce(t){var n,a=t._i,r=t._f;return t._locale=t._locale||Le.localeData(t._l),null===a||r===e&&""===a?Le.invalid({nullInput:!0}):("string"==typeof a&&(t._i=a=t._locale.preparse(a)),Le.isMoment(a)?new f(a,!0):(r?b(r)?Q(t):K(t):ae(t),n=new f(t),n._nextDay&&(n.add(1,"d"),n._nextDay=e),n))}function fe(e,t){var n,a;if(1===t.length&&b(t[0])&&(t=t[0]),!t.length)return Le();for(n=t[0],a=1;a<t.length;++a)t[a][e](n)&&(n=t[a]);return n}function me(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),x(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function pe(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function he(e,t,n){return"Month"===t?me(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function _e(e,t){return function(n){return null!=n?(he(this,e,n),Le.updateOffset(this,t),this):pe(this,e)}}function ge(e){return 400*e/146097}function ve(e){return 146097*e/400}function ye(e){Le.duration.fn[e]=function(){return this._data[e]}}function Me(e){"undefined"==typeof ender&&(be=ke.moment,ke.moment=e?i("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",Le):Le)}for(var Le,be,Te,we="2.9.0",ke="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,Ye=Math.round,De=Object.prototype.hasOwnProperty,Se=0,xe=1,Ee=2,Ce=3,Ae=4,Ne=5,$e=6,Re={},Oe=[],He="undefined"!=typeof module&&module&&module.exports,je=/^\/?Date\((\-?\d+)/i,We=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Pe=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Fe=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Ie=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ze=/\d\d?/,Be=/\d{1,3}/,Ue=/\d{1,4}/,qe=/[+\-]?\d{1,6}/,Ve=/\d+/,Ge=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Je=/Z|[\+\-]\d\d:?\d\d/gi,Ke=/T/i,Ze=/[\+\-]?\d+/,Xe=/[\+\-]?\d+(\.\d{1,3})?/,Qe=/\d/,et=/\d\d/,tt=/\d{3}/,nt=/\d{4}/,at=/[+-]?\d{6}/,rt=/[+-]?\d+/,it=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ot="YYYY-MM-DDTHH:mm:ssZ",st=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],lt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],dt=/([\+\-]|\d\d)/gi,ut=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),ct={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},ft={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},mt={},pt={s:45,m:45,h:22,d:26,M:11},ht="DDD w W M D d".split(" "),_t="M D H h m s w W".split(" "),gt={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return g(this.year()%100,2)},YYYY:function(){return g(this.year(),4)},YYYYY:function(){return g(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+g(Math.abs(e),6)},gg:function(){return g(this.weekYear()%100,2)},gggg:function(){return g(this.weekYear(),4)},ggggg:function(){return g(this.weekYear(),5)},GG:function(){return g(this.isoWeekYear()%100,2)},GGGG:function(){return g(this.isoWeekYear(),4)},GGGGG:function(){return g(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return S(this.milliseconds()/100)},SS:function(){return g(S(this.milliseconds()/10),2)},SSS:function(){return g(this.milliseconds(),3)},SSSS:function(){return g(this.milliseconds(),3)},Z:function(){var e=this.utcOffset(),t="+";return 0>e&&(e=-e,t="-"),t+g(S(e/60),2)+":"+g(S(e)%60,2)},ZZ:function(){var e=this.utcOffset(),t="+";return 0>e&&(e=-e,t="-"),t+g(S(e/60),2)+g(S(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},vt={},yt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],Mt=!1;ht.length;)Te=ht.pop(),gt[Te+"o"]=l(gt[Te],Te);for(;_t.length;)Te=_t.pop(),gt[Te+Te]=s(gt[Te],2);gt.DDDD=s(gt.DDD,3),p(c.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e,t,n){var a,r,i;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;12>a;a++){if(r=Le.utc([2e3,a]),n&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[a]||(i="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[a]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[a].test(e))return a;if(n&&"MMM"===t&&this._shortMonthsParse[a].test(e))return a;if(!n&&this._monthsParse[a].test(e))return a}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,a;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=Le([2e3,1]).day(t),a="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(a.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t,n){var a=this._calendar[e];return"function"==typeof a?a.apply(t,[n]):a},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,a){var r=this._relativeTime[n];return"function"==typeof r?r(e,t,n,a):r.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(e){return e},postformat:function(e){return e},week:function(e){return de(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),Le=function(t,n,r,i){var o;return"boolean"==typeof r&&(i=r,r=e),o={},o._isAMomentObject=!0,o._i=t,o._f=n,o._l=r,o._strict=i,o._isUTC=!1,o._pf=a(),ce(o)},Le.suppressDeprecationWarnings=!1,Le.createFromInputFallback=i("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),Le.min=function(){var e=[].slice.call(arguments,0);return fe("isBefore",e)},Le.max=function(){var e=[].slice.call(arguments,0);return fe("isAfter",e)},Le.utc=function(t,n,r,i){var o;return"boolean"==typeof r&&(i=r,r=e),o={},o._isAMomentObject=!0,o._useUTC=!0,o._isUTC=!0,o._l=r,o._i=t,o._f=n,o._strict=i,o._pf=a(),ce(o).utc()},Le.unix=function(e){return Le(1e3*e)},Le.duration=function(e,t){var a,r,i,o,s=e,l=null;return Le.isDuration(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(l=We.exec(e))?(a="-"===l[1]?-1:1,s={y:0,d:S(l[Ee])*a,h:S(l[Ce])*a,m:S(l[Ae])*a,s:S(l[Ne])*a,ms:S(l[$e])*a}):(l=Pe.exec(e))?(a="-"===l[1]?-1:1,i=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*a},s={y:i(l[2]),M:i(l[3]),d:i(l[4]),h:i(l[5]),m:i(l[6]),s:i(l[7]),w:i(l[8])}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(o=y(Le(s.from),Le(s.to)),s={},s.ms=o.milliseconds,s.M=o.months),r=new m(s),Le.isDuration(e)&&n(e,"_locale")&&(r._locale=e._locale),r},Le.version=we,Le.defaultFormat=ot,Le.ISO_8601=function(){},Le.momentProperties=Oe,Le.updateOffset=function(){},Le.relativeTimeThreshold=function(t,n){return pt[t]===e?!1:n===e?pt[t]:(pt[t]=n,!0)},Le.lang=i("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return Le.locale(e,t)}),Le.locale=function(e,t){var n;return e&&(n="undefined"!=typeof t?Le.defineLocale(e,t):Le.localeData(e),n&&(Le.duration._locale=Le._locale=n)),Le._locale._abbr},Le.defineLocale=function(e,t){return null!==t?(t.abbr=e,Re[e]||(Re[e]=new c),Re[e].set(t),Le.locale(e),Re[e]):(delete Re[e],null)},Le.langData=i("moment.langData is deprecated. Use moment.localeData instead.",function(e){return Le.localeData(e)}),Le.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Le._locale;if(!b(e)){if(t=H(e))return t;e=[e]}return O(e)},Le.isMoment=function(e){return e instanceof f||null!=e&&n(e,"_isAMomentObject")},Le.isDuration=function(e){return e instanceof m};for(Te=yt.length-1;Te>=0;--Te)D(yt[Te]);Le.normalizeUnits=function(e){return k(e)},Le.invalid=function(e){var t=Le.utc(NaN);return null!=e?p(t._pf,e):t._pf.userInvalidated=!0,t},Le.parseZone=function(){return Le.apply(null,arguments).parseZone()},Le.parseTwoDigitYear=function(e){return S(e)+(S(e)>68?1900:2e3)},Le.isDate=T,p(Le.fn=f.prototype,{clone:function(){return Le(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=Le(this).utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():F(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):F(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return $(this)},isDSTShifted:function(){return this._a?this.isValid()&&w(this._a,(this._isUTC?Le.utc(this._a):Le(this._a)).toArray())>0:!1},parsingFlags:function(){return p({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.utcOffset(0,e)},local:function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(e){var t=F(this,e||Le.defaultFormat);return this.localeData().postformat(t)},add:M(1,"add"),subtract:M(-1,"subtract"),diff:function(e,t,n){var a,r,i=j(e,this),o=6e4*(i.utcOffset()-this.utcOffset());return t=k(t),"year"===t||"month"===t||"quarter"===t?(r=d(this,i),"quarter"===t?r/=3:"year"===t&&(r/=12)):(a=this-i,r="second"===t?a/1e3:"minute"===t?a/6e4:"hour"===t?a/36e5:"day"===t?(a-o)/864e5:"week"===t?(a-o)/6048e5:a),n?r:_(r)},from:function(e,t){return Le.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(Le(),e)},calendar:function(e){var t=e||Le(),n=j(t,this).startOf("day"),a=this.diff(n,"days",!0),r=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.localeData().calendar(r,this,Le(t)))},isLeapYear:function(){return A(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=oe(e,this.localeData()),this.add(e-t,"d")):t},month:_e("Month",!0),startOf:function(e){switch(e=k(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=k(t),t===e||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(e,t){var n;return t=k("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=Le.isMoment(e)?e:Le(e),+this>+e):(n=Le.isMoment(e)?+e:+Le(e),n<+this.clone().startOf(t))},isBefore:function(e,t){var n;return t=k("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=Le.isMoment(e)?e:Le(e),+e>+this):(n=Le.isMoment(e)?+e:+Le(e),+this.clone().endOf(t)<n)},isBetween:function(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)},isSame:function(e,t){var n;return t=k(t||"millisecond"),"millisecond"===t?(e=Le.isMoment(e)?e:Le(e),+this===+e):(n=+Le(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))},min:i("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=Le.apply(null,arguments),this>e?this:e}),max:i("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=Le.apply(null,arguments),e>this?this:e}),zone:i("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),utcOffset:function(e,t){var n,a=this._offset||0;return null!=e?("string"==typeof e&&(e=B(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(n=this._dateUtcOffset()),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),a!==e&&(!t||this._changeInProgress?L(this,Le.duration(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Le.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?a:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(B(this._i)),this},hasAlignedHourOffset:function(e){return e=e?Le(e).utcOffset():0,(this.utcOffset()-e)%60===0},daysInMonth:function(){return x(this.year(),this.month())},dayOfYear:function(e){var t=Ye((Le(this).startOf("day")-Le(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=de(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=de(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=de(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return E(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return E(this.year(),e.dow,e.doy)},get:function(e){return e=k(e),this[e]()},set:function(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else e=k(e),"function"==typeof this[e]&&this[e](t);return this},locale:function(t){var n;return t===e?this._locale._abbr:(n=Le.localeData(t),null!=n&&(this._locale=n),this)},lang:i("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===e?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),Le.fn.millisecond=Le.fn.milliseconds=_e("Milliseconds",!1),Le.fn.second=Le.fn.seconds=_e("Seconds",!1),Le.fn.minute=Le.fn.minutes=_e("Minutes",!1),Le.fn.hour=Le.fn.hours=_e("Hours",!0),Le.fn.date=_e("Date",!0),Le.fn.dates=i("dates accessor is deprecated. Use date instead.",_e("Date",!0)),Le.fn.year=_e("FullYear",!0),Le.fn.years=i("years accessor is deprecated. Use year instead.",_e("FullYear",!0)),Le.fn.days=Le.fn.day,Le.fn.months=Le.fn.month,Le.fn.weeks=Le.fn.week,Le.fn.isoWeeks=Le.fn.isoWeek,Le.fn.quarters=Le.fn.quarter,Le.fn.toJSON=Le.fn.toISOString,Le.fn.isUTC=Le.fn.isUtc,p(Le.duration.fn=m.prototype,{_bubble:function(){var e,t,n,a=this._milliseconds,r=this._days,i=this._months,o=this._data,s=0;o.milliseconds=a%1e3,e=_(a/1e3),o.seconds=e%60,t=_(e/60),o.minutes=t%60,n=_(t/60),o.hours=n%24,r+=_(n/24),s=_(ge(r)),r-=_(ve(s)),i+=_(r/30),r%=30,s+=_(i/12),i%=12,o.days=r,o.months=i,o.years=s},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return _(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12);
},humanize:function(e){var t=le(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var n=Le.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=Le.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=k(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,n;if(e=k(e),"month"===e||"year"===e)return t=this._days+this._milliseconds/864e5,n=this._months+12*ge(t),"month"===e?n:n/12;switch(t=this._days+Math.round(ve(this._months/12)),e){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 24*t*60+this._milliseconds/6e4;case"second":return 24*t*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*t*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+e)}},lang:Le.fn.lang,locale:Le.fn.locale,toIsoString:i("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),a=Math.abs(this.hours()),r=Math.abs(this.minutes()),i=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(a||r||i?"T":"")+(a?a+"H":"")+(r?r+"M":"")+(i?i+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),Le.duration.fn.toString=Le.duration.fn.toISOString;for(Te in ut)n(ut,Te)&&ye(Te.toLowerCase());Le.duration.fn.asMilliseconds=function(){return this.as("ms")},Le.duration.fn.asSeconds=function(){return this.as("s")},Le.duration.fn.asMinutes=function(){return this.as("m")},Le.duration.fn.asHours=function(){return this.as("h")},Le.duration.fn.asDays=function(){return this.as("d")},Le.duration.fn.asWeeks=function(){return this.as("weeks")},Le.duration.fn.asMonths=function(){return this.as("M")},Le.duration.fn.asYears=function(){return this.as("y")},Le.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===S(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),function(e){e(Le)}(function(e){return e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return 12>e?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Môre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){return e.defineLocale("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}})}),function(e){e(Le)}(function(e){var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};return e.defineLocale("ar-sa",{months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e){return 12>e?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(e){return n[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},week:{dow:6,doy:12}})}),function(e){e(Le)}(function(e){return e.defineLocale("ar-tn",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},a=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&10>=e%100?3:e%100>=11?4:5},r={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},i=function(e){return function(t,n){var i=a(t),o=r[e][a(t)];return 2===i&&(o=o[n?0:1]),o.replace(/%d/i,t)}},o=["كانون الثاني يناير","شباط فبراير","آذار مارس","نيسان أبريل","أيار مايو","حزيران يونيو","تموز يوليو","آب أغسطس","أيلول سبتمبر","تشرين الأول أكتوبر","تشرين الثاني نوفمبر","كانون الأول ديسمبر"];return e.defineLocale("ar",{months:o,monthsShort:o,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e){return 12>e?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(e){return n[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},week:{dow:6,doy:12}})}),function(e){e(Le)}(function(e){var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-üncü",4:"-üncü",100:"-üncü",6:"-ncı",9:"-uncu",10:"-uncu",30:"-uncu",60:"-ıncı",90:"-ıncı"};return e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə".split("_"),weekdaysShort:"Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən".split("_"),weekdaysMin:"Bz_BE_ÇA_Çə_CA_Cü_Şə".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gələn həftə] dddd [saat] LT",lastDay:"[dünən] LT",lastWeek:"[keçən həftə] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s əvvəl",s:"birneçə saniyyə",m:"bir dəqiqə",mm:"%d dəqiqə",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gecə|səhər|gündüz|axşam/,isPM:function(e){return/^(gündüz|axşam)$/.test(e)},meridiem:function(e){return 4>e?"gecə":12>e?"səhər":17>e?"gündüz":"axşam"},ordinalParse:/\d{1,2}-(ıncı|inci|nci|üncü|ncı|uncu)/,ordinal:function(e){if(0===e)return e+"-ıncı";var n=e%10,a=e%100-n,r=e>=100?100:null;return e+(t[n]||t[a]||t[r])},week:{dow:1,doy:7}})}),function(e){e(Le)}(function(e){function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?n[1]:n[2]}function n(e,n,a){var r={mm:n?"хвіліна_хвіліны_хвілін":"хвіліну_хвіліны_хвілін",hh:n?"гадзіна_гадзіны_гадзін":"гадзіну_гадзіны_гадзін",dd:"дзень_дні_дзён",MM:"месяц_месяцы_месяцаў",yy:"год_гады_гадоў"};return"m"===a?n?"хвіліна":"хвіліну":"h"===a?n?"гадзіна":"гадзіну":e+" "+t(r[a],+e)}function a(e,t){var n={nominative:"студзень_люты_сакавік_красавік_травень_чэрвень_ліпень_жнівень_верасень_кастрычнік_лістапад_снежань".split("_"),accusative:"студзеня_лютага_сакавіка_красавіка_траўня_чэрвеня_ліпеня_жніўня_верасня_кастрычніка_лістапада_снежня".split("_")},a=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[a][e.month()]}function r(e,t){var n={nominative:"нядзеля_панядзелак_аўторак_серада_чацвер_пятніца_субота".split("_"),accusative:"нядзелю_панядзелак_аўторак_сераду_чацвер_пятніцу_суботу".split("_")},a=/\[ ?[Вв] ?(?:мінулую|наступную)? ?\] ?dddd/.test(t)?"accusative":"nominative";return n[a][e.day()]}return e.defineLocale("be",{months:a,monthsShort:"студ_лют_сак_крас_трав_чэрв_ліп_жнів_вер_каст_ліст_снеж".split("_"),weekdays:r,weekdaysShort:"нд_пн_ат_ср_чц_пт_сб".split("_"),weekdaysMin:"нд_пн_ат_ср_чц_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., LT",LLLL:"dddd, D MMMM YYYY г., LT"},calendar:{sameDay:"[Сёння ў] LT",nextDay:"[Заўтра ў] LT",lastDay:"[Учора ў] LT",nextWeek:function(){return"[У] dddd [ў] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[У мінулую] dddd [ў] LT";case 1:case 2:case 4:return"[У мінулы] dddd [ў] LT"}},sameElse:"L"},relativeTime:{future:"праз %s",past:"%s таму",s:"некалькі секунд",m:n,mm:n,h:n,hh:n,d:"дзень",dd:n,M:"месяц",MM:n,y:"год",yy:n},meridiemParse:/ночы|раніцы|дня|вечара/,isPM:function(e){return/^(дня|вечара)$/.test(e)},meridiem:function(e){return 4>e?"ночы":12>e?"раніцы":17>e?"дня":"вечара"},ordinalParse:/\d{1,2}-(і|ы|га)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!==2&&e%10!==3||e%100===12||e%100===13?e+"-ы":e+"-і";case"D":return e+"-га";default:return e}},week:{dow:1,doy:7}})}),function(e){e(Le)}(function(e){return e.defineLocale("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"янр_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[В изминалата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[В изминалия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дни",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},ordinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":n>10&&20>n?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})}),function(e){e(Le)}(function(e){var t={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},n={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};return e.defineLocale("bn",{months:"জানুয়ারী_ফেবুয়ারী_মার্চ_এপ্রিল_মে_জুন_জুলাই_অগাস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব_মার্চ_এপর_মে_জুন_জুল_অগ_সেপ্ট_অক্টো_নভ_ডিসেম্".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পত্তিবার_শুক্রুবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পত্তি_শুক্রু_শনি".split("_"),weekdaysMin:"রব_সম_মঙ্গ_বু_ব্রিহ_শু_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কএক সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(e){return e.replace(/[১২৩৪৫৬৭৮৯০]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/রাত|শকাল|দুপুর|বিকেল|রাত/,isPM:function(e){return/^(দুপুর|বিকেল|রাত)$/.test(e)},meridiem:function(e){return 4>e?"রাত":10>e?"শকাল":17>e?"দুপুর":20>e?"বিকেল":"রাত"},week:{dow:0,doy:6}})}),function(e){e(Le)}(function(e){var t={1:"༡",2:"༢",3:"༣",4:"༤",5:"༥",6:"༦",7:"༧",8:"༨",9:"༩",0:"༠"},n={"༡":"1","༢":"2","༣":"3","༤":"4","༥":"5","༦":"6","༧":"7","༨":"8","༩":"9","༠":"0"};return e.defineLocale("bo",{months:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),monthsShort:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),weekdays:"གཟའ་ཉི་མ་_གཟའ་ཟླ་བ་_གཟའ་མིག་དམར་_གཟའ་ལྷག་པ་_གཟའ་ཕུར་བུ_གཟའ་པ་སངས་_གཟའ་སྤེན་པ་".split("_"),weekdaysShort:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),weekdaysMin:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),longDateFormat:{LT:"A h:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[དི་རིང] LT",nextDay:"[སང་ཉིན] LT",nextWeek:"[བདུན་ཕྲག་རྗེས་མ], LT",lastDay:"[ཁ་སང] LT",lastWeek:"[བདུན་ཕྲག་མཐའ་མ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ལ་",past:"%s སྔན་ལ",s:"ལམ་སང",m:"སྐར་མ་གཅིག",mm:"%d སྐར་མ",h:"ཆུ་ཚོད་གཅིག",hh:"%d ཆུ་ཚོད",d:"ཉིན་གཅིག",dd:"%d ཉིན་",M:"ཟླ་བ་གཅིག",MM:"%d ཟླ་བ",y:"ལོ་གཅིག",yy:"%d ལོ"},preparse:function(e){return e.replace(/[༡༢༣༤༥༦༧༨༩༠]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/མཚན་མོ|ཞོགས་ཀས|ཉིན་གུང|དགོང་དག|མཚན་མོ/,isPM:function(e){return/^(ཉིན་གུང|དགོང་དག|མཚན་མོ)$/.test(e)},meridiem:function(e){return 4>e?"མཚན་མོ":10>e?"ཞོགས་ཀས":17>e?"ཉིན་གུང":20>e?"དགོང་དག":"མཚན་མོ"},week:{dow:0,doy:6}})}),function(e){e(Le)}(function(t){function n(e,t,n){var a={mm:"munutenn",MM:"miz",dd:"devezh"};return e+" "+i(a[n],e)}function a(e){switch(r(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function r(e){return e>9?r(e%10):e}function i(e,t){return 2===t?o(e):e}function o(t){var n={m:"v",b:"v",d:"z"};return n[t.charAt(0)]===e?t:n[t.charAt(0)]+t.substring(1)}return t.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY LT",LLLL:"dddd, D [a viz] MMMM YYYY LT"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondennoù",m:"ur vunutenn",mm:n,h:"un eur",hh:"%d eur",d:"un devezh",dd:n,M:"ur miz",MM:n,y:"ur bloaz",yy:a},ordinalParse:/\d{1,2}(añ|vet)/,ordinal:function(e){var t=1===e?"añ":"vet";return e+t},week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){function t(e,t,n){var a=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":return a+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return a+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return a+=1===e?"dan":"dana";case"MM":return a+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return a+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}return e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(Le)}(function(e){return e.defineLocale("ca",{months:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"è";return("w"===t||"W"===t)&&(n="a"),e+n},week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){function t(e){return e>1&&5>e&&1!==~~(e/10)}function n(e,n,a,r){var i=e+" ";switch(a){case"s":return n||r?"pár sekund":"pár sekundami";case"m":return n?"minuta":r?"minutu":"minutou";case"mm":return n||r?i+(t(e)?"minuty":"minut"):i+"minutami";case"h":return n?"hodina":r?"hodinu":"hodinou";case"hh":return n||r?i+(t(e)?"hodiny":"hodin"):i+"hodinami";case"d":return n||r?"den":"dnem";case"dd":return n||r?i+(t(e)?"dny":"dní"):i+"dny";case"M":return n||r?"měsíc":"měsícem";case"MM":return n||r?i+(t(e)?"měsíce":"měsíců"):i+"měsíci";case"y":return n||r?"rok":"rokem";case"yy":return n||r?i+(t(e)?"roky":"let"):i+"lety"}}var a="leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),r="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_");return e.defineLocale("cs",{months:a,monthsShort:r,monthsParse:function(e,t){var n,a=[];for(n=0;12>n;n++)a[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return a}(a,r),weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){return e.defineLocale("cv",{months:"кăрлач_нарăс_пуш_ака_май_çĕртме_утă_çурла_авăн_юпа_чӳк_раштав".split("_"),monthsShort:"кăр_нар_пуш_ака_май_çĕр_утă_çур_ав_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кĕçнерникун_эрнекун_шăматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кĕç_эрн_шăм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кç_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ]",LLL:"YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ], LT",LLLL:"dddd, YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ], LT"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ĕнер] LT [сехетре]",nextWeek:"[Çитес] dddd LT [сехетре]",lastWeek:"[Иртнĕ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(e){var t=/сехет$/i.exec(e)?"рен":/çул$/i.exec(e)?"тан":"ран";return e+t},past:"%s каялла",s:"пĕр-ик çеккунт",m:"пĕр минут",mm:"%d минут",h:"пĕр сехет",hh:"%d сехет",d:"пĕр кун",dd:"%d кун",M:"пĕр уйăх",MM:"%d уйăх",y:"пĕр çул",yy:"%d çул"},ordinalParse:/\d{1,2}-мĕш/,ordinal:"%d-мĕш",week:{dow:1,doy:7}})}),function(e){e(Le)}(function(e){return e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t=e,n="",a=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return t>20?n=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(n=a[t]),e+n},week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){return e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd [d.] D. MMMM YYYY LT"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I går kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){function t(e,t,n){var a={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?a[n][0]:a[n][1]}return e.defineLocale("de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT [Uhr]",sameElse:"L",nextDay:"[Morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[Gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){function t(e,t,n){var a={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?a[n][0]:a[n][1]}return e.defineLocale("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT [Uhr]",sameElse:"L",nextDay:"[Morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[Gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){return e.defineLocale("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(e,t){return/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(e,t,n){return e>11?n?"μμ":"ΜΜ":n?"πμ":"ΠΜ"},isPM:function(e){return"μ"===(e+"").toLowerCase()[0]},meridiemParse:/[ΠΜ]\.?Μ?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[το προηγούμενο] dddd [{}] LT";default:return"[την προηγούμενη] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var n=this._calendarEl[e],a=t&&t.hours();return"function"==typeof n&&(n=n.apply(t)),n.replace("{}",a%12===1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"λίγα δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},ordinalParse:/\d{1,2}η/,ordinal:"%dη",week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){return e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){return e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{
LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"D MMMM, YYYY",LLL:"D MMMM, YYYY LT",LLLL:"dddd, D MMMM, YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}})}),function(e){e(Le)}(function(e){return e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){return e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aŭg_sep_okt_nov_dec".split("_"),weekdays:"Dimanĉo_Lundo_Mardo_Merkredo_Ĵaŭdo_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_Ĵaŭ_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Ĵa_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY LT",LLLL:"dddd, [la] D[-an de] MMMM, YYYY LT"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"antaŭ %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}),function(e){e(Le)}(function(e){var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");return e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,a){return/-MMM-/.test(a)?n[e.month()]:t[e.month()]},weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sá".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){function t(e,t,n,a){var r={s:["mõne sekundi","mõni sekund","paar sekundit"],m:["ühe minuti","üks minut"],mm:[e+" minuti",e+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[e+" tunni",e+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[e+" kuu",e+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[e+" aasta",e+" aastat"]};return t?r[n][2]?r[n][2]:r[n][1]:a?r[n][0]:r[n][1]}return e.defineLocale("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d päeva",M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){return e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] LT",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] LT",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] LT",llll:"ddd, YYYY[ko] MMM D[a] LT"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(Le)}(function(e){var t={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"},n={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"};return e.defineLocale("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},meridiemParse:/قبل از ظهر|بعد از ظهر/,isPM:function(e){return/بعد از ظهر/.test(e)},meridiem:function(e){return 12>e?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چندین ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(e){return e.replace(/[۰-۹]/g,function(e){return n[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},ordinalParse:/\d{1,2}م/,ordinal:"%dم",week:{dow:6,doy:12}})}),function(e){e(Le)}(function(e){function t(e,t,a,r){var i="";switch(a){case"s":return r?"muutaman sekunnin":"muutama sekunti";case"m":return r?"minuutin":"minuutti";case"mm":i=r?"minuutin":"minuuttia";break;case"h":return r?"tunnin":"tunti";case"hh":i=r?"tunnin":"tuntia";break;case"d":return r?"päivän":"päivä";case"dd":i=r?"päivän":"päivää";break;case"M":return r?"kuukauden":"kuukausi";case"MM":i=r?"kuukauden":"kuukautta";break;case"y":return r?"vuoden":"vuosi";case"yy":i=r?"vuoden":"vuotta"}return i=n(e,r)+" "+i}function n(e,t){return 10>e?t?r[e]:a[e]:e}var a="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),r=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",a[7],a[8],a[9]];return e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] LT",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] LT",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] LT",llll:"ddd, Do MMM YYYY, [klo] LT"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){return e.defineLocale("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D. MMMM, YYYY LT"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaði",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){return e.defineLocale("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(e){return e+(1===e?"er":"")}})}),function(e){e(Le)}(function(e){return e.defineLocale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(e){return e+(1===e?"er":"")},week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");return e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,a){return/-MMM-/.test(a)?n[e.month()]:t[e.month()]},weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[ôfrûne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien minút",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){return e.defineLocale("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xuño_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),monthsShort:"Xan._Feb._Mar._Abr._Mai._Xuñ._Xul._Ago._Set._Out._Nov._Dec.".split("_"),weekdays:"Domingo_Luns_Martes_Mércores_Xoves_Venres_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mér._Xov._Ven._Sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mé_Xo_Ve_Sá".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return"uns segundos"===e?"nuns segundos":"en "+e},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:7}})}),function(e){e(Le)}(function(e){return e.defineLocale("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY LT",LLLL:"dddd, D [ב]MMMM YYYY LT",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(e){return 2===e?"שעתיים":e+" שעות"},d:"יום",dd:function(e){return 2===e?"יומיים":e+" ימים"},M:"חודש",MM:function(e){return 2===e?"חודשיים":e+" חודשים"},y:"שנה",yy:function(e){return 2===e?"שנתיים":e%10===0&&10!==e?e+" שנה":e+" שנים"}}})}),function(e){e(Le)}(function(e){var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return e.defineLocale("hi",{months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/रात|सुबह|दोपहर|शाम/,meridiemHour:function(e,t){return 12===e&&(e=0),"रात"===t?4>e?e:e+12:"सुबह"===t?e:"दोपहर"===t?e>=10?e:e+12:"शाम"===t?e+12:void 0},meridiem:function(e){return 4>e?"रात":10>e?"सुबह":17>e?"दोपहर":20>e?"शाम":"रात"},week:{dow:0,doy:6}})}),function(e){e(Le)}(function(e){function t(e,t,n){var a=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":return a+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return a+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return a+=1===e?"dan":"dana";case"MM":return a+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return a+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}return e.defineLocale("hr",{months:"sječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),monthsShort:"sje._vel._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(Le)}(function(e){function t(e,t,n,a){var r=e;switch(n){case"s":return a||t?"néhány másodperc":"néhány másodperce";case"m":return"egy"+(a||t?" perc":" perce");case"mm":return r+(a||t?" perc":" perce");case"h":return"egy"+(a||t?" óra":" órája");case"hh":return r+(a||t?" óra":" órája");case"d":return"egy"+(a||t?" nap":" napja");case"dd":return r+(a||t?" nap":" napja");case"M":return"egy"+(a||t?" hónap":" hónapja");case"MM":return r+(a||t?" hónap":" hónapja");case"y":return"egy"+(a||t?" év":" éve");case"yy":return r+(a||t?" év":" éve")}return""}function n(e){return(e?"":"[múlt] ")+"["+a[this.day()]+"] LT[-kor]"}var a="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");return e.defineLocale("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D., LT",LLLL:"YYYY. MMMM D., dddd LT"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return 12>e?n===!0?"de":"DE":n===!0?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return n.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return n.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(Le)}(function(e){function t(e,t){var n={nominative:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_"),accusative:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_")},a=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[a][e.month()]}function n(e){var t="հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_");return t[e.month()]}function a(e){var t="կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_");return t[e.day()]}return e.defineLocale("hy-am",{months:t,monthsShort:n,weekdays:a,weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., LT",LLLL:"dddd, D MMMM YYYY թ., LT"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiemParse:/գիշերվա|առավոտվա|ցերեկվա|երեկոյան/,isPM:function(e){return/^(ցերեկվա|երեկոյան)$/.test(e)},meridiem:function(e){return 4>e?"գիշերվա":12>e?"առավոտվա":17>e?"ցերեկվա":"երեկոյան"},ordinalParse:/\d{1,2}|\d{1,2}-(ին|րդ)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-ին":e+"-րդ";default:return e}},week:{dow:1,doy:7}})}),function(e){e(Le)}(function(e){return e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"LT.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e){return 11>e?"pagi":15>e?"siang":19>e?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}),function(e){e(Le)}(function(e){function t(e){return e%100===11?!0:e%10===1?!1:!0}function n(e,n,a,r){var i=e+" ";switch(a){case"s":return n||r?"nokkrar sekúndur":"nokkrum sekúndum";case"m":return n?"mínúta":"mínútu";case"mm":return t(e)?i+(n||r?"mínútur":"mínútum"):n?i+"mínúta":i+"mínútu";case"hh":return t(e)?i+(n||r?"klukkustundir":"klukkustundum"):i+"klukkustund";case"d":return n?"dagur":r?"dag":"degi";case"dd":return t(e)?n?i+"dagar":i+(r?"daga":"dögum"):n?i+"dagur":i+(r?"dag":"degi");case"M":return n?"mánuður":r?"mánuð":"mánuði";case"MM":return t(e)?n?i+"mánuðir":i+(r?"mánuði":"mánuðum"):n?i+"mánuður":i+(r?"mánuð":"mánuði");case"y":return n||r?"ár":"ári";case"yy":return t(e)?i+(n||r?"ár":"árum"):i+(n||r?"ár":"ári")}}return e.defineLocale("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd, D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){return e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_Lunedì_Martedì_Mercoledì_Giovedì_Venerdì_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"D_L_Ma_Me_G_V_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){return e.defineLocale("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"Ah時m分",LTS:"LTs秒",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日LT",LLLL:"YYYY年M月D日LT dddd"},meridiemParse:/午前|午後/i,isPM:function(e){return"午後"===e},meridiem:function(e){return 12>e?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})}),function(e){e(Le)}(function(e){function t(e,t){var n={nominative:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),accusative:"იანვარს_თებერვალს_მარტს_აპრილის_მაისს_ივნისს_ივლისს_აგვისტს_სექტემბერს_ოქტომბერს_ნოემბერს_დეკემბერს".split("_")},a=/D[oD] *MMMM?/.test(t)?"accusative":"nominative";return n[a][e.month()]}function n(e,t){var n={nominative:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),accusative:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_")},a=/(წინა|შემდეგ)/.test(t)?"accusative":"nominative";return n[a][e.day()]}return e.defineLocale("ka",{months:t,monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:n,weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(e){return/(წამი|წუთი|საათი|წელი)/.test(e)?e.replace(/ი$/,"ში"):e+"ში"},past:function(e){return/(წამი|წუთი|საათი|დღე|თვე)/.test(e)?e.replace(/(ი|ე)$/,"ის წინ"):/წელი/.test(e)?e.replace(/წელი$/,"წლის წინ"):void 0},s:"რამდენიმე წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},ordinalParse:/0|1-ლი|მე-\d{1,2}|\d{1,2}-ე/,ordinal:function(e){return 0===e?e:1===e?e+"-ლი":20>e||100>=e&&e%20===0||e%100===0?"მე-"+e:e+"-ე"},week:{dow:1,doy:7}})}),function(e){e(Le)}(function(e){return e.defineLocale("km",{months:"មករា_កុម្ភៈ_មិនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មិនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysMin:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ថ្ងៃនៈ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){return e.defineLocale("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h시 m분",LTS:"A h시 m분 s초",L:"YYYY.MM.DD",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 LT",LLLL:"YYYY년 MMMM D일 dddd LT"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇초",ss:"%d초",m:"일분",mm:"%d분",h:"한시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한달",MM:"%d달",y:"일년",yy:"%d년"},ordinalParse:/\d{1,2}일/,ordinal:"%d일",meridiemParse:/오전|오후/,isPM:function(e){return"오후"===e},meridiem:function(e){return 12>e?"오전":"오후"}})}),function(e){e(Le)}(function(e){function t(e,t,n){var a={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?a[n][0]:a[n][1]}function n(e){var t=e.substr(0,e.indexOf(" "));return r(t)?"a "+e:"an "+e}function a(e){var t=e.substr(0,e.indexOf(" "));return r(t)?"viru "+e:"virun "+e}function r(e){if(e=parseInt(e,10),isNaN(e))return!1;if(0>e)return!0;if(10>e)return e>=4&&7>=e?!0:!1;if(100>e){var t=e%10,n=e/10;return r(0===t?n:t)}if(1e4>e){for(;e>=10;)e/=10;return r(e)}return e/=1e3,r(e)}return e.defineLocale("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{
sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:n,past:a,s:"e puer Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Méint",y:t,yy:"%d Joer"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){function t(e,t,n,a){return t?"kelios sekundės":a?"kelių sekundžių":"kelias sekundes"}function n(e,t,n,a){return t?r(n)[0]:a?r(n)[1]:r(n)[2]}function a(e){return e%10===0||e>10&&20>e}function r(e){return s[e].split("_")}function i(e,t,i,o){var s=e+" ";return 1===e?s+n(e,t,i[0],o):t?s+(a(e)?r(i)[1]:r(i)[0]):o?s+r(i)[1]:s+(a(e)?r(i)[1]:r(i)[2])}function o(e,t){var n=-1===t.indexOf("dddd HH:mm"),a=l[e.day()];return n?a:a.substring(0,a.length-2)+"į"}var s={m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"},l="sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_");return e.defineLocale("lt",{months:"sausio_vasario_kovo_balandžio_gegužės_birželio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:o,weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], LT [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, LT [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], LT [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, LT [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:t,m:n,mm:i,h:n,hh:i,d:n,dd:i,M:n,MM:i,y:n,yy:i},ordinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){function t(e,t,n){var a=e.split("_");return n?t%10===1&&11!==t?a[2]:a[3]:t%10===1&&11!==t?a[0]:a[1]}function n(e,n,r){return e+" "+t(a[r],e,n)}var a={mm:"minūti_minūtes_minūte_minūtes",hh:"stundu_stundas_stunda_stundas",dd:"dienu_dienas_diena_dienas",MM:"mēnesi_mēnešus_mēnesis_mēneši",yy:"gadu_gadus_gads_gadi"};return e.defineLocale("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, LT",LLLL:"YYYY. [gada] D. MMMM, dddd, LT"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"%s vēlāk",past:"%s agrāk",s:"dažas sekundes",m:"minūti",mm:n,h:"stundu",hh:n,d:"dienu",dd:n,M:"mēnesi",MM:n,y:"gadu",yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){return e.defineLocale("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"dddd [во] LT",lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Во изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Во изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"после %s",past:"пред %s",s:"неколку секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",M:"месец",MM:"%d месеци",y:"година",yy:"%d години"},ordinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":n>10&&20>n?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})}),function(e){e(Le)}(function(e){return e.defineLocale("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",LTS:"A h:mm:ss -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiemParse:/രാത്രി|രാവിലെ|ഉച്ച കഴിഞ്ഞ്|വൈകുന്നേരം|രാത്രി/i,isPM:function(e){return/^(ഉച്ച കഴിഞ്ഞ്|വൈകുന്നേരം|രാത്രി)$/.test(e)},meridiem:function(e){return 4>e?"രാത്രി":12>e?"രാവിലെ":17>e?"ഉച്ച കഴിഞ്ഞ്":20>e?"വൈകുന്നേരം":"രാത്രി"}})}),function(e){e(Le)}(function(e){var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return e.defineLocale("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",LTS:"A h:mm:ss वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%s नंतर",past:"%s पूर्वी",s:"सेकंद",m:"एक मिनिट",mm:"%d मिनिटे",h:"एक तास",hh:"%d तास",d:"एक दिवस",dd:"%d दिवस",M:"एक महिना",MM:"%d महिने",y:"एक वर्ष",yy:"%d वर्षे"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/रात्री|सकाळी|दुपारी|सायंकाळी/,meridiemHour:function(e,t){return 12===e&&(e=0),"रात्री"===t?4>e?e:e+12:"सकाळी"===t?e:"दुपारी"===t?e>=10?e:e+12:"सायंकाळी"===t?e+12:void 0},meridiem:function(e){return 4>e?"रात्री":10>e?"सकाळी":17>e?"दुपारी":20>e?"सायंकाळी":"रात्री"},week:{dow:0,doy:6}})}),function(e){e(Le)}(function(e){return e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"LT.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e){return 11>e?"pagi":15>e?"tengahari":19>e?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}),function(e){e(Le)}(function(e){var t={1:"၁",2:"၂",3:"၃",4:"၄",5:"၅",6:"၆",7:"၇",8:"၈",9:"၉",0:"၀"},n={"၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","၀":"0"};return e.defineLocale("my",{months:"ဇန်နဝါရီ_ဖေဖော်ဝါရီ_မတ်_ဧပြီ_မေ_ဇွန်_ဇူလိုင်_သြဂုတ်_စက်တင်ဘာ_အောက်တိုဘာ_နိုဝင်ဘာ_ဒီဇင်ဘာ".split("_"),monthsShort:"ဇန်_ဖေ_မတ်_ပြီ_မေ_ဇွန်_လိုင်_သြ_စက်_အောက်_နို_ဒီ".split("_"),weekdays:"တနင်္ဂနွေ_တနင်္လာ_အင်္ဂါ_ဗုဒ္ဓဟူး_ကြာသပတေး_သောကြာ_စနေ".split("_"),weekdaysShort:"နွေ_လာ_င်္ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),weekdaysMin:"နွေ_လာ_င်္ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[ယနေ.] LT [မှာ]",nextDay:"[မနက်ဖြန်] LT [မှာ]",nextWeek:"dddd LT [မှာ]",lastDay:"[မနေ.က] LT [မှာ]",lastWeek:"[ပြီးခဲ့သော] dddd LT [မှာ]",sameElse:"L"},relativeTime:{future:"လာမည့် %s မှာ",past:"လွန်ခဲ့သော %s က",s:"စက္ကန်.အနည်းငယ်",m:"တစ်မိနစ်",mm:"%d မိနစ်",h:"တစ်နာရီ",hh:"%d နာရီ",d:"တစ်ရက်",dd:"%d ရက်",M:"တစ်လ",MM:"%d လ",y:"တစ်နှစ်",yy:"%d နှစ်"},preparse:function(e){return e.replace(/[၁၂၃၄၅၆၇၈၉၀]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){return e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tirs_ons_tors_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"H.mm",LTS:"LT.ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return e.defineLocale("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आइ._सो._मङ्_बु._बि._शु._श.".split("_"),longDateFormat:{LT:"Aको h:mm बजे",LTS:"Aको h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/राती|बिहान|दिउँसो|बेलुका|साँझ|राती/,meridiemHour:function(e,t){return 12===e&&(e=0),"राती"===t?3>e?e:e+12:"बिहान"===t?e:"दिउँसो"===t?e>=10?e:e+12:"बेलुका"===t||"साँझ"===t?e+12:void 0},meridiem:function(e){return 3>e?"राती":10>e?"बिहान":15>e?"दिउँसो":18>e?"बेलुका":20>e?"साँझ":"राती"},calendar:{sameDay:"[आज] LT",nextDay:"[भोली] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडी",s:"केही समय",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:1,doy:7}})}),function(e){e(Le)}(function(e){var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");return e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,a){return/-MMM-/.test(a)?n[e.month()]:t[e.month()]},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){return e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mån_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_må_ty_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){function t(e){return 5>e%10&&e%10>1&&~~(e/10)%10!==1}function n(e,n,a){var r=e+" ";switch(a){case"m":return n?"minuta":"minutę";case"mm":return r+(t(e)?"minuty":"minut");case"h":return n?"godzina":"godzinę";case"hh":return r+(t(e)?"godziny":"godzin");case"MM":return r+(t(e)?"miesiące":"miesięcy");case"yy":return r+(t(e)?"lata":"lat")}}var a="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),r="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_");return e.defineLocale("pl",{months:function(e,t){return/D MMMM/.test(t)?r[e.month()]:a[e.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"nie_pon_wt_śr_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:n,mm:n,h:n,hh:n,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:n,y:"rok",yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){return e.defineLocale("pt-br",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"dom_2ª_3ª_4ª_5ª_6ª_sáb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] LT",LLLL:"dddd, D [de] MMMM [de] YYYY [às] LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº"})}),function(e){e(Le)}(function(e){return e.defineLocale("pt",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"dom_2ª_3ª_4ª_5ª_6ª_sáb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){function t(e,t,n){var a={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},r=" ";return(e%100>=20||e>=100&&e%100===0)&&(r=" de "),e+r+a[n]}return e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",m:"un minut",mm:t,h:"o oră",hh:t,d:"o zi",dd:t,M:"o lună",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})}),function(e){e(Le)}(function(e){function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?n[1]:n[2]}function n(e,n,a){var r={mm:n?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};return"m"===a?n?"минута":"минуту":e+" "+t(r[a],+e)}function a(e,t){var n={nominative:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),accusative:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_")},a=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[a][e.month()]}function r(e,t){var n={nominative:"янв_фев_март_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),accusative:"янв_фев_мар_апр_мая_июня_июля_авг_сен_окт_ноя_дек".split("_")},a=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[a][e.month()]}function i(e,t){var n={nominative:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),accusative:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_")},a=/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?\] ?dddd/.test(t)?"accusative":"nominative";return n[a][e.day()]}return e.defineLocale("ru",{months:a,monthsShort:r,weekdays:i,weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[й|я]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i],longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., LT",LLLL:"dddd, D MMMM YYYY г., LT"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(){return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT"},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:n,mm:n,h:"час",hh:n,d:"день",dd:n,M:"месяц",MM:n,y:"год",yy:n},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(e){return/^(дня|вечера)$/.test(e)},meridiem:function(e){return 4>e?"ночи":12>e?"утра":17>e?"дня":"вечера"},ordinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-й";case"D":return e+"-го";case"w":case"W":return e+"-я";default:return e}},week:{dow:1,doy:7}})}),function(e){e(Le)}(function(e){function t(e){return e>1&&5>e}function n(e,n,a,r){var i=e+" ";switch(a){case"s":return n||r?"pár sekúnd":"pár sekundami";case"m":return n?"minúta":r?"minútu":"minútou";case"mm":return n||r?i+(t(e)?"minúty":"minút"):i+"minútami";case"h":return n?"hodina":r?"hodinu":"hodinou";case"hh":return n||r?i+(t(e)?"hodiny":"hodín"):i+"hodinami";case"d":return n||r?"deň":"dňom";case"dd":return n||r?i+(t(e)?"dni":"dní"):i+"dňami";case"M":return n||r?"mesiac":"mesiacom";case"MM":return n||r?i+(t(e)?"mesiace":"mesiacov"):i+"mesiacmi";case"y":return n||r?"rok":"rokom";case"yy":return n||r?i+(t(e)?"roky":"rokov"):i+"rokmi"}}var a="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),r="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");return e.defineLocale("sk",{months:a,monthsShort:r,monthsParse:function(e,t){var n,a=[];for(n=0;12>n;n++)a[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return a}(a,r),weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 4:case 5:return"[minulý] dddd [o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){function t(e,t,n){var a=e+" ";switch(n){case"m":return t?"ena minuta":"eno minuto";case"mm":return a+=1===e?"minuta":2===e?"minuti":3===e||4===e?"minute":"minut";case"h":return t?"ena ura":"eno uro";case"hh":return a+=1===e?"ura":2===e?"uri":3===e||4===e?"ure":"ur";case"dd":return a+=1===e?"dan":"dni";case"MM":return a+=1===e?"mesec":2===e?"meseca":3===e||4===e?"mesece":"mesecev";case"yy":return a+=1===e?"leto":2===e?"leti":3===e||4===e?"leta":"let"}}return e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[prejšnja] dddd [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"%s nazaj",s:"nekaj sekund",m:t,mm:t,h:t,hh:t,d:"en dan",dd:t,M:"en mesec",MM:t,y:"eno leto",yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(Le)}(function(e){return e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e){return 12>e?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){var t={words:{m:["један минут","једне минуте"],mm:["минут","минуте","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],dd:["дан","дана","дана"],MM:["месец","месеца","месеци"],yy:["година","године","година"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&4>=e?t[1]:t[2]},translate:function(e,n,a){var r=t.words[a];return 1===a.length?n?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}};return e.defineLocale("sr-cyrl",{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],monthsShort:["јан.","феб.","мар.","апр.","мај","јун","јул","авг.","сеп.","окт.","нов.","дец."],weekdays:["недеља","понедељак","уторак","среда","четвртак","петак","субота"],weekdaysShort:["нед.","пон.","уто.","сре.","чет.","пет.","суб."],weekdaysMin:["не","по","ут","ср","че","пе","су"],longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){var e=["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"дан",dd:t.translate,M:"месец",MM:t.translate,y:"годину",yy:t.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(Le)}(function(e){var t={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&4>=e?t[1]:t[2]},translate:function(e,n,a){var r=t.words[a];return 1===a.length?n?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}};return e.defineLocale("sr",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedelja","ponedeljak","utorak","sreda","četvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sre.","čet.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","če","pe","su"],longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){var e=["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(Le)}(function(e){return e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"dddd LT",lastWeek:"[Förra] dddd[en] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},ordinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"e":1===t?"a":2===t?"a":"e";return e+n},week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){return e.defineLocale("ta",{months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",
m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},ordinalParse:/\d{1,2}வது/,ordinal:function(e){return e+"வது"},meridiemParse:/யாமம்|வைகறை|காலை|நண்பகல்|எற்பாடு|மாலை/,meridiem:function(e){return 2>e?" யாமம்":6>e?" வைகறை":10>e?" காலை":14>e?" நண்பகல்":18>e?" எற்பாடு":22>e?" மாலை":" யாமம்"},meridiemHour:function(e,t){return 12===e&&(e=0),"யாமம்"===t?2>e?e:e+12:"வைகறை"===t||"காலை"===t?e:"நண்பகல்"===t&&e>=10?e:e+12},week:{dow:0,doy:6}})}),function(e){e(Le)}(function(e){return e.defineLocale("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"มกรา_กุมภา_มีนา_เมษา_พฤษภา_มิถุนา_กรกฎา_สิงหา_กันยา_ตุลา_พฤศจิกา_ธันวา".split("_"),weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),longDateFormat:{LT:"H นาฬิกา m นาที",LTS:"LT s วินาที",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา LT",LLLL:"วันddddที่ D MMMM YYYY เวลา LT"},meridiemParse:/ก่อนเที่ยง|หลังเที่ยง/,isPM:function(e){return"หลังเที่ยง"===e},meridiem:function(e){return 12>e?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}})}),function(e){e(Le)}(function(e){return e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM DD, YYYY LT"},calendar:{sameDay:"[Ngayon sa] LT",nextDay:"[Bukas sa] LT",nextWeek:"dddd [sa] LT",lastDay:"[Kahapon sa] LT",lastWeek:"dddd [huling linggo] LT",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};return e.defineLocale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinalParse:/\d{1,2}'(inci|nci|üncü|ncı|uncu|ıncı)/,ordinal:function(e){if(0===e)return e+"'ıncı";var n=e%10,a=e%100-n,r=e>=100?100:null;return e+(t[n]||t[a]||t[r])},week:{dow:1,doy:7}})}),function(e){e(Le)}(function(e){return e.defineLocale("tzm-latn",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}),function(e){e(Le)}(function(e){return e.defineLocale("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}})}),function(e){e(Le)}(function(e){function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?n[1]:n[2]}function n(e,n,a){var r={mm:"хвилина_хвилини_хвилин",hh:"година_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"};return"m"===a?n?"хвилина":"хвилину":"h"===a?n?"година":"годину":e+" "+t(r[a],+e)}function a(e,t){var n={nominative:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_"),accusative:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_")},a=/D[oD]? *MMMM?/.test(t)?"accusative":"nominative";return n[a][e.month()]}function r(e,t){var n={nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")},a=/(\[[ВвУу]\]) ?dddd/.test(t)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(t)?"genitive":"nominative";return n[a][e.day()]}function i(e){return function(){return e+"о"+(11===this.hours()?"б":"")+"] LT"}}return e.defineLocale("uk",{months:a,monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:r,weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., LT",LLLL:"dddd, D MMMM YYYY р., LT"},calendar:{sameDay:i("[Сьогодні "),nextDay:i("[Завтра "),lastDay:i("[Вчора "),nextWeek:i("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return i("[Минулої] dddd [").call(this);case 1:case 2:case 4:return i("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",m:n,mm:n,h:"годину",hh:n,d:"день",dd:n,M:"місяць",MM:n,y:"рік",yy:n},meridiemParse:/ночі|ранку|дня|вечора/,isPM:function(e){return/^(дня|вечора)$/.test(e)},meridiem:function(e){return 4>e?"ночі":12>e?"ранку":17>e?"дня":"вечора"},ordinalParse:/\d{1,2}-(й|го)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-й";case"D":return e+"-го";default:return e}},week:{dow:1,doy:7}})}),function(e){e(Le)}(function(e){return e.defineLocale("uz",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"D MMMM YYYY, dddd LT"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}})}),function(e){e(Le)}(function(e){return e.defineLocale("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY LT",LLLL:"dddd, D MMMM [năm] YYYY LT",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần rồi lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},ordinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){return e.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah点mm",LTS:"Ah点m分s秒",L:"YYYY-MM-DD",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY-MM-DD",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"下午"===t||"晚上"===t?e+12:e>=11?e:e+12},meridiem:function(e,t){var n=100*e+t;return 600>n?"凌晨":900>n?"早上":1130>n?"上午":1230>n?"中午":1800>n?"下午":"晚上"},calendar:{sameDay:function(){return 0===this.minutes()?"[今天]Ah[点整]":"[今天]LT"},nextDay:function(){return 0===this.minutes()?"[明天]Ah[点整]":"[明天]LT"},lastDay:function(){return 0===this.minutes()?"[昨天]Ah[点整]":"[昨天]LT"},nextWeek:function(){var t,n;return t=e().startOf("week"),n=this.unix()-t.unix()>=604800?"[下]":"[本]",0===this.minutes()?n+"dddAh点整":n+"dddAh点mm"},lastWeek:function(){var t,n;return t=e().startOf("week"),n=this.unix()<t.unix()?"[上]":"[本]",0===this.minutes()?n+"dddAh点整":n+"dddAh点mm"},sameElse:"LL"},ordinalParse:/\d{1,2}(日|月|周)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1分钟",mm:"%d分钟",h:"1小时",hh:"%d小时",d:"1天",dd:"%d天",M:"1个月",MM:"%d个月",y:"1年",yy:"%d年"},week:{dow:1,doy:4}})}),function(e){e(Le)}(function(e){return e.defineLocale("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah點mm",LTS:"Ah點m分s秒",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiemParse:/早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t){var n=100*e+t;return 900>n?"早上":1130>n?"上午":1230>n?"中午":1800>n?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},ordinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"一分鐘",mm:"%d分鐘",h:"一小時",hh:"%d小時",d:"一天",dd:"%d天",M:"一個月",MM:"%d個月",y:"一年",yy:"%d年"}})}),Le.locale("en"),He?module.exports=Le:"function"==typeof define&&define.amd?(define(function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(ke.moment=be),Le}),Me(!0)):Me()}).call(this),!function(e,t){return"function"==typeof define&&define.amd?void define("angular-file-upload",["angular"],function(e){return t(e)}):t(e)}("undefined"==typeof angular?null:angular,function(e){var t=e.module("angularFileUpload",[]);return t.value("fileUploaderOptions",{url:"/",alias:"file",headers:{},queue:[],progress:0,autoUpload:!1,removeAfterUpload:!1,method:"POST",filters:[],formData:[],queueLimit:Number.MAX_VALUE,withCredentials:!1}).factory("FileUploader",["fileUploaderOptions","$rootScope","$http","$window","$compile",function(t,n,a,r,i){function o(n){var a=e.copy(t);e.extend(this,a,n,{isUploading:!1,_nextIndex:0,_failFilterIndex:-1,_directives:{select:[],drop:[],over:[]}}),this.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.filters.unshift({name:"folder",fn:this._folderFilter})}function s(t){var n=e.isElement(t),a=n?t.value:t,r=e.isString(a)?"FakePath":"Object",i="_createFrom"+r;this[i](a)}function l(t,n,a){var r=e.isElement(n),i=r?e.element(n):null,s=r?null:n;e.extend(this,{url:t.url,alias:t.alias,headers:e.copy(t.headers),formData:e.copy(t.formData),removeAfterUpload:t.removeAfterUpload,withCredentials:t.withCredentials,method:t.method},a,{uploader:t,file:new o.FileLikeObject(n),isReady:!1,isUploading:!1,isUploaded:!1,isSuccess:!1,isCancel:!1,isError:!1,progress:0,index:null,_file:s,_input:i}),i&&this._replaceNode(i)}function d(t){e.extend(this,t),this.uploader._directives[this.prop].push(this),this._saveLinks(),this.bind()}function u(){u.super_.apply(this,arguments),this.uploader.isHTML5||this.element.removeAttr("multiple"),this.element.prop("value",null)}function c(){c.super_.apply(this,arguments)}function f(){f.super_.apply(this,arguments)}return o.prototype.isHTML5=!(!r.File||!r.FormData),o.prototype.addToQueue=function(t,n,a){var r=this.isArrayLikeObject(t)?t:[t],i=this._getFilters(a),s=this.queue.length,l=[];e.forEach(r,function(e){var t=new o.FileLikeObject(e);if(this._isValidFile(t,i,n)){var a=new o.FileItem(this,e,n);l.push(a),this.queue.push(a),this._onAfterAddingFile(a)}else{var r=this.filters[this._failFilterIndex];this._onWhenAddingFileFailed(t,r,n)}},this),this.queue.length!==s&&(this._onAfterAddingAll(l),this.progress=this._getTotalProgress()),this._render(),this.autoUpload&&this.uploadAll()},o.prototype.removeFromQueue=function(e){var t=this.getIndexOfItem(e),n=this.queue[t];n.isUploading&&n.cancel(),this.queue.splice(t,1),n._destroy(),this.progress=this._getTotalProgress()},o.prototype.clearQueue=function(){for(;this.queue.length;)this.queue[0].remove();this.progress=0},o.prototype.uploadItem=function(e){var t=this.getIndexOfItem(e),n=this.queue[t],a=this.isHTML5?"_xhrTransport":"_iframeTransport";n._prepareToUploading(),this.isUploading||(this.isUploading=!0,this[a](n))},o.prototype.cancelItem=function(e){var t=this.getIndexOfItem(e),n=this.queue[t],a=this.isHTML5?"_xhr":"_form";n&&n.isUploading&&n[a].abort()},o.prototype.uploadAll=function(){var t=this.getNotUploadedItems().filter(function(e){return!e.isUploading});t.length&&(e.forEach(t,function(e){e._prepareToUploading()}),t[0].upload())},o.prototype.cancelAll=function(){var t=this.getNotUploadedItems();e.forEach(t,function(e){e.cancel()})},o.prototype.isFile=function(e){var t=r.File;return t&&e instanceof t},o.prototype.isFileLikeObject=function(e){return e instanceof o.FileLikeObject},o.prototype.isArrayLikeObject=function(t){return e.isObject(t)&&"length"in t},o.prototype.getIndexOfItem=function(t){return e.isNumber(t)?t:this.queue.indexOf(t)},o.prototype.getNotUploadedItems=function(){return this.queue.filter(function(e){return!e.isUploaded})},o.prototype.getReadyItems=function(){return this.queue.filter(function(e){return e.isReady&&!e.isUploading}).sort(function(e,t){return e.index-t.index})},o.prototype.destroy=function(){e.forEach(this._directives,function(t){e.forEach(this._directives[t],function(e){e.destroy()},this)},this)},o.prototype.onAfterAddingAll=function(){},o.prototype.onAfterAddingFile=function(){},o.prototype.onWhenAddingFileFailed=function(){},o.prototype.onBeforeUploadItem=function(){},o.prototype.onProgressItem=function(){},o.prototype.onProgressAll=function(){},o.prototype.onSuccessItem=function(){},o.prototype.onErrorItem=function(){},o.prototype.onCancelItem=function(){},o.prototype.onCompleteItem=function(){},o.prototype.onCompleteAll=function(){},o.prototype._getTotalProgress=function(e){if(this.removeAfterUpload)return e||0;var t=this.getNotUploadedItems().length,n=t?this.queue.length-t:this.queue.length,a=100/this.queue.length,r=(e||0)*a/100;return Math.round(n*a+r)},o.prototype._getFilters=function(t){if(e.isUndefined(t))return this.filters;if(e.isArray(t))return t;var n=t.match(/[^\s,]+/g);return this.filters.filter(function(e){return-1!==n.indexOf(e.name)},this)},o.prototype._render=function(){n.$$phase||n.$apply()},o.prototype._folderFilter=function(e){return!(!e.size&&!e.type)},o.prototype._queueLimitFilter=function(){return this.queue.length<this.queueLimit},o.prototype._isValidFile=function(e,t,n){return this._failFilterIndex=-1,t.length?t.every(function(t){return this._failFilterIndex++,t.fn.call(this,e,n)},this):!0},o.prototype._isSuccessCode=function(e){return e>=200&&300>e||304===e},o.prototype._transformResponse=function(t,n){var r=this._headersGetter(n);return e.forEach(a.defaults.transformResponse,function(e){t=e(t,r)}),t},o.prototype._parseHeaders=function(t){var n,a,r,i={};return t?(e.forEach(t.split("\n"),function(e){r=e.indexOf(":"),n=e.slice(0,r).trim().toLowerCase(),a=e.slice(r+1).trim(),n&&(i[n]=i[n]?i[n]+", "+a:a)}),i):i},o.prototype._headersGetter=function(e){return function(t){return t?e[t.toLowerCase()]||null:e}},o.prototype._xhrTransport=function(t){var n=t._xhr=new XMLHttpRequest,a=new FormData,r=this;r._onBeforeUploadItem(t),e.forEach(t.formData,function(t){e.forEach(t,function(e,t){a.append(t,e)})}),a.append(t.alias,t._file,t.file.name),n.upload.onprogress=function(e){var n=Math.round(e.lengthComputable?100*e.loaded/e.total:0);r._onProgressItem(t,n)},n.onload=function(){var e=r._parseHeaders(n.getAllResponseHeaders()),a=r._transformResponse(n.response,e),i=r._isSuccessCode(n.status)?"Success":"Error",o="_on"+i+"Item";r[o](t,a,n.status,e),r._onCompleteItem(t,a,n.status,e)},n.onerror=function(){var e=r._parseHeaders(n.getAllResponseHeaders()),a=r._transformResponse(n.response,e);r._onErrorItem(t,a,n.status,e),r._onCompleteItem(t,a,n.status,e)},n.onabort=function(){var e=r._parseHeaders(n.getAllResponseHeaders()),a=r._transformResponse(n.response,e);r._onCancelItem(t,a,n.status,e),r._onCompleteItem(t,a,n.status,e)},n.open(t.method,t.url,!0),n.withCredentials=t.withCredentials,e.forEach(t.headers,function(e,t){n.setRequestHeader(t,e)}),n.send(a),this._render()},o.prototype._iframeTransport=function(t){var n=e.element('<form style="display: none;" />'),a=e.element('<iframe name="iframeTransport'+Date.now()+'">'),r=t._input,i=this;t._form&&t._form.replaceWith(r),t._form=n,i._onBeforeUploadItem(t),r.prop("name",t.alias),e.forEach(t.formData,function(t){e.forEach(t,function(t,a){var r=e.element('<input type="hidden" name="'+a+'" />');r.val(t),n.append(r)})}),n.prop({action:t.url,method:"POST",target:a.prop("name"),enctype:"multipart/form-data",encoding:"multipart/form-data"}),a.bind("load",function(){try{var e=a[0].contentDocument.body.innerHTML}catch(n){}var r={response:e,status:200,dummy:!0},o={},s=i._transformResponse(r.response,o);i._onSuccessItem(t,s,r.status,o),i._onCompleteItem(t,s,r.status,o)}),n.abort=function(){var e,o={status:0,dummy:!0},s={};a.unbind("load").prop("src","javascript:false;"),n.replaceWith(r),i._onCancelItem(t,e,o.status,s),i._onCompleteItem(t,e,o.status,s)},r.after(n),n.append(r).append(a),n[0].submit(),this._render()},o.prototype._onWhenAddingFileFailed=function(e,t,n){this.onWhenAddingFileFailed(e,t,n)},o.prototype._onAfterAddingFile=function(e){this.onAfterAddingFile(e)},o.prototype._onAfterAddingAll=function(e){this.onAfterAddingAll(e)},o.prototype._onBeforeUploadItem=function(e){e._onBeforeUpload(),this.onBeforeUploadItem(e)},o.prototype._onProgressItem=function(e,t){var n=this._getTotalProgress(t);this.progress=n,e._onProgress(t),this.onProgressItem(e,t),this.onProgressAll(n),this._render()},o.prototype._onSuccessItem=function(e,t,n,a){e._onSuccess(t,n,a),this.onSuccessItem(e,t,n,a)},o.prototype._onErrorItem=function(e,t,n,a){e._onError(t,n,a),this.onErrorItem(e,t,n,a)},o.prototype._onCancelItem=function(e,t,n,a){e._onCancel(t,n,a),this.onCancelItem(e,t,n,a)},o.prototype._onCompleteItem=function(t,n,a,r){t._onComplete(n,a,r),this.onCompleteItem(t,n,a,r);var i=this.getReadyItems()[0];return this.isUploading=!1,e.isDefined(i)?void i.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),void this._render())},o.isFile=o.prototype.isFile,o.isFileLikeObject=o.prototype.isFileLikeObject,o.isArrayLikeObject=o.prototype.isArrayLikeObject,o.isHTML5=o.prototype.isHTML5,o.inherit=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.super_=t},o.FileLikeObject=s,o.FileItem=l,o.FileDirective=d,o.FileSelect=u,o.FileDrop=c,o.FileOver=f,s.prototype._createFromFakePath=function(e){this.lastModifiedDate=null,this.size=null,this.type="like/"+e.slice(e.lastIndexOf(".")+1).toLowerCase(),this.name=e.slice(e.lastIndexOf("/")+e.lastIndexOf("\\")+2)},s.prototype._createFromObject=function(t){this.lastModifiedDate=e.copy(t.lastModifiedDate),this.size=t.size,this.type=t.type,this.name=t.name},l.prototype.upload=function(){this.uploader.uploadItem(this)},l.prototype.cancel=function(){this.uploader.cancelItem(this)},l.prototype.remove=function(){this.uploader.removeFromQueue(this)},l.prototype.onBeforeUpload=function(){},l.prototype.onProgress=function(){},l.prototype.onSuccess=function(){},l.prototype.onError=function(){},l.prototype.onCancel=function(){},l.prototype.onComplete=function(){},l.prototype._onBeforeUpload=function(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()},l.prototype._onProgress=function(e){this.progress=e,this.onProgress(e)},l.prototype._onSuccess=function(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=null,this.onSuccess(e,t,n)},l.prototype._onError=function(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=null,this.onError(e,t,n)},l.prototype._onCancel=function(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=null,this.onCancel(e,t,n)},l.prototype._onComplete=function(e,t,n){this.onComplete(e,t,n),this.removeAfterUpload&&this.remove()},l.prototype._destroy=function(){this._input&&this._input.remove(),this._form&&this._form.remove(),delete this._form,delete this._input},l.prototype._prepareToUploading=function(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0},l.prototype._replaceNode=function(e){var t=i(e.clone())(e.scope());t.prop("value",null),e.css("display","none"),e.after(t)},d.prototype.events={},d.prototype.bind=function(){for(var e in this.events){var t=this.events[e];this.element.bind(e,this[t])}},d.prototype.unbind=function(){for(var e in this.events)this.element.unbind(e,this.events[e])},d.prototype.destroy=function(){var e=this.uploader._directives[this.prop].indexOf(this);this.uploader._directives[this.prop].splice(e,1),this.unbind()},d.prototype._saveLinks=function(){for(var e in this.events){var t=this.events[e];this[t]=this[t].bind(this)}},o.inherit(u,d),u.prototype.events={$destroy:"destroy",change:"onChange"},u.prototype.prop="select",u.prototype.getOptions=function(){},u.prototype.getFilters=function(){},u.prototype.isEmptyAfterSelection=function(){return!!this.element.attr("multiple")},u.prototype.onChange=function(){var e=this.uploader.isHTML5?this.element[0].files:this.element[0],t=this.getOptions(),n=this.getFilters();this.uploader.isHTML5||this.destroy(),this.uploader.addToQueue(e,t,n),this.isEmptyAfterSelection()&&this.element.prop("value",null)},o.inherit(c,d),c.prototype.events={$destroy:"destroy",drop:"onDrop",dragover:"onDragOver",dragleave:"onDragLeave"},c.prototype.prop="drop",c.prototype.getOptions=function(){},c.prototype.getFilters=function(){},c.prototype.onDrop=function(t){var n=this._getTransfer(t);if(n){var a=this.getOptions(),r=this.getFilters();this._preventAndStop(t),e.forEach(this.uploader._directives.over,this._removeOverClass,this),this.uploader.addToQueue(n.files,a,r)}},c.prototype.onDragOver=function(t){var n=this._getTransfer(t);this._haveFiles(n.types)&&(n.dropEffect="copy",this._preventAndStop(t),e.forEach(this.uploader._directives.over,this._addOverClass,this))},c.prototype.onDragLeave=function(t){t.currentTarget===this.element[0]&&(this._preventAndStop(t),e.forEach(this.uploader._directives.over,this._removeOverClass,this))},c.prototype._getTransfer=function(e){return e.dataTransfer?e.dataTransfer:e.originalEvent.dataTransfer},c.prototype._preventAndStop=function(e){e.preventDefault(),e.stopPropagation()},c.prototype._haveFiles=function(e){return e?e.indexOf?-1!==e.indexOf("Files"):e.contains?e.contains("Files"):!1:!1},c.prototype._addOverClass=function(e){e.addOverClass()},c.prototype._removeOverClass=function(e){e.removeOverClass()},o.inherit(f,d),f.prototype.events={$destroy:"destroy"},f.prototype.prop="over",f.prototype.overClass="nv-file-over",f.prototype.addOverClass=function(){this.element.addClass(this.getOverClass())},f.prototype.removeOverClass=function(){this.element.removeClass(this.getOverClass())},f.prototype.getOverClass=function(){return this.overClass},o}]).directive("nvFileSelect",["$parse","FileUploader",function(e,t){return{link:function(n,a,r){var i=n.$eval(r.uploader);if(!(i instanceof t))throw new TypeError('"Uploader" must be an instance of FileUploader');var o=new t.FileSelect({uploader:i,element:a});o.getOptions=e(r.options).bind(o,n),o.getFilters=function(){return r.filters}}}}]).directive("nvFileDrop",["$parse","FileUploader",function(e,t){return{link:function(n,a,r){var i=n.$eval(r.uploader);if(!(i instanceof t))throw new TypeError('"Uploader" must be an instance of FileUploader');if(i.isHTML5){var o=new t.FileDrop({uploader:i,element:a});o.getOptions=e(r.options).bind(o,n),o.getFilters=function(){return r.filters}}}}}]).directive("nvFileOver",["FileUploader",function(e){return{link:function(t,n,a){var r=t.$eval(a.uploader);if(!(r instanceof e))throw new TypeError('"Uploader" must be an instance of FileUploader');var i=new e.FileOver({uploader:r,element:n});i.getOverClass=function(){return a.overClass||this.overClass}}}}]),t}),!function(e,t){"use strict";function n(e){if(!("clientX"in e||"clientY"in e)){var t=e.touches||e.originalEvent.touches;t&&t.length&&(e.clientX=t[0].clientX,e.clientY=t[0].clientY),e.preventDefault()}}function a(e){if(e=e[0],e.previousElementSibling)return t.element(e.previousElementSibling);for(var n=e.previousSibling;null!=n&&1!=n.nodeType;)n=n.previousSibling;return t.element(n)}function r(e,t){var n=a(e);n.length>0?n.after(t):e.parent().prepend(t)}function i(e,n){return e instanceof t.element&&(e=e[0]),null!==l?e[l](n):void 0}var o=t.module("angular-sortable-view",[]);o.directive("svRoot",[function(){function e(e,t,n){return n?e.x-t.x<0:e.y-t.y<0}function t(e){return o[e]}function n(e){delete o[e]}var a,o=Object.create(null);return{restrict:"A",controller:["$scope","$attrs","$interpolate","$parse",function(s,l,d,u){var c=d(l.svRoot)(s)||s.$id;o[c]||(o[c]=[]);var f,m,p,h,_,g,v=!1,y=u(l.svOnSort);l.svOnStart=l.$$element[0].attributes["sv-on-start"],l.svOnStart=l.svOnStart&&l.svOnStart.value,l.svOnStop=l.$$element[0].attributes["sv-on-stop"],l.svOnStop=l.svOnStop&&l.svOnStop.value;var M=u(l.svOnStart),L=u(l.svOnStop);if(this.sortingInProgress=function(){return a},l.svGrid){if(v="true"===l.svGrid?!0:"false"===l.svGrid?!1:null,null===v)throw"Invalid value of sv-grid attribute"}else s.$watchCollection(function(){return t(c)},function(e){v=!1;var t=e.filter(function(e){return!e.container}).map(function(e){return{part:e.getPart().id,y:e.element[0].getBoundingClientRect().top}}),n=Object.create(null);t.forEach(function(e){n[e.part]?n[e.part].push(e.y):n[e.part]=[e.y]}),Object.keys(n).forEach(function(e){n[e].sort(),n[e].forEach(function(t,a){a<n[e].length-1&&t>0&&t===n[e][a+1]&&(v=!0)})})});this.$moveUpdate=function(n,o,l,d,u,y,L){var b=l[0].getBoundingClientRect();"element"===n.tolerance&&(o={x:~~(b.left+b.width/2),y:~~(b.top+b.height/2)}),a=!0,f=[],m||(u?(m=u.clone(),m.removeClass("ng-hide")):(m=d.clone(),m.addClass("sv-visibility-hidden"),m.addClass("sv-placeholder"),m.css({height:b.height+"px",width:b.width+"px"})),d.after(m),d.addClass("ng-hide"),_=d,p=n,h=l,M(s,{$helper:h,$part:y.model(y.scope),$index:L,$item:y.model(y.scope)[L]}),s.$root&&s.$root.$$phase||s.$apply()),h[0].reposition({x:o.x+document.body.scrollLeft-o.offset.x*b.width,y:o.y+document.body.scrollTop-o.offset.y*b.height}),t(c).forEach(function(t){if(null==n.containment||i(t.element,n.containment)||i(t.element,n.containment+" *")){var a=t.element[0].getBoundingClientRect(),r={x:~~(a.left+a.width/2),y:~~(a.top+a.height/2)};t.container||!t.element[0].scrollHeight&&!t.element[0].scrollWidth||f.push({element:t.element,q:(r.x-o.x)*(r.x-o.x)+(r.y-o.y)*(r.y-o.y),view:t.getPart(),targetIndex:t.getIndex(),after:e(r,o,v)}),t.container&&!t.element[0].querySelector("[sv-element]:not(.sv-placeholder):not(.sv-source)")&&f.push({element:t.element,q:(r.x-o.x)*(r.x-o.x)+(r.y-o.y)*(r.y-o.y),view:t.getPart(),targetIndex:0,container:!0})}});var T=m[0].getBoundingClientRect(),w={x:~~(T.left+T.width/2),y:~~(T.top+T.height/2)};f.push({q:(w.x-o.x)*(w.x-o.x)+(w.y-o.y)*(w.y-o.y),element:m,placeholder:!0}),f.sort(function(e,t){return e.q-t.q}),f.forEach(function(e,t){0!==t||e.placeholder||e.container?0===t&&e.container?(g=e,e.element.append(m)):e.element.removeClass("sv-candidate"):(g=e,e.element.addClass("sv-candidate"),e.after?e.element.after(m):r(e.element,m))})},this.$drop=function(e,t,n){function r(){if(a=!1,m.remove(),h.remove(),_.removeClass("ng-hide"),f=void 0,m=void 0,n=void 0,h=void 0,_=void 0,L(s,{$part:e.model(e.scope),$index:t,$item:e.model(e.scope)[t]}),g){g.element.removeClass("sv-candidate");var r=e.model(e.scope).splice(t,1),i=g.targetIndex;g.view===e&&g.targetIndex>t&&i--,g.after&&i++,g.view.model(g.view.scope).splice(i,0,r[0]),(g.view!==e||t!==i)&&y(s,{$partTo:g.view.model(g.view.scope),$partFrom:e.model(e.scope),$item:r[0],$indexTo:i,$indexFrom:t})}g=void 0,s.$root&&s.$root.$$phase||s.$apply()}if(m)if(n.revert){var i=m[0].getBoundingClientRect(),o=h[0].getBoundingClientRect(),l=Math.sqrt(Math.pow(o.top-i.top,2)+Math.pow(o.left-i.left,2)),d=+n.revert*l/200;
d=Math.min(d,+n.revert),["-webkit-","-moz-","-ms-","-o-",""].forEach(function(e){"undefined"!=typeof h[0].style[e+"transition"]&&(h[0].style[e+"transition"]="all "+d+"ms ease")}),setTimeout(r,d),h.css({top:i.top+document.body.scrollTop+"px",left:i.left+document.body.scrollLeft+"px"})}else r()},this.addToSortableElements=function(e){t(c).push(e)},this.removeFromSortableElements=function(e){var a=t(c),r=a.indexOf(e);r>-1&&(a.splice(r,1),0===a.length&&n(c))}}]}}]),o.directive("svPart",["$parse",function(e){return{restrict:"A",require:"^svRoot",controller:["$scope",function(e){e.$ctrl=this,this.getPart=function(){return e.part},this.$drop=function(t,n){e.$sortableRoot.$drop(e.part,t,n)}}],scope:!0,link:function(t,n,a,r){if(!a.svPart)throw new Error("no model provided");var i=e(a.svPart);if(!i.assign)throw new Error("model not assignable");t.part={id:t.$id,element:n,model:i,scope:t},t.$sortableRoot=r;var o={element:n,getPart:t.$ctrl.getPart,container:!0};r.addToSortableElements(o),t.$on("$destroy",function(){r.removeFromSortableElements(o)})}}}]),o.directive("svElement",["$parse",function(e){return{restrict:"A",require:["^svPart","^svRoot"],controller:["$scope",function(e){e.$ctrl=this}],link:function(a,r,i,o){function s(s){function l(e){n(e),m||(r.parent().prepend(_),m=!0),o[1].$moveUpdate(u,{x:e.clientX,y:e.clientY,offset:y},_,r,f,o[0].getPart(),a.$index)}if(n(s),!o[1].sortingInProgress()&&(0==s.button||"mousedown"!==s.type)){m=!1;var u=e(i.svElement)(a);if(u=t.extend({},{tolerance:"pointer",revert:200,containment:"html"},u),u.containment)var h=d.call(r,u.containment)[0].getBoundingClientRect();var _,g=r,v=r[0].getBoundingClientRect();c||(c=o[0].helper),f||(f=o[0].placeholder),c?(_=c.clone(),_.removeClass("ng-hide"),_.css({left:v.left+document.body.scrollLeft+"px",top:v.top+document.body.scrollTop+"px"}),g.addClass("sv-visibility-hidden")):(_=g.clone(),_.addClass("sv-helper").css({left:v.left+document.body.scrollLeft+"px",top:v.top+document.body.scrollTop+"px",width:v.width+"px"})),_[0].reposition=function(e){var t=e.x,n=e.y,a=_[0].getBoundingClientRect(),r=document.body;h&&(n<h.top+r.scrollTop&&(n=h.top+r.scrollTop),n+a.height>h.top+r.scrollTop+h.height&&(n=h.top+r.scrollTop+h.height-a.height),t<h.left+r.scrollLeft&&(t=h.left+r.scrollLeft),t+a.width>h.left+r.scrollLeft+h.width&&(t=h.left+r.scrollLeft+h.width-a.width)),this.style.left=t-r.scrollLeft+"px",this.style.top=n-r.scrollTop+"px"};var y={x:(s.clientX-v.left)/v.width,y:(s.clientY-v.top)/v.height};p.addClass("sv-sorting-in-progress"),p.on("mousemove touchmove",l).on("mouseup touchend touchcancel",function M(){p.off("mousemove touchmove",l),p.off("mouseup touchend",M),p.removeClass("sv-sorting-in-progress"),m?o[0].$drop(a.$index,u):r.removeClass("sv-visibility-hidden")})}}var l={element:r,getPart:o[0].getPart,getIndex:function(){return a.$index}};o[1].addToSortableElements(l),a.$on("$destroy",function(){o[1].removeFromSortableElements(l)});var u=r;u.on("mousedown touchstart",s),a.$watch("$ctrl.handle",function(e){e&&(u.off("mousedown touchstart",s),u=e,u.on("mousedown touchstart",s))});var c;a.$watch("$ctrl.helper",function(e){e&&(c=e)});var f;a.$watch("$ctrl.placeholder",function(e){e&&(f=e)});var m,p=(t.element(document.body),t.element(document.documentElement))}}}]),o.directive("svHandle",function(){return{require:"?^svElement",link:function(e,t,n,a){a&&(a.handle=t.add(a.handle))}}}),o.directive("svHelper",function(){return{require:["?^svPart","?^svElement"],link:function(e,t,n,a){t.addClass("sv-helper").addClass("ng-hide"),a[1]?a[1].helper=t:a[0]&&(a[0].helper=t)}}}),o.directive("svPlaceholder",function(){return{require:["?^svPart","?^svElement"],link:function(e,t,n,a){t.addClass("sv-placeholder").addClass("ng-hide"),a[1]?a[1].placeholder=t:a[0]&&(a[0].placeholder=t)}}}),t.element(document.head).append(["<style>.sv-helper{position: fixed !important;z-index: 99999;margin: 0 !important;}.sv-candidate{}.sv-placeholder{}.sv-sorting-in-progress{-webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;}.sv-visibility-hidden{visibility: hidden !important;opacity: 0 !important;}</style>"].join(""));var s=document.documentElement,l=s.matches?"matches":s.matchesSelector?"matchesSelector":s.webkitMatches?"webkitMatches":s.webkitMatchesSelector?"webkitMatchesSelector":s.msMatches?"msMatches":s.msMatchesSelector?"msMatchesSelector":s.mozMatches?"mozMatches":s.mozMatchesSelector?"mozMatchesSelector":null;if(null==l)throw"This browser doesn't support the HTMLElement.matches method";var d=t.element.prototype.closest||function(e){for(var n=this[0].parentNode;n!==document.documentElement&&!n[l](e);)n=n.parentNode;return n[l](e)?t.element(n):t.element()};"function"!=typeof t.element.prototype.add&&(t.element.prototype.add=function(e){var n,a=t.element();for(e=t.element(e),n=0;n<this.length;n++)a.push(this[n]);for(n=0;n<e.length;n++)a.push(e[n]);return a})}(window,window.angular),!function(e,t){t["true"]=e,function(t,n){"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&"object"==typeof e?module.exports=t():n.rangy=t()}(function(){function e(e,t){var n=typeof e[t];return n==M||!(n!=y||!e[t])||"unknown"==n}function t(e,t){return!(typeof e[t]!=y||!e[t])}function n(e,t){return typeof e[t]!=L}function a(e){return function(t,n){for(var a=n.length;a--;)if(!e(t,n[a]))return!1;return!0}}function r(e){return e&&Y(e,k)&&S(e,w)}function i(e){return t(e,"body")?e.body:e.getElementsByTagName("body")[0]}function o(t){typeof console!=L&&e(console,"log")&&console.log(t)}function s(e,t){C&&t?alert(e):o(e)}function l(e){N.initialized=!0,N.supported=!1,s("Rangy is not supported in this environment. Reason: "+e,N.config.alertOnFail)}function d(e){s("Rangy warning: "+e,N.config.alertOnWarn)}function u(e){return e.message||e.description||String(e)}function c(){if(C&&!N.initialized){var t,n=!1,a=!1;e(document,"createRange")&&(t=document.createRange(),Y(t,T)&&S(t,b)&&(n=!0));var s=i(document);if(!s||"body"!=s.nodeName.toLowerCase())return void l("No body element found");if(s&&e(s,"createTextRange")&&(t=s.createTextRange(),r(t)&&(a=!0)),!n&&!a)return void l("Neither Range nor TextRange are available");N.initialized=!0,N.features={implementsDomRange:n,implementsTextRange:a};var d,c;for(var f in E)(d=E[f])instanceof h&&d.init(d,N);for(var m=0,p=O.length;p>m;++m)try{O[m](N)}catch(_){c="Rangy init listener threw an exception. Continuing. Detail: "+u(_),o(c)}}}function f(e,t,n){n&&(e+=" in module "+n.name),N.warn("DEPRECATED: "+e+" is deprecated. Please use "+t+" instead.")}function m(e,t,n,a){e[t]=function(){return f(t,n,a),e[n].apply(e,A.toArray(arguments))}}function p(e){e=e||window,c();for(var t=0,n=H.length;n>t;++t)H[t](e)}function h(e,t,n){this.name=e,this.dependencies=t,this.initialized=!1,this.supported=!1,this.initializer=n}function _(e,t,n){var a=new h(e,t,function(t){if(!t.initialized){t.initialized=!0;try{n(N,t),t.supported=!0}catch(a){var r="Module '"+e+"' failed to load: "+u(a);o(r),a.stack&&o(a.stack)}}});return E[e]=a,a}function g(){}function v(){}var y="object",M="function",L="undefined",b=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],T=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],w=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],k=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],Y=a(e),D=a(t),S=a(n),x=[].forEach?function(e,t){e.forEach(t)}:function(e,t){for(var n=0,a=e.length;a>n;++n)t(e[n],n)},E={},C=typeof window!=L&&typeof document!=L,A={isHostMethod:e,isHostObject:t,isHostProperty:n,areHostMethods:Y,areHostObjects:D,areHostProperties:S,isTextRange:r,getBody:i,forEach:x},N={version:"1.3.0",initialized:!1,isBrowser:C,supported:!0,util:A,features:{},modules:E,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==L?!0:rangyAutoInitialize}};N.fail=l,N.warn=d;var $;({}).hasOwnProperty?(A.extend=$=function(e,t,n){var a,r;for(var i in t)t.hasOwnProperty(i)&&(a=e[i],r=t[i],n&&null!==a&&"object"==typeof a&&null!==r&&"object"==typeof r&&$(a,r,!0),e[i]=r);return t.hasOwnProperty("toString")&&(e.toString=t.toString),e},A.createOptions=function(e,t){var n={};return $(n,t),e&&$(n,e),n}):l("hasOwnProperty not supported"),C||l("Rangy can only run in a browser"),function(){var e;if(C){var t=document.createElement("div");t.appendChild(document.createElement("span"));var n=[].slice;try{1==n.call(t.childNodes,0)[0].nodeType&&(e=function(e){return n.call(e,0)})}catch(a){}}e||(e=function(e){for(var t=[],n=0,a=e.length;a>n;++n)t[n]=e[n];return t}),A.toArray=e}();var R;C&&(e(document,"addEventListener")?R=function(e,t,n){e.addEventListener(t,n,!1)}:e(document,"attachEvent")?R=function(e,t,n){e.attachEvent("on"+t,n)}:l("Document does not have required addEventListener or attachEvent method"),A.addListener=R);var O=[];A.deprecationNotice=f,A.createAliasForDeprecatedMethod=m,N.init=c,N.addInitListener=function(e){N.initialized?e(N):O.push(e)};var H=[];N.addShimListener=function(e){H.push(e)},C&&(N.shim=N.createMissingNativeApi=p,m(N,"createMissingNativeApi","shim")),h.prototype={init:function(){for(var e,t,n=this.dependencies||[],a=0,r=n.length;r>a;++a){if(t=n[a],e=E[t],!(e&&e instanceof h))throw new Error("required module '"+t+"' not found");if(e.init(),!e.supported)throw new Error("required module '"+t+"' not supported")}this.initializer(this)},fail:function(e){throw this.initialized=!0,this.supported=!1,new Error(e)},warn:function(e){N.warn("Module "+this.name+": "+e)},deprecationNotice:function(e,t){N.warn("DEPRECATED: "+e+" in module "+this.name+" is deprecated. Please use "+t+" instead")},createError:function(e){return new Error("Error in Rangy "+this.name+" module: "+e)}},N.createModule=function(e){var t,n;2==arguments.length?(t=arguments[1],n=[]):(t=arguments[2],n=arguments[1]);var a=_(e,n,t);N.initialized&&N.supported&&a.init()},N.createCoreModule=function(e,t,n){_(e,t,n)},N.RangePrototype=g,N.rangePrototype=new g,N.selectionPrototype=new v,N.createCoreModule("DomUtil",[],function(e,t){function n(e){var t;return typeof e.namespaceURI==C||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t}function a(e){var t=e.parentNode;return 1==t.nodeType?t:null}function r(e){for(var t=0;e=e.previousSibling;)++t;return t}function i(e){switch(e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}}function o(e,t){var n,a=[];for(n=e;n;n=n.parentNode)a.push(n);for(n=t;n;n=n.parentNode)if(O(a,n))return n;return null}function s(e,t,n){for(var a=n?t:t.parentNode;a;){if(a===e)return!0;a=a.parentNode}return!1}function l(e,t){return s(e,t,!0)}function d(e,t,n){for(var a,r=n?e:e.parentNode;r;){if(a=r.parentNode,a===t)return r;r=a}return null}function u(e){var t=e.nodeType;return 3==t||4==t||8==t}function c(e){if(!e)return!1;var t=e.nodeType;return 3==t||8==t}function f(e,t){var n=t.nextSibling,a=t.parentNode;return n?a.insertBefore(e,n):a.appendChild(e),e}function m(e,t,n){var a=e.cloneNode(!1);if(a.deleteData(0,t),e.deleteData(t,e.length-t),f(a,e),n)for(var i,o=0;i=n[o++];)i.node==e&&i.offset>t?(i.node=a,i.offset-=t):i.node==e.parentNode&&i.offset>r(e)&&++i.offset;return a}function p(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=C)return e.ownerDocument;if(typeof e.document!=C)return e.document;if(e.parentNode)return p(e.parentNode);throw t.createError("getDocument: no document found for node")}function h(e){var n=p(e);if(typeof n.defaultView!=C)return n.defaultView;if(typeof n.parentWindow!=C)return n.parentWindow;throw t.createError("Cannot get a window object for node")}function _(e){if(typeof e.contentDocument!=C)return e.contentDocument;if(typeof e.contentWindow!=C)return e.contentWindow.document;throw t.createError("getIframeDocument: No Document object found for iframe element")}function g(e){if(typeof e.contentWindow!=C)return e.contentWindow;if(typeof e.contentDocument!=C)return e.contentDocument.defaultView;throw t.createError("getIframeWindow: No Window object found for iframe element")}function v(e){return e&&A.isHostMethod(e,"setTimeout")&&A.isHostObject(e,"document")}function y(e,t,n){var a;if(e?A.isHostProperty(e,"nodeType")?a=1==e.nodeType&&"iframe"==e.tagName.toLowerCase()?_(e):p(e):v(e)&&(a=e.document):a=document,!a)throw t.createError(n+"(): Parameter must be a Window object or DOM node");return a}function M(e){for(var t;t=e.parentNode;)e=t;return e}function L(e,n,a,i){var s,l,u,c,f;if(e==a)return n===i?0:i>n?-1:1;if(s=d(a,e,!0))return n<=r(s)?-1:1;if(s=d(e,a,!0))return r(s)<i?-1:1;if(l=o(e,a),!l)throw new Error("comparePoints error: nodes have no common ancestor");if(u=e===l?l:d(e,l,!0),c=a===l?l:d(a,l,!0),u===c)throw t.createError("comparePoints got to case 4 and childA and childB are the same!");for(f=l.firstChild;f;){if(f===u)return-1;if(f===c)return 1;f=f.nextSibling}}function b(e){var t;try{return t=e.parentNode,!1}catch(n){return!0}}function T(e){if(!e)return"[No node]";if(H&&b(e))return"[Broken node]";if(u(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">[index:"+r(e)+",length:"+e.childNodes.length+"]["+(e.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return e.nodeName}function w(e){for(var t,n=p(e).createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n}function k(e,t,n){var a=N(e),r=e.createElement("div");r.contentEditable=""+!!n,t&&(r.innerHTML=t);var i=a.firstChild;return i?a.insertBefore(r,i):a.appendChild(r),r}function Y(e){return e.parentNode.removeChild(e)}function D(e){this.root=e,this._next=e}function S(e){return new D(e)}function x(e,t){this.node=e,this.offset=t}function E(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}var C="undefined",A=e.util,N=A.getBody;A.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),A.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var $=document.createElement("div");A.areHostMethods($,["insertBefore","appendChild","cloneNode"]||!A.areHostObjects($,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),A.isHostProperty($,"innerHTML")||t.fail("Element is missing innerHTML property");var R=document.createTextNode("test");A.areHostMethods(R,["splitText","deleteData","insertData","appendData","cloneNode"]||!A.areHostObjects($,["previousSibling","nextSibling","childNodes","parentNode"])||!A.areHostProperties(R,["data"]))||t.fail("Incomplete Text Node implementation");var O=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},H=!1;!function(){var t=document.createElement("b");t.innerHTML="1";var n=t.firstChild;t.innerHTML="<br />",H=b(n),e.features.crashyTextNodes=H}();var j;typeof window.getComputedStyle!=C?j=function(e,t){return h(e).getComputedStyle(e,null)[t]}:typeof document.documentElement.currentStyle!=C?j=function(e,t){return e.currentStyle?e.currentStyle[t]:""}:t.fail("No means of obtaining computed style properties found"),D.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,n=this._current=this._next;if(this._current)if(e=n.firstChild)this._next=e;else{for(t=null;n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},x.prototype={equals:function(e){return!!e&&this.node===e.node&&this.offset==e.offset},inspect:function(){return"[DomPosition("+T(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},E.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},E.prototype.toString=function(){return this.message},e.dom={arrayContains:O,isHtmlNamespace:n,parentElement:a,getNodeIndex:r,getNodeLength:i,getCommonAncestor:o,isAncestorOf:s,isOrIsAncestorOf:l,getClosestAncestorIn:d,isCharacterDataNode:u,isTextOrCommentNode:c,insertAfter:f,splitDataNode:m,getDocument:p,getWindow:h,getIframeWindow:g,getIframeDocument:_,getBody:N,isWindow:v,getContentDocument:y,getRootContainer:M,comparePoints:L,isBrokenNode:b,inspectNode:T,getComputedStyleProperty:j,createTestElement:k,removeNode:Y,fragmentFromNodeChildren:w,createIterator:S,DomPosition:x},e.DOMException=E}),N.createCoreModule("DomRange",["DomUtil"],function(e){function t(e,t){return 3!=e.nodeType&&(P(e,t.startContainer)||P(e,t.endContainer))}function n(e){return e.document||F(e.startContainer)}function a(e){return V(e.startContainer)}function r(e){return new O(e.parentNode,W(e))}function i(e){return new O(e.parentNode,W(e)+1)}function o(e,t,n){var a=11==e.nodeType?e.firstChild:e;return j(t)?n==t.length?$.insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:z(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),a}function s(e,t,a){if(w(e),w(t),n(t)!=n(e))throw new H("WRONG_DOCUMENT_ERR");var r=I(e.startContainer,e.startOffset,t.endContainer,t.endOffset),i=I(e.endContainer,e.endOffset,t.startContainer,t.startOffset);return a?0>=r&&i>=0:0>r&&i>0}function l(e){for(var t,a,r,i=n(e.range).createDocumentFragment();a=e.next();){if(t=e.isPartiallySelectedSubtree(),a=a.cloneNode(!t),t&&(r=e.getSubtreeIterator(),a.appendChild(l(r)),r.detach()),10==a.nodeType)throw new H("HIERARCHY_REQUEST_ERR");i.appendChild(a)}return i}function d(e,t,n){var a,r;n=n||{stop:!1};for(var i,o;i=e.next();)if(e.isPartiallySelectedSubtree()){if(t(i)===!1)return void(n.stop=!0);if(o=e.getSubtreeIterator(),d(o,t,n),o.detach(),n.stop)return}else for(a=$.createIterator(i);r=a.next();)if(t(r)===!1)return void(n.stop=!0)}function u(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(t=e.getSubtreeIterator(),u(t),t.detach()):e.remove()}function c(e){for(var t,a,r=n(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),a=e.getSubtreeIterator(),t.appendChild(c(a)),a.detach()):e.remove(),10==t.nodeType)throw new H("HIERARCHY_REQUEST_ERR");r.appendChild(t)}return r}function f(e,t,n){var a,r=!(!t||!t.length),i=!!n;r&&(a=new RegExp("^("+t.join("|")+")$"));var o=[];return d(new p(e,!1),function(t){if(!(r&&!a.test(t.nodeType)||i&&!n(t))){var s=e.startContainer;if(t!=s||!j(s)||e.startOffset!=s.length){var l=e.endContainer;t==l&&j(l)&&0==e.endOffset||o.push(t)}}}),o}function m(e){var t="undefined"==typeof e.getName?"Range":e.getName();return"["+t+"("+$.inspectNode(e.startContainer)+":"+e.startOffset+", "+$.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function p(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var n=e.commonAncestorContainer;this.sc===this.ec&&j(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||j(this.sc)?B(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||j(this.ec)?B(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function h(e){return function(t,n){for(var a,r=n?t:t.parentNode;r;){if(a=r.nodeType,q(e,a))return r;r=r.parentNode}return null}}function _(e,t){if(ae(e,t))throw new H("INVALID_NODE_TYPE_ERR")}function g(e,t){if(!q(t,e.nodeType))throw new H("INVALID_NODE_TYPE_ERR")}function v(e,t){if(0>t||t>(j(e)?e.length:e.childNodes.length))throw new H("INDEX_SIZE_ERR")}function y(e,t){if(te(e,!0)!==te(t,!0))throw new H("WRONG_DOCUMENT_ERR")}function M(e){if(ne(e,!0))throw new H("NO_MODIFICATION_ALLOWED_ERR")}function L(e,t){if(!e)throw new H(t)}function b(e,t){return t<=(j(e)?e.length:e.childNodes.length)}function T(e){return!!e.startContainer&&!!e.endContainer&&!(G&&($.isBrokenNode(e.startContainer)||$.isBrokenNode(e.endContainer)))&&V(e.startContainer)==V(e.endContainer)&&b(e.startContainer,e.startOffset)&&b(e.endContainer,e.endOffset)}function w(e){if(!T(e))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+e.inspect()+")")}function k(e,t){w(e);var n=e.startContainer,a=e.startOffset,r=e.endContainer,i=e.endOffset,o=n===r;j(r)&&i>0&&i<r.length&&z(r,i,t),j(n)&&a>0&&a<n.length&&(n=z(n,a,t),o?(i-=a,r=n):r==n.parentNode&&i>=W(n)&&i++,a=0),e.setStartAndEnd(n,a,r,i)}function Y(e){w(e);var t=e.commonAncestorContainer.parentNode.cloneNode(!1);return t.appendChild(e.cloneContents()),t.innerHTML}function D(e){e.START_TO_START=de,e.START_TO_END=ue,e.END_TO_END=ce,e.END_TO_START=fe,e.NODE_BEFORE=me,e.NODE_AFTER=pe,e.NODE_BEFORE_AND_AFTER=he,e.NODE_INSIDE=_e}function S(e){D(e),D(e.prototype)}function x(e,t){return function(){w(this);var n,a,r=this.startContainer,o=this.startOffset,s=this.commonAncestorContainer,l=new p(this,!0);r!==s&&(n=B(r,s,!0),a=i(n),r=a.node,o=a.offset),d(l,M),l.reset();var u=e(l);return l.detach(),t(this,r,o,r,o),u}}function E(n,a){function o(e,t){return function(n){g(n,K),g(V(n),Z);var a=(e?r:i)(n);(t?s:l)(this,a.node,a.offset)}}function s(e,t,n){var r=e.endContainer,i=e.endOffset;(t!==e.startContainer||n!==e.startOffset)&&((V(t)!=V(r)||1==I(t,n,r,i))&&(r=t,i=n),a(e,t,n,r,i))}function l(e,t,n){var r=e.startContainer,i=e.startOffset;(t!==e.endContainer||n!==e.endOffset)&&((V(t)!=V(r)||-1==I(t,n,r,i))&&(r=t,i=n),a(e,r,i,t,n))}var d=function(){};d.prototype=e.rangePrototype,n.prototype=new d,R.extend(n.prototype,{setStart:function(e,t){_(e,!0),v(e,t),s(this,e,t)},setEnd:function(e,t){_(e,!0),v(e,t),l(this,e,t)},setStartAndEnd:function(){var e=arguments,t=e[0],n=e[1],r=t,i=n;switch(e.length){case 3:i=e[2];break;case 4:r=e[2],i=e[3]}a(this,t,n,r,i)},setBoundary:function(e,t,n){this["set"+(n?"Start":"End")](e,t)},setStartBefore:o(!0,!0),setStartAfter:o(!1,!0),setEndBefore:o(!0,!1),setEndAfter:o(!1,!1),collapse:function(e){w(this),e?a(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):a(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){_(e,!0),a(this,e,0,e,U(e))},selectNode:function(e){_(e,!1),g(e,K);var t=r(e),n=i(e);a(this,t.node,t.offset,n.node,n.offset)},extractContents:x(c,a),deleteContents:x(u,a),canSurroundContents:function(){w(this),M(this.startContainer),M(this.endContainer);var e=new p(this,!0),n=e._first&&t(e._first,this)||e._last&&t(e._last,this);return e.detach(),!n},splitBoundaries:function(){k(this)},splitBoundariesPreservingPositions:function(e){k(this,e)},normalizeBoundaries:function(){w(this);var e,t=this.startContainer,n=this.startOffset,r=this.endContainer,i=this.endOffset,o=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(r=e,i=e.length,e.appendData(t.data),J(t))},s=function(e){var a=e.previousSibling;if(a&&a.nodeType==e.nodeType){t=e;var o=e.length;if(n=a.length,e.insertData(0,a.data),J(a),t==r)i+=n,r=t;else if(r==e.parentNode){var s=W(e);i==s?(r=e,i=o):i>s&&i--}}},l=!0;if(j(r))i==r.length?o(r):0==i&&(e=r.previousSibling,e&&e.nodeType==r.nodeType&&(i=e.length,t==r&&(l=!1),e.appendData(r.data),J(r),r=e));else{if(i>0){var d=r.childNodes[i-1];d&&j(d)&&o(d)}l=!this.collapsed}if(l){if(j(t))0==n?s(t):n==t.length&&(e=t.nextSibling,e&&e.nodeType==t.nodeType&&(r==e&&(r=t,i+=t.length),t.appendData(e.data),J(e)));else if(n<t.childNodes.length){var u=t.childNodes[n];u&&j(u)&&s(u)}}else t=r,n=i;a(this,t,n,r,i)},collapseToPoint:function(e,t){_(e,!0),v(e,t),this.setStartAndEnd(e,t)}}),S(n)}function C(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:$.getCommonAncestor(e.startContainer,e.endContainer)}function A(e,t,n,a,r){e.startContainer=t,e.startOffset=n,e.endContainer=a,e.endOffset=r,e.document=$.getDocument(t),C(e)}function N(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this.document=e,C(this)}var $=e.dom,R=e.util,O=$.DomPosition,H=e.DOMException,j=$.isCharacterDataNode,W=$.getNodeIndex,P=$.isOrIsAncestorOf,F=$.getDocument,I=$.comparePoints,z=$.splitDataNode,B=$.getClosestAncestorIn,U=$.getNodeLength,q=$.arrayContains,V=$.getRootContainer,G=e.features.crashyTextNodes,J=$.removeNode;p.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,j(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,n=this._current;!j(n)||n!==this.sc&&n!==this.ec?n.parentNode&&J(n):(e=n===this.sc?this.so:0,t=n===this.ec?this.eo:n.length,e!=t&&n.deleteData(e,t-e))},isPartiallySelectedSubtree:function(){var e=this._current;return t(e,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)e=this.range.cloneRange(),e.collapse(!1);else{e=new N(n(this.range));var t=this._current,a=t,r=0,i=t,o=U(t);P(t,this.sc)&&(a=this.sc,r=this.so),P(t,this.ec)&&(i=this.ec,o=this.eo),A(e,a,r,i,o)}return new p(e,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var K=[1,3,4,5,7,8,10],Z=[2,9,11],X=[5,6,10,12],Q=[1,3,4,5,7,8,10,11],ee=[1,3,4,5,7,8],te=h([9,11]),ne=h(X),ae=h([6,10,12]),re=document.createElement("style"),ie=!1;try{re.innerHTML="<b>x</b>",ie=3==re.firstChild.nodeType}catch(oe){}e.features.htmlParsingConforms=ie;var se=ie?function(e){var t=this.startContainer,n=F(t);if(!t)throw new H("INVALID_STATE_ERR");var a=null;return 1==t.nodeType?a=t:j(t)&&(a=$.parentElement(t)),a=null===a||"HTML"==a.nodeName&&$.isHtmlNamespace(F(a).documentElement)&&$.isHtmlNamespace(a)?n.createElement("body"):a.cloneNode(!1),a.innerHTML=e,$.fragmentFromNodeChildren(a)}:function(e){var t=n(this),a=t.createElement("body");return a.innerHTML=e,$.fragmentFromNodeChildren(a)},le=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],de=0,ue=1,ce=2,fe=3,me=0,pe=1,he=2,_e=3;R.extend(e.rangePrototype,{compareBoundaryPoints:function(e,t){w(this),y(this.startContainer,t.startContainer);var n,a,r,i,o=e==fe||e==de?"start":"end",s=e==ue||e==de?"start":"end";return n=this[o+"Container"],a=this[o+"Offset"],r=t[s+"Container"],i=t[s+"Offset"],I(n,a,r,i)},insertNode:function(e){if(w(this),g(e,Q),M(this.startContainer),P(e,this.startContainer))throw new H("HIERARCHY_REQUEST_ERR");var t=o(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){w(this);var e,t;if(this.collapsed)return n(this).createDocumentFragment();if(this.startContainer===this.endContainer&&j(this.startContainer))return e=this.startContainer.cloneNode(!0),e.data=e.data.slice(this.startOffset,this.endOffset),t=n(this).createDocumentFragment(),t.appendChild(e),t;var a=new p(this,!0);return e=l(a),a.detach(),e},canSurroundContents:function(){w(this),M(this.startContainer),M(this.endContainer);var e=new p(this,!0),n=e._first&&t(e._first,this)||e._last&&t(e._last,this);return e.detach(),!n},surroundContents:function(e){if(g(e,ee),!this.canSurroundContents())throw new H("INVALID_STATE_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);o(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){w(this);for(var e,t=new N(n(this)),a=le.length;a--;)e=le[a],t[e]=this[e];return t},toString:function(){w(this);var e=this.startContainer;if(e===this.endContainer&&j(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],n=new p(this,!0);return d(n,function(e){(3==e.nodeType||4==e.nodeType)&&t.push(e.data)}),n.detach(),t.join("")},compareNode:function(e){w(this);var t=e.parentNode,n=W(e);if(!t)throw new H("NOT_FOUND_ERR");var a=this.comparePoint(t,n),r=this.comparePoint(t,n+1);return 0>a?r>0?he:me:r>0?pe:_e},comparePoint:function(e,t){return w(this),L(e,"HIERARCHY_REQUEST_ERR"),y(e,this.startContainer),I(e,t,this.startContainer,this.startOffset)<0?-1:I(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:se,toHtml:function(){return Y(this)},intersectsNode:function(e,t){if(w(this),V(e)!=a(this))return!1;var n=e.parentNode,r=W(e);if(!n)return!0;var i=I(n,r,this.endContainer,this.endOffset),o=I(n,r+1,this.startContainer,this.startOffset);return t?0>=i&&o>=0:0>i&&o>0},isPointInRange:function(e,t){return w(this),L(e,"HIERARCHY_REQUEST_ERR"),y(e,this.startContainer),I(e,t,this.startContainer,this.startOffset)>=0&&I(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e){return s(this,e,!1)},intersectsOrTouchesRange:function(e){return s(this,e,!0)},intersection:function(e){if(this.intersectsRange(e)){var t=I(this.startContainer,this.startOffset,e.startContainer,e.startOffset),n=I(this.endContainer,this.endOffset,e.endContainer,e.endOffset),a=this.cloneRange();return-1==t&&a.setStart(e.startContainer,e.startOffset),1==n&&a.setEnd(e.endContainer,e.endOffset),a}return null},union:function(e){if(this.intersectsOrTouchesRange(e)){var t=this.cloneRange();return-1==I(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==I(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new H("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==_e},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,U(e))<=0},containsRange:function(e){var t=this.intersection(e);return null!==t&&e.equals(t)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var n=t.getNodes([3]);if(n.length>0){t.setStart(n[0],0);var a=n.pop();return t.setEnd(a,a.length),this.containsRange(t)}return this.containsNodeContents(e)},getNodes:function(e,t){return w(this),f(this,e,t)},getDocument:function(){return n(this)},collapseBefore:function(e){this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){this.setStartAfter(e),this.collapse(!0)},getBookmark:function(t){var a=n(this),r=e.createRange(a);t=t||$.getBody(a),r.selectNodeContents(t);var i=this.intersection(r),o=0,s=0;return i&&(r.setEnd(i.startContainer,i.startOffset),o=r.toString().length,s=o+i.toString().length),{start:o,end:s,containerNode:t}},moveToBookmark:function(e){var t=e.containerNode,n=0;this.setStart(t,0),this.collapse(!0);for(var a,r,i,o,s=[t],l=!1,d=!1;!d&&(a=s.pop());)if(3==a.nodeType)r=n+a.length,!l&&e.start>=n&&e.start<=r&&(this.setStart(a,e.start-n),l=!0),l&&e.end>=n&&e.end<=r&&(this.setEnd(a,e.end-n),d=!0),n=r;else for(o=a.childNodes,i=o.length;i--;)s.push(o[i])},getName:function(){return"DomRange"},equals:function(e){return N.rangesEqual(this,e)},isValid:function(){return T(this)},inspect:function(){return m(this)},detach:function(){}}),E(N,A),R.extend(N,{rangeProperties:le,RangeIterator:p,copyComparisonConstants:S,createPrototypeRange:E,inspect:m,toHtml:Y,getRangeDocument:n,rangesEqual:function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}}),e.DomRange=N}),N.createCoreModule("WrappedRange",["DomRange"],function(e,t){var n,a,r=e.dom,i=e.util,o=r.DomPosition,s=e.DomRange,l=r.getBody,d=r.getContentDocument,u=r.isCharacterDataNode;if(e.features.implementsDomRange&&!function(){function a(e){for(var t,n=f.length;n--;)t=f[n],e[t]=e.nativeRange[t];e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset;
}function o(e,t,n,a,r){var i=e.startContainer!==t||e.startOffset!=n,o=e.endContainer!==a||e.endOffset!=r,s=!e.equals(e.nativeRange);(i||o||s)&&(e.setEnd(a,r),e.setStart(t,n))}var u,c,f=s.rangeProperties;n=function(e){if(!e)throw t.createError("WrappedRange: Range must be specified");this.nativeRange=e,a(this)},s.createPrototypeRange(n,o),u=n.prototype,u.selectNode=function(e){this.nativeRange.selectNode(e),a(this)},u.cloneContents=function(){return this.nativeRange.cloneContents()},u.surroundContents=function(e){this.nativeRange.surroundContents(e),a(this)},u.collapse=function(e){this.nativeRange.collapse(e),a(this)},u.cloneRange=function(){return new n(this.nativeRange.cloneRange())},u.refresh=function(){a(this)},u.toString=function(){return this.nativeRange.toString()};var m=document.createTextNode("test");l(document).appendChild(m);var p=document.createRange();p.setStart(m,0),p.setEnd(m,0);try{p.setStart(m,1),u.setStart=function(e,t){this.nativeRange.setStart(e,t),a(this)},u.setEnd=function(e,t){this.nativeRange.setEnd(e,t),a(this)},c=function(e){return function(t){this.nativeRange[e](t),a(this)}}}catch(h){u.setStart=function(e,t){try{this.nativeRange.setStart(e,t)}catch(n){this.nativeRange.setEnd(e,t),this.nativeRange.setStart(e,t)}a(this)},u.setEnd=function(e,t){try{this.nativeRange.setEnd(e,t)}catch(n){this.nativeRange.setStart(e,t),this.nativeRange.setEnd(e,t)}a(this)},c=function(e,t){return function(n){try{this.nativeRange[e](n)}catch(r){this.nativeRange[t](n),this.nativeRange[e](n)}a(this)}}}u.setStartBefore=c("setStartBefore","setEndBefore"),u.setStartAfter=c("setStartAfter","setEndAfter"),u.setEndBefore=c("setEndBefore","setStartBefore"),u.setEndAfter=c("setEndAfter","setStartAfter"),u.selectNodeContents=function(e){this.setStartAndEnd(e,0,r.getNodeLength(e))},p.selectNodeContents(m),p.setEnd(m,3);var _=document.createRange();_.selectNodeContents(m),_.setEnd(m,4),_.setStart(m,2),u.compareBoundaryPoints=-1==p.compareBoundaryPoints(p.START_TO_END,_)&&1==p.compareBoundaryPoints(p.END_TO_START,_)?function(e,t){return t=t.nativeRange||t,e==t.START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)};var g=document.createElement("div");g.innerHTML="123";var v=g.firstChild,y=l(document);y.appendChild(g),p.setStart(v,1),p.setEnd(v,2),p.deleteContents(),"13"==v.data&&(u.deleteContents=function(){this.nativeRange.deleteContents(),a(this)},u.extractContents=function(){var e=this.nativeRange.extractContents();return a(this),e}),y.removeChild(g),y=null,i.isHostMethod(p,"createContextualFragment")&&(u.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),l(document).removeChild(m),u.getName=function(){return"WrappedRange"},e.WrappedRange=n,e.createNativeRange=function(e){return e=d(e,t,"createNativeRange"),e.createRange()}}(),e.features.implementsTextRange){var c=function(e){var t=e.parentElement(),n=e.duplicate();n.collapse(!0);var a=n.parentElement();n=e.duplicate(),n.collapse(!1);var i=n.parentElement(),o=a==i?a:r.getCommonAncestor(a,i);return o==t?o:r.getCommonAncestor(t,o)},f=function(e){return 0==e.compareEndPoints("StartToEnd",e)},m=function(e,t,n,a,i){var s=e.duplicate();s.collapse(n);var l=s.parentElement();if(r.isOrIsAncestorOf(t,l)||(l=t),!l.canHaveHTML){var d=new o(l.parentNode,r.getNodeIndex(l));return{boundaryPosition:d,nodeInfo:{nodeIndex:d.offset,containerElement:d.node}}}var c=r.getDocument(l).createElement("span");c.parentNode&&r.removeNode(c);for(var f,m,p,h,_,g=n?"StartToStart":"StartToEnd",v=i&&i.containerElement==l?i.nodeIndex:0,y=l.childNodes.length,M=y,L=M;L==y?l.appendChild(c):l.insertBefore(c,l.childNodes[L]),s.moveToElementText(c),f=s.compareEndPoints(g,e),0!=f&&v!=M;){if(-1==f){if(M==v+1)break;v=L}else M=M==v+1?v:L;L=Math.floor((v+M)/2),l.removeChild(c)}if(_=c.nextSibling,-1==f&&_&&u(_)){s.setEndPoint(n?"EndToStart":"EndToEnd",e);var b;if(/[\r\n]/.test(_.data)){var T=s.duplicate(),w=T.text.replace(/\r\n/g,"\r").length;for(b=T.moveStart("character",w);-1==(f=T.compareEndPoints("StartToEnd",T));)b++,T.moveStart("character",1)}else b=s.text.length;h=new o(_,b)}else m=(a||!n)&&c.previousSibling,p=(a||n)&&c.nextSibling,h=p&&u(p)?new o(p,0):m&&u(m)?new o(m,m.data.length):new o(l,r.getNodeIndex(c));return r.removeNode(c),{boundaryPosition:h,nodeInfo:{nodeIndex:L,containerElement:l}}},p=function(e,t){var n,a,i,o,s=e.offset,d=r.getDocument(e.node),c=l(d).createTextRange(),f=u(e.node);return f?(n=e.node,a=n.parentNode):(o=e.node.childNodes,n=s<o.length?o[s]:null,a=e.node),i=d.createElement("span"),i.innerHTML="&#feff;",n?a.insertBefore(i,n):a.appendChild(i),c.moveToElementText(i),c.collapse(!t),a.removeChild(i),f&&c[t?"moveStart":"moveEnd"]("character",s),c};a=function(e){this.textRange=e,this.refresh()},a.prototype=new s(document),a.prototype.refresh=function(){var e,t,n,a=c(this.textRange);f(this.textRange)?t=e=m(this.textRange,a,!0,!0).boundaryPosition:(n=m(this.textRange,a,!0,!1),e=n.boundaryPosition,t=m(this.textRange,a,!1,!1,n.nodeInfo).boundaryPosition),this.setStart(e.node,e.offset),this.setEnd(t.node,t.offset)},a.prototype.getName=function(){return"WrappedTextRange"},s.copyComparisonConstants(a);var h=function(e){if(e.collapsed)return p(new o(e.startContainer,e.startOffset),!0);var t=p(new o(e.startContainer,e.startOffset),!0),n=p(new o(e.endContainer,e.endOffset),!1),a=l(s.getRangeDocument(e)).createTextRange();return a.setEndPoint("StartToStart",t),a.setEndPoint("EndToEnd",n),a};if(a.rangeToTextRange=h,a.prototype.toTextRange=function(){return h(this)},e.WrappedTextRange=a,!e.features.implementsDomRange||e.config.preferTextRange){var _=function(e){return e("return this;")()}(Function);"undefined"==typeof _.Range&&(_.Range=a),e.createNativeRange=function(e){return e=d(e,t,"createNativeRange"),l(e).createTextRange()},e.WrappedRange=a}}e.createRange=function(n){return n=d(n,t,"createRange"),new e.WrappedRange(e.createNativeRange(n))},e.createRangyRange=function(e){return e=d(e,t,"createRangyRange"),new s(e)},i.createAliasForDeprecatedMethod(e,"createIframeRange","createRange"),i.createAliasForDeprecatedMethod(e,"createIframeRangyRange","createRangyRange"),e.addShimListener(function(t){var n=t.document;"undefined"==typeof n.createRange&&(n.createRange=function(){return e.createRange(n)}),n=t=null})}),N.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(e,t){function n(e){return"string"==typeof e?/^backward(s)?$/i.test(e):!!e}function a(e,n){if(e){if(S.isWindow(e))return e;if(e instanceof g)return e.win;var a=S.getContentDocument(e,t,n);return S.getWindow(a)}return window}function r(e){return a(e,"getWinSelection").getSelection()}function i(e){return a(e,"getDocSelection").document.selection}function o(e){var t=!1;return e.anchorNode&&(t=1==S.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t}function s(e,t,n){var a=n?"end":"start",r=n?"start":"end";e.anchorNode=t[a+"Container"],e.anchorOffset=t[a+"Offset"],e.focusNode=t[r+"Container"],e.focusOffset=t[r+"Offset"]}function l(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}function d(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function u(t){var n;return t instanceof C?(n=e.createNativeRange(t.getDocument()),n.setEnd(t.endContainer,t.endOffset),n.setStart(t.startContainer,t.startOffset)):t instanceof A?n=t.nativeRange:R.implementsDomRange&&t instanceof S.getWindow(t.startContainer).Range&&(n=t),n}function c(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,n=e.length;n>t;++t)if(!S.isAncestorOf(e[0],e[t]))return!1;return!0}function f(e){var n=e.getNodes();if(!c(n))throw t.createError("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return n[0]}function m(e){return!!e&&"undefined"!=typeof e.text}function p(e,t){var n=new A(t);e._ranges=[n],s(e,n,!1),e.rangeCount=1,e.isCollapsed=n.collapsed}function h(t){if(t._ranges.length=0,"None"==t.docSelection.type)d(t);else{var n=t.docSelection.createRange();if(m(n))p(t,n);else{t.rangeCount=n.length;for(var a,r=H(n.item(0)),i=0;i<t.rangeCount;++i)a=e.createRange(r),a.selectNode(n.item(i)),t._ranges.push(a);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,s(t,t._ranges[t.rangeCount-1],!1)}}}function _(e,n){for(var a=e.docSelection.createRange(),r=f(n),i=H(a.item(0)),o=j(i).createControlRange(),s=0,l=a.length;l>s;++s)o.add(a.item(s));try{o.add(r)}catch(d){throw t.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}o.select(),h(e)}function g(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}function v(e){e.win=e.anchorNode=e.focusNode=e._ranges=null,e.rangeCount=e.anchorOffset=e.focusOffset=0,e.detached=!0}function y(e,t){for(var n,a,r=te.length;r--;)if(n=te[r],a=n.selection,"deleteAll"==t)v(a);else if(n.win==e)return"delete"==t?(te.splice(r,1),!0):a;return"deleteAll"==t&&(te.length=0),null}function M(e,n){for(var a,r=H(n[0].startContainer),i=j(r).createControlRange(),o=0,s=n.length;s>o;++o){a=f(n[o]);try{i.add(a)}catch(l){throw t.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}i.select(),h(e)}function L(e,t){if(e.win.document!=H(t))throw new N("WRONG_DOCUMENT_ERR")}function b(t){return function(n,a){var r;this.rangeCount?(r=this.getRangeAt(0),r["set"+(t?"Start":"End")](n,a)):(r=e.createRange(this.win.document),r.setStartAndEnd(n,a)),this.setSingleRange(r,this.isBackward())}}function T(e){var t=[],n=new $(e.anchorNode,e.anchorOffset),a=new $(e.focusNode,e.focusOffset),r="function"==typeof e.getName?e.getName():"Selection";if("undefined"!=typeof e.rangeCount)for(var i=0,o=e.rangeCount;o>i;++i)t[i]=C.inspect(e.getRangeAt(i));return"["+r+"(Ranges: "+t.join(", ")+")(anchor: "+n.inspect()+", focus: "+a.inspect()+"]"}e.config.checkSelectionRanges=!0;var w,k,Y="boolean",D="number",S=e.dom,x=e.util,E=x.isHostMethod,C=e.DomRange,A=e.WrappedRange,N=e.DOMException,$=S.DomPosition,R=e.features,O="Control",H=S.getDocument,j=S.getBody,W=C.rangesEqual,P=E(window,"getSelection"),F=x.isHostObject(document,"selection");R.implementsWinGetSelection=P,R.implementsDocSelection=F;var I=F&&(!P||e.config.preferTextRange);if(I)w=i,e.isSelectionValid=function(e){var t=a(e,"isSelectionValid").document,n=t.selection;return"None"!=n.type||H(n.createRange().parentElement())==t};else{if(!P)return t.fail("Neither document.selection or window.getSelection() detected."),!1;w=r,e.isSelectionValid=function(){return!0}}e.getNativeSelection=w;var z=w();if(!z)return t.fail("Native selection was null (possibly issue 138?)"),!1;var B=e.createNativeRange(document),U=j(document),q=x.areHostProperties(z,["anchorNode","focusNode","anchorOffset","focusOffset"]);R.selectionHasAnchorAndFocus=q;var V=E(z,"extend");R.selectionHasExtend=V;var G=typeof z.rangeCount==D;R.selectionHasRangeCount=G;var J=!1,K=!0,Z=V?function(t,n){var a=C.getRangeDocument(n),r=e.createRange(a);r.collapseToPoint(n.endContainer,n.endOffset),t.addRange(u(r)),t.extend(n.startContainer,n.startOffset)}:null;x.areHostMethods(z,["addRange","getRangeAt","removeAllRanges"])&&typeof z.rangeCount==D&&R.implementsDomRange&&!function(){var t=window.getSelection();if(t){for(var n=t.rangeCount,a=n>1,r=[],i=o(t),s=0;n>s;++s)r[s]=t.getRangeAt(s);var l=S.createTestElement(document,"",!1),d=l.appendChild(document.createTextNode("   ")),u=document.createRange();if(u.setStart(d,1),u.collapse(!0),t.removeAllRanges(),t.addRange(u),K=1==t.rangeCount,t.removeAllRanges(),!a){var c=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(c&&parseInt(c[1])>=36)J=!1;else{var f=u.cloneRange();u.setStart(d,0),f.setEnd(d,3),f.setStart(d,2),t.addRange(u),t.addRange(f),J=2==t.rangeCount}}for(S.removeNode(l),t.removeAllRanges(),s=0;n>s;++s)0==s&&i?Z?Z(t,r[s]):(e.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),t.addRange(r[s])):t.addRange(r[s])}}(),R.selectionSupportsMultipleRanges=J,R.collapsedNonEditableSelectionsSupported=K;var X,Q=!1;U&&E(U,"createControlRange")&&(X=U.createControlRange(),x.areHostProperties(X,["item","add"])&&(Q=!0)),R.implementsControlRange=Q,k=q?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return e.rangeCount?e.getRangeAt(e.rangeCount-1).collapsed:!1};var ee;E(z,"getRangeAt")?ee=function(e,t){try{return e.getRangeAt(t)}catch(n){return null}}:q&&(ee=function(t){var n=H(t.anchorNode),a=e.createRange(n);return a.setStartAndEnd(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),a.collapsed!==this.isCollapsed&&a.setStartAndEnd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset),a}),g.prototype=e.selectionPrototype;var te=[],ne=function(e){if(e&&e instanceof g)return e.refresh(),e;e=a(e,"getNativeSelection");var t=y(e),n=w(e),r=F?i(e):null;return t?(t.nativeSelection=n,t.docSelection=r,t.refresh()):(t=new g(n,r,e),te.push({win:e,selection:t})),t};e.getSelection=ne,x.createAliasForDeprecatedMethod(e,"getIframeSelection","getSelection");var ae=g.prototype;if(!I&&q&&x.areHostMethods(z,["removeAllRanges","addRange"])){ae.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),d(this)};var re=function(e,t){Z(e.nativeSelection,t),e.refresh()};ae.addRange=G?function(t,a){if(Q&&F&&this.docSelection.type==O)_(this,t);else if(n(a)&&V)re(this,t);else{var r;J?r=this.rangeCount:(this.removeAllRanges(),r=0);var i=u(t).cloneRange();try{this.nativeSelection.addRange(i)}catch(o){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==r+1){if(e.config.checkSelectionRanges){var l=ee(this.nativeSelection,this.rangeCount-1);l&&!W(l,t)&&(t=new A(l))}this._ranges[this.rangeCount-1]=t,s(this,t,se(this.nativeSelection)),this.isCollapsed=k(this)}else this.refresh()}}:function(e,t){n(t)&&V?re(this,e):(this.nativeSelection.addRange(u(e)),this.refresh())},ae.setRanges=function(e){if(Q&&F&&e.length>1)M(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;n>t;++t)this.addRange(e[t])}}}else{if(!(E(z,"empty")&&E(B,"select")&&Q&&I))return t.fail("No means of selecting a Range or TextRange was found"),!1;ae.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=H(this.anchorNode);else if(this.docSelection.type==O){var t=this.docSelection.createRange();t.length&&(e=H(t.item(0)))}if(e){var n=j(e).createTextRange();n.select(),this.docSelection.empty()}}}catch(a){}d(this)},ae.addRange=function(t){this.docSelection.type==O?_(this,t):(e.WrappedTextRange.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,s(this,t,!1))},ae.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?M(this,e):t&&this.addRange(e[0])}}ae.getRangeAt=function(e){if(0>e||e>=this.rangeCount)throw new N("INDEX_SIZE_ERR");return this._ranges[e].cloneRange()};var ie;if(I)ie=function(t){var n;e.isSelectionValid(t.win)?n=t.docSelection.createRange():(n=j(t.win.document).createTextRange(),n.collapse(!0)),t.docSelection.type==O?h(t):m(n)?p(t,n):d(t)};else if(E(z,"getRangeAt")&&typeof z.rangeCount==D)ie=function(t){if(Q&&F&&t.docSelection.type==O)h(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var n=0,a=t.rangeCount;a>n;++n)t._ranges[n]=new e.WrappedRange(t.nativeSelection.getRangeAt(n));s(t,t._ranges[t.rangeCount-1],se(t.nativeSelection)),t.isCollapsed=k(t)}else d(t)};else{if(!q||typeof z.isCollapsed!=Y||typeof B.collapsed!=Y||!R.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;ie=function(e){var t,n=e.nativeSelection;n.anchorNode?(t=ee(n,0),e._ranges=[t],e.rangeCount=1,l(e),e.isCollapsed=k(e)):d(e)}}ae.refresh=function(e){var t=e?this._ranges.slice(0):null,n=this.anchorNode,a=this.anchorOffset;if(ie(this),e){var r=t.length;if(r!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=a)return!0;for(;r--;)if(!W(t[r],this._ranges[r]))return!0;return!1}};var oe=function(e,t){var n=e.getAllRanges();e.removeAllRanges();for(var a=0,r=n.length;r>a;++a)W(t,n[a])||e.addRange(n[a]);e.rangeCount||d(e)};ae.removeRange=Q&&F?function(e){if(this.docSelection.type==O){for(var t,n=this.docSelection.createRange(),a=f(e),r=H(n.item(0)),i=j(r).createControlRange(),o=!1,s=0,l=n.length;l>s;++s)t=n.item(s),t!==a||o?i.add(n.item(s)):o=!0;i.select(),h(this)}else oe(this,e)}:function(e){oe(this,e)};var se;!I&&q&&R.implementsDomRange?(se=o,ae.isBackward=function(){return se(this)}):se=ae.isBackward=function(){return!1},ae.isBackwards=ae.isBackward,ae.toString=function(){for(var e=[],t=0,n=this.rangeCount;n>t;++t)e[t]=""+this._ranges[t];return e.join("")},ae.collapse=function(t,n){L(this,t);var a=e.createRange(t);a.collapseToPoint(t,n),this.setSingleRange(a),this.isCollapsed=!0},ae.collapseToStart=function(){if(!this.rangeCount)throw new N("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},ae.collapseToEnd=function(){if(!this.rangeCount)throw new N("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},ae.selectAllChildren=function(t){L(this,t);var n=e.createRange(t);n.selectNodeContents(t),this.setSingleRange(n)},ae.deleteFromDocument=function(){if(Q&&F&&this.docSelection.type==O){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),S.removeNode(e);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();if(n.length){this.removeAllRanges();for(var a=0,r=n.length;r>a;++a)n[a].deleteContents();this.addRange(n[r-1])}}},ae.eachRange=function(e,t){for(var n=0,a=this._ranges.length;a>n;++n)if(e(this.getRangeAt(n)))return t},ae.getAllRanges=function(){var e=[];return this.eachRange(function(t){e.push(t)}),e},ae.setSingleRange=function(e,t){this.removeAllRanges(),this.addRange(e,t)},ae.callMethodOnEachRange=function(e,t){var n=[];return this.eachRange(function(a){n.push(a[e].apply(a,t||[]))}),n},ae.setStart=b(!0),ae.setEnd=b(!1),e.rangePrototype.select=function(e){ne(this.getDocument()).setSingleRange(this,e)},ae.changeEachRange=function(e){var t=[],n=this.isBackward();this.eachRange(function(n){e(n),t.push(n)}),this.removeAllRanges(),n&&1==t.length?this.addRange(t[0],"backward"):this.setRanges(t)},ae.containsNode=function(e,t){return this.eachRange(function(n){return n.containsNode(e,t)},!0)||!1},ae.getBookmark=function(e){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[e])}},ae.moveToBookmark=function(t){for(var n,a,r=[],i=0;n=t.rangeBookmarks[i++];)a=e.createRange(this.win),a.moveToBookmark(n),r.push(a);t.backward?this.setSingleRange(r[0],"backward"):this.setRanges(r)},ae.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},ae.restoreRanges=function(e){this.removeAllRanges();for(var t,n=0;t=e.ranges[n];++n)this.addRange(t,e.backward&&0==n)},ae.toHtml=function(){var e=[];return this.eachRange(function(t){e.push(C.toHtml(t))}),e.join("")},R.implementsTextRange&&(ae.getNativeTextRange=function(){var n;if(n=this.docSelection){var a=n.createRange();if(m(a))return a;throw t.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return e.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw t.createError("getNativeTextRange: selection contains no range")}),ae.getName=function(){return"WrappedSelection"},ae.inspect=function(){return T(this)},ae.detach=function(){y(this.win,"delete"),v(this)},g.detachAll=function(){y(null,"deleteAll")},g.inspect=T,g.isDirectionBackward=n,e.Selection=g,e.selectionPrototype=ae,e.addShimListener(function(e){"undefined"==typeof e.getSelection&&(e.getSelection=function(){return ne(e)}),e=null})});var j=!1,W=function(){j||(j=!0,!N.initialized&&N.config.autoInitialize&&c())};return C&&("complete"==document.readyState?W():(e(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",W,!1),R(window,"load",W))),N},this),function(t,n){"function"==typeof define&&define.amd?define(["./rangy-core"],t):"undefined"!=typeof module&&"object"==typeof e?module.exports=t(require("rangy")):t(n.rangy)}(function(e){return e.createModule("SaveRestore",["WrappedRange"],function(e,t){function n(e,t){return(t||document).getElementById(e)}function a(e,t){var n,a="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),r=p.getDocument(e.startContainer),i=e.cloneRange();return i.collapse(t),n=r.createElement("span"),n.id=a,n.style.lineHeight="0",n.style.display="none",n.className="rangySelectionBoundary",n.appendChild(r.createTextNode(g)),i.insertNode(n),n}function r(e,a,r,i){var o=n(r,e);o?(a[i?"setStartBefore":"setEndBefore"](o),h(o)):t.warn("Marker element has been removed. Cannot restore selection.")}function i(e,t){return t.compareBoundaryPoints(e.START_TO_START,e)}function o(t,n){var r,i,o=e.DomRange.getRangeDocument(t),s=t.toString(),l=_(n);return t.collapsed?(i=a(t,!1),{document:o,markerId:i.id,collapsed:!0}):(i=a(t,!1),r=a(t,!0),{document:o,startMarkerId:r.id,endMarkerId:i.id,collapsed:!1,backward:l,toString:function(){return"original text: '"+s+"', new text: '"+t.toString()+"'"}})}function s(a,i){var o=a.document;"undefined"==typeof i&&(i=!0);var s=e.createRange(o);if(a.collapsed){var l=n(a.markerId,o);if(l){l.style.display="inline";var d=l.previousSibling;d&&3==d.nodeType?(h(l),s.collapseToPoint(d,d.length)):(s.collapseBefore(l),h(l))}else t.warn("Marker element has been removed. Cannot restore selection.")}else r(o,s,a.startMarkerId,!0),r(o,s,a.endMarkerId,!1);return i&&s.normalizeBoundaries(),s}function l(t,a){var r,s,l=[],d=_(a);t=t.slice(0),t.sort(i);for(var u=0,c=t.length;c>u;++u)l[u]=o(t[u],d);for(u=c-1;u>=0;--u)r=t[u],s=e.DomRange.getRangeDocument(r),r.collapsed?r.collapseAfter(n(l[u].markerId,s)):(r.setEndBefore(n(l[u].endMarkerId,s)),r.setStartAfter(n(l[u].startMarkerId,s)));return l}function d(n){if(!e.isSelectionValid(n))return t.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var a=e.getSelection(n),r=a.getAllRanges(),i=1==r.length&&a.isBackward(),o=l(r,i);return i?a.setSingleRange(r[0],i):a.setRanges(r),{win:n,rangeInfos:o,restored:!1}}function u(e){for(var t=[],n=e.length,a=n-1;a>=0;a--)t[a]=s(e[a],!0);return t}function c(t,n){if(!t.restored){var a=t.rangeInfos,r=e.getSelection(t.win),i=u(a),o=a.length;1==o&&n&&e.features.selectionHasExtend&&a[0].backward?(r.removeAllRanges(),r.addRange(i[0],!0)):r.setRanges(i),t.restored=!0}}function f(e,t){var a=n(t,e);a&&h(a)}function m(e){for(var t,n=e.rangeInfos,a=0,r=n.length;r>a;++a)t=n[a],t.collapsed?f(e.doc,t.markerId):(f(e.doc,t.startMarkerId),f(e.doc,t.endMarkerId))}var p=e.dom,h=p.removeNode,_=e.Selection.isDirectionBackward,g="\ufeff";e.util.extend(e,{saveRange:o,restoreRange:s,saveRanges:l,restoreRanges:u,saveSelection:d,restoreSelection:c,removeMarkerElement:f,removeMarkers:m})}),e},this)}({},function(){return this}()),function(e,t,n){"use strict";function a(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return o(t,c(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}function r(e){var n=[],a=c(n,t.noop);return a.chars(e),n.join("")}function i(e){var t,n={},a=e.split(",");for(t=0;t<a.length;t++)n[a[t]]=!0;return n}function o(e,n){function a(e,a,i,o){if(a=t.lowercase(a),D[a])for(;u.last()&&S[u.last()];)r("",u.last());Y[a]&&u.last()==a&&r("",a),o=T[a]||!!o,o||u.push(a);var l={};i.replace(h,function(e,t,n,a,r){var i=n||a||r||"";l[t]=s(i)}),n.start&&n.start(a,l,o)}function r(e,a){var r,i=0;if(a=t.lowercase(a))for(i=u.length-1;i>=0&&u[i]!=a;i--);if(i>=0){for(r=u.length-1;r>=i;r--)n.end&&n.end(u[r]);u.length=i}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var i,o,l,d,u=[],c=e;for(u.last=function(){return u[u.length-1]};e;){if(d="",o=!0,u.last()&&E[u.last()]?(e=e.replace(new RegExp("([^]*)<\\s*\\/\\s*"+u.last()+"[^>]*>","i"),function(e,t){return t=t.replace(v,"$1").replace(M,"$1"),n.chars&&n.chars(s(t)),""}),r("",u.last())):(0===e.indexOf("<!--")?(i=e.indexOf("--",4),i>=0&&e.lastIndexOf("-->",i)===i&&(n.comment&&n.comment(e.substring(4,i)),e=e.substring(i+3),o=!1)):y.test(e)?(l=e.match(y),l&&(e=e.replace(l[0],""),o=!1)):g.test(e)?(l=e.match(p),l&&(e=e.substring(l[0].length),l[0].replace(p,r),o=!1)):_.test(e)&&(l=e.match(m),l?(l[4]&&(e=e.substring(l[0].length),l[0].replace(m,a)),o=!1):(d+="<",e=e.substring(1))),o&&(i=e.indexOf("<"),d+=0>i?e:e.substring(0,i),e=0>i?"":e.substring(i),n.chars&&n.chars(s(d)))),e==c)throw f("badparse","The sanitizer was unable to parse the following block of html: {0}",e);c=e}r()}function s(e){if(!e)return"";var t=H.exec(e),n=t[1],a=t[3],r=t[2];return r&&(O.innerHTML=r.replace(/</g,"&lt;"),r="textContent"in O?O.textContent:O.innerText),n+r+a}function l(e){return e.replace(/&/g,"&amp;").replace(L,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(b,function(e){var t=e.charCodeAt(0);return 159>=t||173==t||t>=1536&&1540>=t||1807==t||6068==t||6069==t||t>=8204&&8207>=t||t>=8232&&8239>=t||t>=8288&&8303>=t||65279==t||t>=65520&&65535>=t?"&#"+t+";":e}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function d(e){var n="",a=e.split(";");return t.forEach(a,function(e){var a=e.split(":");if(2==a.length){var r=j(t.lowercase(a[0])),e=j(t.lowercase(a[1]));(("color"===r||"background-color"===r)&&(e.match(/^rgb\([0-9%,\. ]*\)$/i)||e.match(/^rgba\([0-9%,\. ]*\)$/i)||e.match(/^hsl\([0-9%,\. ]*\)$/i)||e.match(/^hsla\([0-9%,\. ]*\)$/i)||e.match(/^#[0-9a-f]{3,6}$/i)||e.match(/^[a-z]*$/i))||"text-align"===r&&("left"===e||"right"===e||"center"===e||"justify"===e)||"float"===r&&("left"===e||"right"===e||"none"===e)||("width"===r||"height"===r)&&e.match(/[0-9\.]*(px|em|rem|%)/)||"direction"===r&&e.match(/^ltr|rtl|initial|inherit$/))&&(n+=r+": "+e+";")}}),n}function u(e,t,n,a){return"img"===e&&t["ta-insert-video"]&&("ta-insert-video"===n||"allowfullscreen"===n||"frameborder"===n||"contenteditable"===n&&"false"===a)?!0:!1}function c(e,n){var a=!1,r=t.bind(e,e.push);return{start:function(e,i,o){e=t.lowercase(e),!a&&E[e]&&(a=e),a||C[e]!==!0||(r("<"),r(e),t.forEach(i,function(a,o){var s=t.lowercase(o),c="img"===e&&"src"===s||"background"===s;("style"===s&&""!==(a=d(a))||u(e,i,s,a)||R[s]===!0&&(A[s]!==!0||n(a,c)))&&(r(" "),r(o),r('="'),r(l(a)),r('"'))}),r(o?"/>":">"))},end:function(e){e=t.lowercase(e),a||C[e]!==!0||(r("</"),r(e),r(">")),e==a&&(a=!1)},chars:function(e){a||r(l(e))}}}var f=t.$$minErr("$sanitize"),m=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,p=/^<\/\s*([\w:-]+)[^>]*>/,h=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,_=/^</,g=/^<\//,v=/<!--(.*?)-->/g,y=/<!DOCTYPE([^>]*?)>/i,M=/<!\[CDATA\[(.*?)]]>/g,L=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/([^\#-~| |!])/g,T=i("area,br,col,hr,img,wbr"),w=i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),k=i("rp,rt"),Y=t.extend({},k,w),D=t.extend({},w,i("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),S=t.extend({},k,i("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),x=i("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),E=i("script,style"),C=t.extend({},T,D,S,Y,x),A=i("background,cite,href,longdesc,src,usemap,xlink:href"),N=i("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,id,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),$=i("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),R=t.extend({},A,$,N),O=document.createElement("pre"),H=/^(\s*)([\s\S]*?)(\s*)$/,j=function(){return String.prototype.trim?function(e){return t.isString(e)?e.trim():e}:function(e){return t.isString(e)?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e}}();t.module("ngSanitize",[]).provider("$sanitize",a),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"”’]/,a=/^mailto:/;return function(i,o){function s(e){e&&m.push(r(e))}function l(e,n){m.push("<a "),t.isDefined(o)&&m.push('target="',o,'" '),m.push('href="',e.replace(/"/g,"&quot;"),'">'),s(n),m.push("</a>")}if(!i)return i;for(var d,u,c,f=i,m=[];d=f.match(n);)u=d[0],d[2]||d[4]||(u=(d[3]?"http://":"mailto:")+u),c=d.index,s(f.substr(0,c)),l(u,d[0].replace(a,"")),f=f.substring(c+d[0].length);return s(f),e(m.join(""))}}])}(window,window.angular),!function(e,t){t["true"]=e,function(e,t){"use strict";function n(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return i(t,u(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}function a(e){var n=[],a=u(n,t.noop);return a.chars(e),n.join("")}function r(e){var t,n={},a=e.split(",");for(t=0;t<a.length;t++)n[a[t]]=!0;return n}function i(e,n){function a(e,a,i,s){if(a=t.lowercase(a),Y[a])for(;u.last()&&D[u.last()];)r("",u.last());k[a]&&u.last()==a&&r("",a),s=b[a]||!!s,s||u.push(a);var l={};i.replace(p,function(e,t,n,a,r){var i=n||a||r||"";l[t]=o(i)}),n.start&&n.start(a,l,s)}function r(e,a){var r,i=0;if(a=t.lowercase(a))for(i=u.length-1;i>=0&&u[i]!=a;i--);if(i>=0){for(r=u.length-1;r>=i;r--)n.end&&n.end(u[r]);u.length=i}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var i,s,l,d,u=[],M=e;for(u.last=function(){return u[u.length-1]};e;){if(d="",s=!0,u.last()&&x[u.last()]?(e=e.replace(new RegExp("([^]*)<\\s*\\/\\s*"+u.last()+"[^>]*>","i"),function(e,t){return t=t.replace(g,"$1").replace(y,"$1"),n.chars&&n.chars(o(t)),""}),r("",u.last())):(0===e.indexOf("<!--")?(i=e.indexOf("--",4),i>=0&&e.lastIndexOf("-->",i)===i&&(n.comment&&n.comment(e.substring(4,i)),e=e.substring(i+3),s=!1)):v.test(e)?(l=e.match(v),l&&(e=e.replace(l[0],""),s=!1)):_.test(e)?(l=e.match(m),l&&(e=e.substring(l[0].length),l[0].replace(m,r),s=!1)):h.test(e)&&(l=e.match(f),l?(l[4]&&(e=e.substring(l[0].length),
l[0].replace(f,a)),s=!1):(d+="<",e=e.substring(1))),s&&(i=e.indexOf("<"),d+=0>i?e:e.substring(0,i),e=0>i?"":e.substring(i),n.chars&&n.chars(o(d)))),e==M)throw c("badparse","The sanitizer was unable to parse the following block of html: {0}",e);M=e}r()}function o(e){if(!e)return"";var t=O.exec(e),n=t[1],a=t[3],r=t[2];return r&&(R.innerHTML=r.replace(/</g,"&lt;"),r="textContent"in R?R.textContent:R.innerText),n+r+a}function s(e){return e.replace(/&/g,"&amp;").replace(M,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(L,function(e){var t=e.charCodeAt(0);return 159>=t||173==t||t>=1536&&1540>=t||1807==t||6068==t||6069==t||t>=8204&&8207>=t||t>=8232&&8239>=t||t>=8288&&8303>=t||65279==t||t>=65520&&65535>=t?"&#"+t+";":e}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(e){var n="",a=e.split(";");return t.forEach(a,function(e){var a=e.split(":");if(2==a.length){var r=H(t.lowercase(a[0])),e=H(t.lowercase(a[1]));(("color"===r||"background-color"===r)&&(e.match(/^rgb\([0-9%,\. ]*\)$/i)||e.match(/^rgba\([0-9%,\. ]*\)$/i)||e.match(/^hsl\([0-9%,\. ]*\)$/i)||e.match(/^hsla\([0-9%,\. ]*\)$/i)||e.match(/^#[0-9a-f]{3,6}$/i)||e.match(/^[a-z]*$/i))||"text-align"===r&&("left"===e||"right"===e||"center"===e||"justify"===e)||"float"===r&&("left"===e||"right"===e||"none"===e)||("width"===r||"height"===r)&&e.match(/[0-9\.]*(px|em|rem|%)/)||"direction"===r&&e.match(/^ltr|rtl|initial|inherit$/))&&(n+=r+": "+e+";")}}),n}function d(e,t,n,a){return"img"===e&&t["ta-insert-video"]&&("ta-insert-video"===n||"allowfullscreen"===n||"frameborder"===n||"contenteditable"===n&&"false"===a)?!0:!1}function u(e,n){var a=!1,r=t.bind(e,e.push);return{start:function(e,i,o){e=t.lowercase(e),!a&&x[e]&&(a=e),a||E[e]!==!0||(r("<"),r(e),t.forEach(i,function(a,o){var u=t.lowercase(o),c="img"===e&&"src"===u||"background"===u;("style"===u&&""!==(a=l(a))||d(e,i,u,a)||$[u]===!0&&(C[u]!==!0||n(a,c)))&&(r(" "),r(o),r('="'),r(s(a)),r('"'))}),r(o?"/>":">"))},end:function(e){e=t.lowercase(e),a||E[e]!==!0||(r("</"),r(e),r(">")),e==a&&(a=!1)},chars:function(e){a||r(s(e))}}}var c=t.$$minErr("$sanitize"),f=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,m=/^<\/\s*([\w:-]+)[^>]*>/,p=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,h=/^</,_=/^<\//,g=/<!--(.*?)-->/g,v=/<!DOCTYPE([^>]*?)>/i,y=/<!\[CDATA\[(.*?)]]>/g,M=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,L=/([^\#-~| |!])/g,b=r("area,br,col,hr,img,wbr"),T=r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),w=r("rp,rt"),k=t.extend({},w,T),Y=t.extend({},T,r("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),D=t.extend({},w,r("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),S=r("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),x=r("script,style"),E=t.extend({},b,Y,D,k,S),C=r("background,cite,href,longdesc,src,usemap,xlink:href"),A=r("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,id,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),N=r("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),$=t.extend({},C,N,A),R=document.createElement("pre"),O=/^(\s*)([\s\S]*?)(\s*)$/,H=function(){return String.prototype.trim?function(e){return t.isString(e)?e.trim():e}:function(e){return t.isString(e)?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e}}();t.module("ngSanitize",[]).provider("$sanitize",n),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"”’]/,r=/^mailto:/;return function(i,o){function s(e){e&&m.push(a(e))}function l(e,n){m.push("<a "),t.isDefined(o)&&m.push('target="',o,'" '),m.push('href="',e.replace(/"/g,"&quot;"),'">'),s(n),m.push("</a>")}if(!i)return i;for(var d,u,c,f=i,m=[];d=f.match(n);)u=d[0],d[2]||d[4]||(u=(d[3]?"http://":"mailto:")+u),c=d.index,s(f.substr(0,c)),l(u,d[0].replace(r,"")),f=f.substring(c+d[0].length);return s(f),e(m.join(""))}}])}(window,window.angular)}({},function(){return this}()),function(){"use strict";function e(e){try{return 0!==angular.element(e).length}catch(t){return!1}}function t(t,n){if(!t||""===t||g.hasOwnProperty(t))throw"textAngular Error: A unique name is required for a Tool Definition";if(n.display&&(""===n.display||!e(n.display))||!n.display&&!n.buttontext&&!n.iconclass)throw'textAngular Error: Tool Definition for "'+t+'" does not have a valid display/iconclass/buttontext value';g[t]=n}var n={ie:function(){for(var e,t=3,n=document.createElement("div"),a=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",a[0];);return t>4?t:e}(),webkit:/AppleWebKit\/([\d.]+)/i.test(navigator.userAgent)},a=!1;n.webkit&&(document.addEventListener("mousedown",function(e){var t=e||window.event,n=t.target;if(a&&null!==n){for(var r=!1,i=n;null!==i&&"html"!==i.tagName.toLowerCase()&&!r;)r="true"===i.contentEditable,i=i.parentNode;r||(document.getElementById("textAngular-editableFix-010203040506070809").setSelectionRange(0,0),n.focus(),n.select&&n.select())}a=!1},!1),angular.element(document).ready(function(){angular.element(document.body).append(angular.element('<input id="textAngular-editableFix-010203040506070809" class="ta-hidden-input" unselectable="on" tabIndex="-1">'))}));var r=/^(address|article|aside|audio|blockquote|canvas|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video)$/i,i=/^(ul|li|ol)$/i,o=/^(address|article|aside|audio|blockquote|canvas|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video|li)$/i;String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var s,l,d,u,c,f;if(n.ie>8||void 0===n.ie){for(var m=document.styleSheets,p=0;p<m.length;p++)if((0===m[p].media.length||m[p].media.mediaText.match(/(all|screen)/gi))&&m[p].href&&m[p].href.match(/textangular\.(min\.|)css/gi)){s=m[p];break}s||(s=function(){var e=document.createElement("style");return n.webkit&&e.appendChild(document.createTextNode("")),document.getElementsByTagName("head")[0].appendChild(e),e.sheet}()),l=function(e,t){return u(s,e,t)},u=function(e,t,n){var a,r;return e.cssRules?a=Math.max(e.cssRules.length-1,0):e.rules&&(a=Math.max(e.rules.length-1,0)),e.insertRule?e.insertRule(t+"{"+n+"}",a):e.addRule(t,n,a),s.rules?r=s.rules[a]:s.cssRules&&(r=s.cssRules[a]),r},f=function(e,t){var n,a;for(n=0;n<t.length;n++)if(t[n].cssText===e.cssText){a=n;break}return a},d=function(e){c(s,e)},c=function(e,t){var n=e.cssRules||e.rules;if(n){var a=f(t,n);e.removeRule?e.removeRule(a):e.deleteRule(a)}}}angular.module("textAngular.factories",[]).factory("taBrowserTag",[function(){return function(e){return e?""===e?void 0===n.ie?"div":n.ie<=8?"P":"p":n.ie<=8?e.toUpperCase():e:n.ie<=8?"P":"p"}}]).factory("taApplyCustomRenderers",["taCustomRenderers","taDOM",function(e,t){return function(n){var a=angular.element("<div></div>");return a[0].innerHTML=n,angular.forEach(e,function(e){var n=[];e.selector&&""!==e.selector?n=a.find(e.selector):e.customAttribute&&""!==e.customAttribute&&(n=t.getByAttribute(a,e.customAttribute)),angular.forEach(n,function(t){t=angular.element(t),e.selector&&""!==e.selector&&e.customAttribute&&""!==e.customAttribute?void 0!==t.attr(e.customAttribute)&&e.renderLogic(t):e.renderLogic(t)})}),a[0].innerHTML}}]).factory("taFixChrome",function(){var e=function(e){if(!e||!angular.isString(e)||e.length<=0)return e;for(var t,n,a,r=/<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi,i="",o=0;t=r.exec(e);)n=t[3]||t[4],n&&n.match(/line-height: 1.[0-9]{3,12};|color: inherit; line-height: 1.1;/i)&&(n=n.replace(/( |)font-family: inherit;|( |)line-height: 1.[0-9]{3,12};|( |)color: inherit;/gi,""),a="<"+t[1].trim(),n.trim().length>0&&(a+=" style="+t[2].substring(0,1)+n+t[2].substring(0,1)),a+=t[5].trim()+">",i+=e.substring(o,t.index)+a,o=t.index+t[0].length);return i+=e.substring(o),o>0?i.replace(/<span\s?>(.*?)<\/span>(<br(\/|)>|)/gi,"$1"):e};return e}).factory("taSanitize",["$sanitize",function(e){function t(e,t){for(var n,a=0,r=0,i=/<[^>]*>/gi;n=i.exec(e);)if(r=n.index,"/"===n[0].substr(1,1)){if(0===a)break;a--}else a++;return t+e.substring(0,r)+angular.element(t)[0].outerHTML.substring(t.length)+e.substring(r)}function n(e){if(!e||!angular.isString(e)||e.length<=0)return e;for(var a,i,o,s,l,u,c=/<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi,f="",m="",p=0;i=c.exec(e);){s=i[3]||i[4];var h=new RegExp(d,"i");if(angular.isString(s)&&h.test(s)){l="";for(var _=new RegExp(d,"ig");o=_.exec(s);)for(a=0;a<r.length;a++)o[2*a+2]&&(l+="<"+r[a].tag+">");u=n(e.substring(p,i.index)),m+=f.length>0?t(u,f):u,s=s.replace(new RegExp(d,"ig"),""),m+="<"+i[1].trim(),s.length>0&&(m+=' style="'+s+'"'),m+=i[5]+">",p=i.index+i[0].length,f=l}}return m+=f.length>0?t(e.substring(p),f):e.substring(p)}function a(e){if(!e||!angular.isString(e)||e.length<=0)return e;for(var t,n=/<([^>\/]+?)align=("([^"]+)"|'([^']+)')([^>]*)>/gi,a="",r=0;t=n.exec(e);){a+=e.substring(r,t.index),r=t.index+t[0].length;var i="<"+t[1]+t[5];/style=("([^"]+)"|'([^']+)')/gi.test(i)?i=i.replace(/style=("([^"]+)"|'([^']+)')/i,'style="$2$3 text-align:'+(t[3]||t[4])+';"'):i+=' style="text-align:'+(t[3]||t[4])+';"',i+=">",a+=i}return a+e.substring(r)}for(var r=[{property:"font-weight",values:["bold"],tag:"b"},{property:"font-style",values:["italic"],tag:"i"}],i=[],o=0;o<r.length;o++){for(var s="("+r[o].property+":\\s*(",l=0;l<r[o].values.length;l++)l>0&&(s+="|"),s+=r[o].values[l];s+=");)",i.push(s)}var d="("+i.join("|")+")";return function(t,r,i){if(!i)try{t=n(t)}catch(o){}t=a(t);var s;try{s=e(t),i&&(s=t)}catch(o){s=r||""}var l,d=s.match(/(<pre[^>]*>.*?<\/pre[^>]*>)/gi),u=s.replace(/(&#(9|10);)*/gi,""),c=/<pre[^>]*>.*?<\/pre[^>]*>/gi,f=0,m=0;for(s="";null!==(l=c.exec(u))&&f<d.length;)s+=u.substring(m,l.index)+d[f],m=l.index+l[0].length,f++;return s+u.substring(m)}}]).factory("taToolExecuteAction",["$q","$log",function(e,t){return function(n){void 0!==n&&(this.$editor=function(){return n});var a,r=e.defer(),i=r.promise,o=this.$editor();try{a=this.action(r,o.startAction()),i["finally"](function(){o.endAction.call(o)})}catch(s){t.error(s)}(a||void 0===a)&&r.resolve()}}]),angular.module("textAngular.DOM",["textAngular.factories"]).factory("taExecCommand",["taSelection","taBrowserTag","$document",function(e,t,n){var a=function(t,n){var a,r,i=t.find("li");for(r=i.length-1;r>=0;r--)a=angular.element("<"+n+">"+i[r].innerHTML+"</"+n+">"),t.after(a);t.remove(),e.setSelectionToElementEnd(a[0])},o=function(t){/(<br(|\/)>)$/i.test(t.innerHTML.trim())?e.setSelectionBeforeElement(angular.element(t).find("br")[0]):e.setSelectionToElementEnd(t)},s=function(e,t){var n=angular.element("<"+t+">"+e[0].innerHTML+"</"+t+">");e.after(n),e.remove(),o(n.find("li")[0])},l=function(e,n,a){for(var r="",i=0;i<e.length;i++)r+="<"+t("li")+">"+e[i].innerHTML+"</"+t("li")+">";var s=angular.element("<"+a+">"+r+"</"+a+">");n.after(s),n.remove(),o(s.find("li")[0])};return function(o,d){return o=t(o),function(u,c,f,m){var p,h,_,g,v,y,M,L=angular.element("<"+o+">");try{M=e.getSelectionElement()}catch(b){}var T=angular.element(M);if(void 0!==M){var w=M.tagName.toLowerCase();if("insertorderedlist"===u.toLowerCase()||"insertunorderedlist"===u.toLowerCase()){var k=t("insertorderedlist"===u.toLowerCase()?"ol":"ul");if(w===k)return a(T,o);if("li"===w&&T.parent()[0].tagName.toLowerCase()===k&&1===T.parent().children().length)return a(T.parent(),o);if("li"===w&&T.parent()[0].tagName.toLowerCase()!==k&&1===T.parent().children().length)return s(T.parent(),k);if(w.match(r)&&!T.hasClass("ta-bind")){if("ol"===w||"ul"===w)return s(T,k);var Y=!1;return angular.forEach(T.children(),function(e){e.tagName.match(r)&&(Y=!0)}),Y?l(T.children(),T,k):l([angular.element("<div>"+M.innerHTML+"</div>")[0]],T,k)}if(w.match(r)){if(g=e.getOnlySelectedElements(),0===g.length)h=angular.element("<"+k+"><li>"+M.innerHTML+"</li></"+k+">"),T.html(""),T.append(h);else{if(1===g.length&&("ol"===g[0].tagName.toLowerCase()||"ul"===g[0].tagName.toLowerCase()))return g[0].tagName.toLowerCase()===k?a(angular.element(g[0]),o):s(angular.element(g[0]),k);_="";var D=[];for(p=0;p<g.length;p++)if(3!==g[p].nodeType){var S=angular.element(g[p]);if("li"===g[p].tagName.toLowerCase())continue;_+="ol"===g[p].tagName.toLowerCase()||"ul"===g[p].tagName.toLowerCase()?S[0].innerHTML:"span"!==g[p].tagName.toLowerCase()||"ol"!==g[p].childNodes[0].tagName.toLowerCase()&&"ul"!==g[p].childNodes[0].tagName.toLowerCase()?"<"+t("li")+">"+S[0].innerHTML+"</"+t("li")+">":S[0].childNodes[0].innerHTML,D.unshift(S)}h=angular.element("<"+k+">"+_+"</"+k+">"),D.pop().replaceWith(h),angular.forEach(D,function(e){e.remove()})}return void e.setSelectionToElementEnd(h[0])}}else{if("formatblock"===u.toLowerCase()){for(y=f.toLowerCase().replace(/[<>]/gi,""),"default"===y.trim()&&(y=o,f="<"+o+">"),h="li"===w?T.parent():T;!h[0].tagName||!h[0].tagName.match(r)&&!h.parent().attr("contenteditable");)h=h.parent(),w=(h[0].tagName||"").toLowerCase();if(w===y){g=h.children();var x=!1;for(p=0;p<g.length;p++)x=x||g[p].tagName.match(r);x?(h.after(g),v=h.next(),h.remove(),h=v):(L.append(h[0].childNodes),h.after(L),h.remove(),h=L)}else if(h.parent()[0].tagName.toLowerCase()!==y||h.parent().hasClass("ta-bind"))if(w.match(i))h.wrap(f);else{for(g=e.getOnlySelectedElements(),0===g.length&&(g=[h[0]]),p=0;p<g.length;p++)if(3===g[p].nodeType||!g[p].tagName.match(r))for(;3===g[p].nodeType||!g[p].tagName||!g[p].tagName.match(r);)g[p]=g[p].parentNode;if(angular.element(g[0]).hasClass("ta-bind"))h=angular.element(f),h[0].innerHTML=g[0].innerHTML,g[0].innerHTML=h[0].outerHTML;else if("blockquote"===y){for(_="",p=0;p<g.length;p++)_+=g[p].outerHTML;for(h=angular.element(f),h[0].innerHTML=_,g[0].parentNode.insertBefore(h[0],g[0]),p=g.length-1;p>=0;p--)g[p].parentNode&&g[p].parentNode.removeChild(g[p])}else for(p=0;p<g.length;p++)h=angular.element(f),h[0].innerHTML=g[p].innerHTML,g[p].parentNode.insertBefore(h[0],g[p]),g[p].parentNode.removeChild(g[p])}else{var E=h.parent(),C=E.contents();for(p=0;p<C.length;p++)E.parent().hasClass("ta-bind")&&3===C[p].nodeType&&(L=angular.element("<"+o+">"),L[0].innerHTML=C[p].outerHTML,C[p]=L[0]),E.parent()[0].insertBefore(C[p],E[0]);E.remove()}return void e.setSelectionToElementEnd(h[0])}if("createlink"===u.toLowerCase()){var A='<a href="'+f+'" target="'+(m.a.target?m.a.target:"")+'">',N="</a>",$=e.getSelection();if($.collapsed)e.insertHtml(A+f+N,d);else if(rangy.getSelection().getRangeAt(0).canSurroundContents()){var R=angular.element(A+N)[0];rangy.getSelection().getRangeAt(0).surroundContents(R)}return}if("inserthtml"===u.toLowerCase())return void e.insertHtml(f,d)}}try{n[0].execCommand(u,c,f)}catch(b){}}}}]).service("taSelection",["$window","$document","taDOM",function(e,t,n){var a=t[0],i=e.rangy,s=function(e,t){return e.tagName&&e.tagName.match(/^br$/i)&&0===t&&!e.previousSibling?{element:e.parentNode,offset:0}:{element:e,offset:t}},l={getSelection:function(){var e=i.getSelection().getRangeAt(0),t=e.commonAncestorContainer,n={start:s(e.startContainer,e.startOffset),end:s(e.endContainer,e.endOffset),collapsed:e.collapsed};return t=3===t.nodeType?t.parentNode:t,t.parentNode===n.start.element||t.parentNode===n.end.element?n.container=t.parentNode:n.container=t,n},getOnlySelectedElements:function(){var e=i.getSelection().getRangeAt(0),t=e.commonAncestorContainer;return t=3===t.nodeType?t.parentNode:t,e.getNodes([1],function(e){return e.parentNode===t})},getSelectionElement:function(){return l.getSelection().container},setSelection:function(e,t,n){var a=i.createRange();a.setStart(e,t),a.setEnd(e,n),i.getSelection().setSingleRange(a)},setSelectionBeforeElement:function(e){var t=i.createRange();t.selectNode(e),t.collapse(!0),i.getSelection().setSingleRange(t)},setSelectionAfterElement:function(e){var t=i.createRange();t.selectNode(e),t.collapse(!1),i.getSelection().setSingleRange(t)},setSelectionToElementStart:function(e){var t=i.createRange();t.selectNodeContents(e),t.collapse(!0),i.getSelection().setSingleRange(t)},setSelectionToElementEnd:function(e){var t=i.createRange();t.selectNodeContents(e),t.collapse(!1),e.childNodes&&e.childNodes[e.childNodes.length-1]&&"br"===e.childNodes[e.childNodes.length-1].nodeName&&(t.startOffset=t.endOffset=t.startOffset-1),i.getSelection().setSingleRange(t)},insertHtml:function(e,t){var s,d,u,c,f,m,p,h=angular.element("<div>"+e+"</div>"),_=i.getSelection().getRangeAt(0),g=a.createDocumentFragment(),v=h[0].childNodes,y=!0;if(v.length>0){for(c=[],u=0;u<v.length;u++)"p"===v[u].nodeName.toLowerCase()&&""===v[u].innerHTML.trim()||3===v[u].nodeType&&""===v[u].nodeValue.trim()||(y=y&&!r.test(v[u].nodeName),c.push(v[u]));for(var M=0;M<c.length;M++)m=g.appendChild(c[M]);!y&&_.collapsed&&/^(|<br(|\/)>)$/i.test(_.startContainer.innerHTML)&&_.selectNode(_.startContainer)}else y=!0,m=g=a.createTextNode(e);if(y)_.deleteContents();else if(_.collapsed&&_.startContainer!==t)if(_.startContainer.innerHTML&&_.startContainer.innerHTML.match(/^<[^>]*>$/i))s=_.startContainer,1===_.startOffset?(_.setStartAfter(s),_.setEndAfter(s)):(_.setStartBefore(s),_.setEndBefore(s));else{if(3===_.startContainer.nodeType&&_.startContainer.parentNode!==t)for(s=_.startContainer.parentNode,d=s.cloneNode(),n.splitNodes(s.childNodes,s,d,_.startContainer,_.startOffset);!o.test(s.nodeName);){angular.element(s).after(d),s=s.parentNode;var L=d;d=s.cloneNode(),n.splitNodes(s.childNodes,s,d,L)}else s=_.startContainer,d=s.cloneNode(),n.splitNodes(s.childNodes,s,d,void 0,void 0,_.startOffset);if(angular.element(s).after(d),_.setStartAfter(s),_.setEndAfter(s),/^(|<br(|\/)>)$/i.test(s.innerHTML.trim())&&(_.setStartBefore(s),_.setEndBefore(s),angular.element(s).remove()),/^(|<br(|\/)>)$/i.test(d.innerHTML.trim())&&angular.element(d).remove(),"li"===s.nodeName.toLowerCase()){for(p=a.createDocumentFragment(),f=0;f<g.childNodes.length;f++)h=angular.element("<li>"),n.transferChildNodes(g.childNodes[f],h[0]),n.transferNodeAttributes(g.childNodes[f],h[0]),p.appendChild(h[0]);g=p,m&&(m=g.childNodes[g.childNodes.length-1],m=m.childNodes[m.childNodes.length-1])}}else _.deleteContents();_.insertNode(g),m&&l.setSelectionToElementEnd(m)}};return l}]).service("taDOM",function(){var e={getByAttribute:function(t,n){var a=[],r=t.children();return r.length&&angular.forEach(r,function(t){a=a.concat(e.getByAttribute(angular.element(t),n))}),void 0!==t.attr(n)&&a.push(t),a},transferChildNodes:function(e,t){for(t.innerHTML="";e.childNodes.length>0;)t.appendChild(e.childNodes[0]);return t},splitNodes:function(t,n,a,r,i,o){if(!r&&isNaN(o))throw new Error("taDOM.splitNodes requires a splitNode or splitIndex");for(var s=document.createDocumentFragment(),l=document.createDocumentFragment(),d=0;t.length>0&&(isNaN(o)||o!==d)&&t[0]!==r;)s.appendChild(t[0]),d++;for(!isNaN(i)&&i>=0&&t[0]&&(s.appendChild(document.createTextNode(t[0].nodeValue.substring(0,i))),t[0].nodeValue=t[0].nodeValue.substring(i));t.length>0;)l.appendChild(t[0]);e.transferChildNodes(s,n),e.transferChildNodes(l,a)},transferNodeAttributes:function(e,t){for(var n=0;n<e.attributes.length;n++)t.setAttribute(e.attributes[n].name,e.attributes[n].value);return t}};return e}),angular.module("textAngular.validators",[]).directive("taMaxText",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,a){var r=parseInt(e.$eval(n.taMaxText));if(isNaN(r))throw"Max text must be an integer";n.$observe("taMaxText",function(e){if(r=parseInt(e),isNaN(r))throw"Max text must be an integer";a.$dirty&&a.$validate()}),a.$validators.taMaxText=function(e){var t=angular.element("<div/>");return t.html(e),t.text().length<=r}}}}).directive("taMinText",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,a){var r=parseInt(e.$eval(n.taMinText));if(isNaN(r))throw"Min text must be an integer";n.$observe("taMinText",function(e){if(r=parseInt(e),isNaN(r))throw"Min text must be an integer";a.$dirty&&a.$validate()}),a.$validators.taMinText=function(e){var t=angular.element("<div/>");return t.html(e),!t.text().length||t.text().length>=r}}}}),angular.module("textAngular.taBind",["textAngular.factories","textAngular.DOM"]).service("_taBlankTest",[function(){var e=/<(a|abbr|acronym|bdi|bdo|big|cite|code|del|dfn|img|ins|kbd|label|map|mark|q|ruby|rp|rt|s|samp|time|tt|var)[^>]*(>|$)/i;return function(t){return function(n){if(!n)return!0;var a,r=/(^[^<]|>)[^<]/i.exec(n);return r?a=r.index:(n=n.toString().replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,""),a=n.indexOf(">")),n=n.trim().substring(a,a+100),/^[^<>]+$/i.test(n)?!1:0===n.length||n===t||/^>(\s|&nbsp;)*<\/[^>]+>$/gi.test(n)?!0:/>\s*[^\s<]/i.test(n)||e.test(n)?!1:!0}}}]).directive("taButton",[function(){return{link:function(e,t,n){t.attr("unselectable","on"),t.on("mousedown",function(e,t){return t&&angular.extend(e,t),e.preventDefault(),!1})}}}]).directive("taBind",["taSanitize","$timeout","$window","$document","taFixChrome","taBrowserTag","taSelection","taSelectableElements","taApplyCustomRenderers","taOptions","_taBlankTest","$parse","taDOM",function(e,t,i,s,u,c,f,m,p,_,g,v,y){return{priority:2,require:["ngModel","?ngModelOptions"],link:function(c,M,L,b){var T,w,k,Y,D=b[0],S=b[1]||{},x=void 0!==M.attr("contenteditable")&&M.attr("contenteditable"),E=x||"textarea"===M[0].tagName.toLowerCase()||"input"===M[0].tagName.toLowerCase(),C=!1,A=!1,N=!1,$=L.taUnsafeSanitizer||_.disableSanitizer,R=/^(9|19|20|27|33|34|35|36|37|38|39|40|45|112|113|114|115|116|117|118|119|120|121|122|123|144|145)$/i,O=/^(8|13|32|46|59|61|107|109|186|187|188|189|190|191|192|219|220|221|222)$/i;void 0===L.taDefaultWrap&&(L.taDefaultWrap="p"),""===L.taDefaultWrap?(k="",Y=void 0===n.ie?"<div><br></div>":n.ie>=11?"<p><br></p>":n.ie<=8?"<P>&nbsp;</P>":"<p>&nbsp;</p>"):(k=void 0===n.ie||n.ie>=11?"<"+L.taDefaultWrap+"><br></"+L.taDefaultWrap+">":n.ie<=8?"<"+L.taDefaultWrap.toUpperCase()+"></"+L.taDefaultWrap.toUpperCase()+">":"<"+L.taDefaultWrap+"></"+L.taDefaultWrap+">",Y=void 0===n.ie||n.ie>=11?"<"+L.taDefaultWrap+"><br></"+L.taDefaultWrap+">":n.ie<=8?"<"+L.taDefaultWrap.toUpperCase()+">&nbsp;</"+L.taDefaultWrap.toUpperCase()+">":"<"+L.taDefaultWrap+">&nbsp;</"+L.taDefaultWrap+">"),S.$options||(S.$options={});var H=g(Y),j=function(e){if(H(e))return e;var t=angular.element("<div>"+e+"</div>");if(0===t.children().length)e="<"+L.taDefaultWrap+">"+e+"</"+L.taDefaultWrap+">";else{var n,a=t[0].childNodes,i=!1;for(n=0;n<a.length&&!(i=a[n].nodeName.toLowerCase().match(r));n++);if(i)for(e="",n=0;n<a.length;n++)if(a[n].nodeName.toLowerCase().match(r))e+=a[n].outerHTML;else{var o=a[n].outerHTML||a[n].nodeValue;e+=""!==o.trim()?"<"+L.taDefaultWrap+">"+o+"</"+L.taDefaultWrap+">":o}else e="<"+L.taDefaultWrap+">"+e+"</"+L.taDefaultWrap+">"}return e};L.taPaste&&(w=v(L.taPaste)),M.addClass("ta-bind");var W;c["$undoManager"+(L.id||"")]=D.$undoManager={_stack:[],_index:0,_max:1e3,push:function(e){return"undefined"==typeof e||null===e||"undefined"!=typeof this.current()&&null!==this.current()&&e===this.current()?e:(this._index<this._stack.length-1&&(this._stack=this._stack.slice(0,this._index+1)),this._stack.push(e),W&&t.cancel(W),this._stack.length>this._max&&this._stack.shift(),this._index=this._stack.length-1,e)},undo:function(){return this.setToIndex(this._index-1)},redo:function(){return this.setToIndex(this._index+1)},setToIndex:function(e){return 0>e||e>this._stack.length-1?void 0:(this._index=e,this.current())},current:function(){return this._stack[this._index]}};var P,F=c["$undoTaBind"+(L.id||"")]=function(){if(!C&&x){var e=D.$undoManager.undo();"undefined"!=typeof e&&null!==e&&(ne(e),B(e,!1),P&&t.cancel(P),P=t(function(){M[0].focus(),f.setSelectionToElementEnd(M[0])},1))}},I=c["$redoTaBind"+(L.id||"")]=function(){if(!C&&x){var e=D.$undoManager.redo();"undefined"!=typeof e&&null!==e&&(ne(e),B(e,!1),P&&t.cancel(P),P=t(function(){M[0].focus(),f.setSelectionToElementEnd(M[0])},1))}},z=function(){if(x)return M[0].innerHTML;if(E)return M.val();throw"textAngular Error: attempting to update non-editable taBind"},B=function(e,t,n){N=n||!1,("undefined"==typeof t||null===t)&&(t=x),("undefined"==typeof e||null===e)&&(e=z()),H(e)?(""!==D.$viewValue&&D.$setViewValue(""),t&&""!==D.$undoManager.current()&&D.$undoManager.push("")):(te(),D.$viewValue!==e&&(D.$setViewValue(e),t&&D.$undoManager.push(e))),D.$render()};c["updateTaBind"+(L.id||"")]=function(){C||B(void 0,void 0,!0)};var U=function(t){return D.$oldViewValue=e(u(t),D.$oldViewValue,$)};if(M.attr("required")&&(D.$validators.required=function(e,t){return!H(e||t)}),D.$parsers.push(U),D.$parsers.unshift(j),D.$formatters.push(U),D.$formatters.unshift(j),D.$formatters.unshift(function(e){return D.$undoManager.push(e||"")}),E)if(c.events={},x){var q=!1,V=function(n){if(n&&n.trim().length){if(n.match(/class=["']*Mso(Normal|List)/i)){var a=n.match(/<!--StartFragment-->([\s\S]*?)<!--EndFragment-->/i);a=a?a[1]:n,a=a.replace(/<o:p>[\s\S]*?<\/o:p>/gi,"").replace(/class=(["']|)MsoNormal(["']|)/gi,"");var r=angular.element("<div>"+a+"</div>"),i=angular.element("<div></div>"),o={element:null,lastIndent:[],lastLi:null,isUl:!1};o.lastIndent.peek=function(){var e=this.length;return e>0?this[e-1]:void 0};for(var s=function(e){o.isUl=e,o.element=angular.element(e?"<ul>":"<ol>"),o.lastIndent=[],o.lastIndent.peek=function(){var e=this.length;return e>0?this[e-1]:void 0},o.lastLevelMatch=null},l=0;l<=r[0].childNodes.length;l++)if(r[0].childNodes[l]&&"#text"!==r[0].childNodes[l].nodeName&&"p"===r[0].childNodes[l].tagName.toLowerCase()){var d=angular.element(r[0].childNodes[l]),u=(d.attr("class")||"").match(/MsoList(Bullet|Number|Paragraph)(CxSp(First|Middle|Last)|)/i);if(u){if(d[0].childNodes.length<2||d[0].childNodes[1].childNodes.length<1)continue;var m="bullet"===u[1].toLowerCase()||"number"!==u[1].toLowerCase()&&!(/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(d[0].childNodes[1].innerHTML)||/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(d[0].childNodes[1].childNodes[0].innerHTML)),p=(d.attr("style")||"").match(/margin-left:([\-\.0-9]*)/i),h=parseFloat(p?p[1]:0),_=(d.attr("style")||"").match(/mso-list:l([0-9]+) level([0-9]+) lfo[0-9+]($|;)/i);if(_&&_[2]&&(h=parseInt(_[2])),_&&(!o.lastLevelMatch||_[1]!==o.lastLevelMatch[1])||!u[3]||"first"===u[3].toLowerCase()||null===o.lastIndent.peek()||o.isUl!==m&&o.lastIndent.peek()===h)s(m),i.append(o.element);else if(null!=o.lastIndent.peek()&&o.lastIndent.peek()<h)o.element=angular.element(m?"<ul>":"<ol>"),o.lastLi.append(o.element);else if(null!=o.lastIndent.peek()&&o.lastIndent.peek()>h){for(;null!=o.lastIndent.peek()&&o.lastIndent.peek()>h;)if("li"!==o.element.parent()[0].tagName.toLowerCase()){if(!/[uo]l/i.test(o.element.parent()[0].tagName.toLowerCase()))break;o.element=o.element.parent(),o.lastIndent.pop()}else o.element=o.element.parent();o.isUl="ul"===o.element[0].tagName.toLowerCase(),m!==o.isUl&&(s(m),i.append(o.element))}o.lastLevelMatch=_,h!==o.lastIndent.peek()&&o.lastIndent.push(h),o.lastLi=angular.element("<li>"),o.element.append(o.lastLi),o.lastLi.html(d.html().replace(/<!(--|)\[if !supportLists\](--|)>[\s\S]*?<!(--|)\[endif\](--|)>/gi,"")),d.remove()}else s(!1),i.append(d)}var g=function(e){e=angular.element(e);for(var t=e[0].childNodes.length-1;t>=0;t--)e.after(e[0].childNodes[t]);e.remove()};angular.forEach(i.find("span"),function(e){e.removeAttribute("lang"),e.attributes.length<=0&&g(e)}),angular.forEach(i.find("font"),g),n=i.html()}else{if(n=n.replace(/<(|\/)meta[^>]*?>/gi,""),n.match(/<[^>]*?(ta-bind)[^>]*?>/)){if(n.match(/<[^>]*?(text-angular)[^>]*?>/)){var v=angular.element("<div>"+n+"</div>");v.find("textarea").remove();for(var L=y.getByAttribute(v,"ta-bind"),b=0;b<L.length;b++){for(var T=L[b][0].parentNode.parentNode,k=0;k<L[b][0].childNodes.length;k++)T.parentNode.insertBefore(L[b][0].childNodes[k],T);T.parentNode.removeChild(T)}n=v.html().replace('<br class="Apple-interchange-newline">',"")}}else n.match(/^<span/)&&(n=n.replace(/<(|\/)span[^>]*?>/gi,""));n=n.replace(/<br class="Apple-interchange-newline"[^>]*?>/gi,"").replace(/<span class="Apple-converted-space">( |&nbsp;)<\/span>/gi,"&nbsp;")}/<li(\s.*)?>/i.test(n)&&/(<ul(\s.*)?>|<ol(\s.*)?>).*<li(\s.*)?>/i.test(n)===!1&&(n=n.replace(/<li(\s.*)?>.*<\/li(\s.*)?>/i,"<ul>$&</ul>")),w&&(n=w(c,{$html:n})||n),n=e(n,"",$),f.insertHtml(n,M[0]),t(function(){D.$setViewValue(z()),q=!1,M.removeClass("processing-paste")},0)}else q=!1,M.removeClass("processing-paste")};M.on("paste",c.events.paste=function(e,n){if(n&&angular.extend(e,n),C||q)return e.stopPropagation(),e.preventDefault(),!1;q=!0,M.addClass("processing-paste");var a,r=(e.originalEvent||e).clipboardData;if(r&&r.getData&&r.types.length>0){for(var o="",l=0;l<r.types.length;l++)o+=" "+r.types[l];return/text\/html/i.test(o)?a=r.getData("text/html"):/text\/plain/i.test(o)&&(a=r.getData("text/plain")),V(a),e.stopPropagation(),e.preventDefault(),!1}var d=i.rangy.saveSelection(),u=angular.element('<div class="ta-hidden-input" contenteditable="true"></div>');s.find("body").append(u),u[0].focus(),t(function(){i.rangy.restoreSelection(d),V(u[0].innerHTML),M[0].focus(),u.remove()},0)}),M.on("cut",c.events.cut=function(e){C?e.preventDefault():t(function(){D.$setViewValue(z())},0)}),M.on("keydown",c.events.keydown=function(e,t){if(t&&angular.extend(e,t),!C)if(e.altKey||!e.metaKey&&!e.ctrlKey){if(13===e.keyCode&&!e.shiftKey){var n,a=f.getSelectionElement();if(!a.tagName.match(o))return;var r=angular.element(k);if(/^<br(|\/)>$/i.test(a.innerHTML.trim())&&"blockquote"===a.parentNode.tagName.toLowerCase()&&!a.nextSibling){n=angular.element(a);var i=n.parent();i.after(r),n.remove(),0===i.children().length&&i.remove(),f.setSelectionToElementStart(r[0]),e.preventDefault()}else/^<[^>]+><br(|\/)><\/[^>]+>$/i.test(a.innerHTML.trim())&&"blockquote"===a.tagName.toLowerCase()&&(n=angular.element(a),n.after(r),n.remove(),f.setSelectionToElementStart(r[0]),e.preventDefault())}}else 90!==e.keyCode||e.shiftKey?(90===e.keyCode&&e.shiftKey||89===e.keyCode&&!e.shiftKey)&&(I(),e.preventDefault()):(F(),e.preventDefault())});var G;if(M.on("keyup",c.events.keyup=function(e,n){if(n&&angular.extend(e,n),
9===e.keyCode){var a=f.getSelection();return void(a.start.element===M[0]&&M.children().length&&f.setSelectionToElementStart(M.children()[0]))}if(W&&t.cancel(W),!C&&!R.test(e.keyCode)){if(""!==k&&13===e.keyCode&&!e.shiftKey){for(var r=f.getSelectionElement();!r.tagName.match(o)&&r!==M[0];)r=r.parentNode;if(r.tagName.toLowerCase()!==L.taDefaultWrap&&"li"!==r.tagName.toLowerCase()&&(""===r.innerHTML.trim()||"<br>"===r.innerHTML.trim())){var s=angular.element(k);angular.element(r).replaceWith(s),f.setSelectionToElementStart(s[0])}}var l=z();if(""!==k&&""===l.trim())ne(k),f.setSelectionToElementStart(M.children()[0]);else if("<"!==l.substring(0,1)&&""!==L.taDefaultWrap){var d=i.rangy.saveSelection();l=z(),l="<"+L.taDefaultWrap+">"+l+"</"+L.taDefaultWrap+">",ne(l),i.rangy.restoreSelection(d)}var u=T!==e.keyCode&&O.test(e.keyCode);G&&t.cancel(G),G=t(function(){B(l,u,!0)},S.$options.debounce||400),u||(W=t(function(){D.$undoManager.push(l)},250)),T=e.keyCode}}),M.on("blur",c.events.blur=function(){A=!1,C?(N=!0,D.$render()):B(void 0,void 0,!0)}),L.placeholder&&(n.ie>8||void 0===n.ie)){var J;if(!L.id)throw"textAngular Error: An unique ID is required for placeholders to work";J=l("#"+L.id+".placeholder-text:before",'content: "'+L.placeholder+'"'),c.$on("$destroy",function(){d(J)})}M.on("focus",c.events.focus=function(){A=!0,M.removeClass("placeholder-text")}),M.on("mouseup",c.events.mouseup=function(){var e=f.getSelection();e.start.element===M[0]&&M.children().length&&f.setSelectionToElementStart(M.children()[0])}),M.on("mousedown",c.events.mousedown=function(e,t){t&&angular.extend(e,t),e.stopPropagation()})}else{M.on("change blur",c.events.change=c.events.blur=function(){C||D.$setViewValue(z())}),M.on("keydown",c.events.keydown=function(e,t){if(t&&angular.extend(e,t),9===e.keyCode){var n=this.selectionStart,a=this.selectionEnd,r=M.val();if(e.shiftKey){var i=r.lastIndexOf("\n",n),o=r.lastIndexOf("	",n);-1!==o&&o>=i&&(M.val(r.substring(0,o)+r.substring(o+1)),this.selectionStart=this.selectionEnd=n-1)}else M.val(r.substring(0,n)+"	"+r.substring(a)),this.selectionStart=this.selectionEnd=n+1;e.preventDefault()}});var K=function(e,t){for(var n="",a=0;t>a;a++)n+=e;return n},Z=function(e,t){var n="",a=e.childNodes;t++,n+=K("	",t-1)+e.outerHTML.substring(0,e.outerHTML.indexOf("<li"));for(var r=0;r<a.length;r++)a[r].outerHTML&&(n+="ul"===a[r].nodeName.toLowerCase()||"ol"===a[r].nodeName.toLowerCase()?"\n"+Z(a[r],t):"\n"+K("	",t)+a[r].outerHTML);return n+="\n"+K("	",t-1)+e.outerHTML.substring(e.outerHTML.lastIndexOf("<"))};D.$formatters.unshift(function(e){var t=angular.element("<div>"+e+"</div>")[0].childNodes;if(t.length>0){e="";for(var n=0;n<t.length;n++)t[n].outerHTML&&(e.length>0&&(e+="\n"),e+="ul"===t[n].nodeName.toLowerCase()||"ol"===t[n].nodeName.toLowerCase()?""+Z(t[n],0):""+t[n].outerHTML)}return e})}var X,Q=function(e){return c.$emit("ta-element-select",this),e.preventDefault(),!1},ee=function(e,n){if(n&&angular.extend(e,n),!h&&!C){h=!0;var a;a=e.originalEvent?e.originalEvent.dataTransfer:e.dataTransfer,c.$emit("ta-drop-event",this,e,a),t(function(){h=!1,B(void 0,void 0,!0)},100)}},te=c["reApplyOnSelectorHandlers"+(L.id||"")]=function(){C||angular.forEach(m,function(e){M.find(e).off("click",Q).on("click",Q)})},ne=function(e){M[0].innerHTML=e},ae=!1;D.$render=function(){if(!ae){ae=!0;var e=D.$viewValue||"";N||(x&&A&&(M.removeClass("placeholder-text"),X&&t.cancel(X),X=t(function(){A||(M[0].focus(),f.setSelectionToElementEnd(M.children()[M.children().length-1])),X=void 0},1)),x?(ne(L.placeholder?""===e?k:e:""===e?k:e),C?M.off("drop",ee):(te(),M.on("drop",ee))):"textarea"!==M[0].tagName.toLowerCase()&&"input"!==M[0].tagName.toLowerCase()?ne(p(e)):M.val(e)),x&&L.placeholder&&(""===e?A?M.removeClass("placeholder-text"):M.addClass("placeholder-text"):M.removeClass("placeholder-text")),ae=N=!1}},L.taReadonly&&(C=c.$eval(L.taReadonly),C?(M.addClass("ta-readonly"),("textarea"===M[0].tagName.toLowerCase()||"input"===M[0].tagName.toLowerCase())&&M.attr("disabled","disabled"),void 0!==M.attr("contenteditable")&&M.attr("contenteditable")&&M.removeAttr("contenteditable")):(M.removeClass("ta-readonly"),"textarea"===M[0].tagName.toLowerCase()||"input"===M[0].tagName.toLowerCase()?M.removeAttr("disabled"):x&&M.attr("contenteditable","true")),c.$watch(L.taReadonly,function(e,t){t!==e&&(e?(M.addClass("ta-readonly"),("textarea"===M[0].tagName.toLowerCase()||"input"===M[0].tagName.toLowerCase())&&M.attr("disabled","disabled"),void 0!==M.attr("contenteditable")&&M.attr("contenteditable")&&M.removeAttr("contenteditable"),angular.forEach(m,function(e){M.find(e).on("click",Q)}),M.off("drop",ee)):(M.removeClass("ta-readonly"),"textarea"===M[0].tagName.toLowerCase()||"input"===M[0].tagName.toLowerCase()?M.removeAttr("disabled"):x&&M.attr("contenteditable","true"),angular.forEach(m,function(e){M.find(e).off("click",Q)}),M.on("drop",ee)),C=e)})),x&&!C&&(angular.forEach(m,function(e){M.find(e).on("click",Q)}),M.on("drop",ee),M.on("blur",function(){n.webkit&&(a=!0)}))}}}]);var h=!1,_=angular.module("textAngular",["ngSanitize","textAngularSetup","textAngular.factories","textAngular.DOM","textAngular.validators","textAngular.taBind"]),g={};_.constant("taRegisterTool",t),_.value("taTools",g),_.config([function(){angular.forEach(g,function(e,t){delete g[t]})}]),_.run([function(){if(!window.rangy)throw"rangy-core.js and rangy-selectionsaverestore.js are required for textAngular to work correctly, rangy-core is not yet loaded.";if(window.rangy.init(),!window.rangy.saveSelection)throw"rangy-selectionsaverestore.js is required for textAngular to work correctly."}]),_.directive("textAngular",["$compile","$timeout","taOptions","taSelection","taExecCommand","textAngularManager","$window","$document","$animate","$log","$q","$parse",function(e,t,n,a,r,i,o,s,l,d,u,c){return{require:"?ngModel",scope:{},restrict:"EA",priority:2,link:function(f,m,p,h){var _,g,v,y,M,L,b,T,w,k,Y,D=p.serial?p.serial:Math.floor(1e16*Math.random());f._name=p.name?p.name:"textAngularEditor"+D;var S=function(e,n,a){t(function(){var t=function(){e.off(n,t),a.apply(this,arguments)};e.on(n,t)},100)};if(w=r(p.taDefaultWrap),angular.extend(f,angular.copy(n),{wrapSelection:function(e,t,n){"undo"===e.toLowerCase()?f["$undoTaBindtaTextElement"+D]():"redo"===e.toLowerCase()?f["$redoTaBindtaTextElement"+D]():(w(e,!1,t,f.defaultTagAttributes),n&&f["reApplyOnSelectorHandlerstaTextElement"+D](),f.displayElements.text[0].focus())},showHtml:f.$eval(p.taShowHtml)||!1}),p.taFocussedClass&&(f.classes.focussed=p.taFocussedClass),p.taTextEditorClass&&(f.classes.textEditor=p.taTextEditorClass),p.taHtmlEditorClass&&(f.classes.htmlEditor=p.taHtmlEditorClass),p.taDefaultTagAttributes)try{angular.extend(f.defaultTagAttributes,angular.fromJson(p.taDefaultTagAttributes))}catch(x){d.error(x)}p.taTextEditorSetup&&(f.setup.textEditorSetup=f.$parent.$eval(p.taTextEditorSetup)),p.taHtmlEditorSetup&&(f.setup.htmlEditorSetup=f.$parent.$eval(p.taHtmlEditorSetup)),p.taFileDrop?f.fileDropHandler=f.$parent.$eval(p.taFileDrop):f.fileDropHandler=f.defaultFileDropHandler,b=m[0].innerHTML,m[0].innerHTML="",f.displayElements={forminput:angular.element("<input type='hidden' tabindex='-1' style='display: none;'>"),html:angular.element("<textarea></textarea>"),text:angular.element("<div></div>"),scrollWindow:angular.element("<div class='ta-scroll-window'></div>"),popover:angular.element('<div class="popover fade bottom" style="max-width: none; width: 305px;"></div>'),popoverArrow:angular.element('<div class="arrow"></div>'),popoverContainer:angular.element('<div class="popover-content"></div>'),resize:{overlay:angular.element('<div class="ta-resizer-handle-overlay"></div>'),background:angular.element('<div class="ta-resizer-handle-background"></div>'),anchors:[angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tr"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-bl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-br"></div>')],info:angular.element('<div class="ta-resizer-handle-info"></div>')}},f.displayElements.popover.append(f.displayElements.popoverArrow),f.displayElements.popover.append(f.displayElements.popoverContainer),f.displayElements.scrollWindow.append(f.displayElements.popover),f.displayElements.popover.on("mousedown",function(e,t){return t&&angular.extend(e,t),e.preventDefault(),!1}),f.showPopover=function(e){f.displayElements.popover.css("display","block"),f.reflowPopover(e),l.addClass(f.displayElements.popover,"in"),S(s.find("body"),"click keyup",function(){f.hidePopover()})},f.reflowPopover=function(e){f.displayElements.text[0].offsetHeight-51>e[0].offsetTop?(f.displayElements.popover.css("top",e[0].offsetTop+e[0].offsetHeight+f.displayElements.scrollWindow[0].scrollTop+"px"),f.displayElements.popover.removeClass("top").addClass("bottom")):(f.displayElements.popover.css("top",e[0].offsetTop-54+f.displayElements.scrollWindow[0].scrollTop+"px"),f.displayElements.popover.removeClass("bottom").addClass("top"));var t=f.displayElements.text[0].offsetWidth-f.displayElements.popover[0].offsetWidth,n=e[0].offsetLeft+e[0].offsetWidth/2-f.displayElements.popover[0].offsetWidth/2;f.displayElements.popover.css("left",Math.max(0,Math.min(t,n))+"px"),f.displayElements.popoverArrow.css("margin-left",Math.min(n,Math.max(0,n-t))-11+"px")},f.hidePopover=function(){var e=function(){f.displayElements.popover.css("display",""),f.displayElements.popoverContainer.attr("style",""),f.displayElements.popoverContainer.attr("class","popover-content")};u.when(l.removeClass(f.displayElements.popover,"in",e)).then(e)},f.displayElements.resize.overlay.append(f.displayElements.resize.background),angular.forEach(f.displayElements.resize.anchors,function(e){f.displayElements.resize.overlay.append(e)}),f.displayElements.resize.overlay.append(f.displayElements.resize.info),f.displayElements.scrollWindow.append(f.displayElements.resize.overlay),f.reflowResizeOverlay=function(e){e=angular.element(e)[0],f.displayElements.resize.overlay.css({display:"block",left:e.offsetLeft-5+"px",top:e.offsetTop-5+"px",width:e.offsetWidth+10+"px",height:e.offsetHeight+10+"px"}),f.displayElements.resize.info.text(e.offsetWidth+" x "+e.offsetHeight)},f.showResizeOverlay=function(e){var t=s.find("body");k=function(n){var a={width:parseInt(e.attr("width")),height:parseInt(e.attr("height")),x:n.clientX,y:n.clientY};(void 0===a.width||isNaN(a.width))&&(a.width=e[0].offsetWidth),(void 0===a.height||isNaN(a.height))&&(a.height=e[0].offsetHeight),f.hidePopover();var r=a.height/a.width,i=function(t){var n={x:Math.max(0,a.width+(t.clientX-a.x)),y:Math.max(0,a.height+(t.clientY-a.y))};if(t.shiftKey){var i=n.y/n.x;n.x=r>i?n.x:n.y/r,n.y=r>i?n.x*r:n.y}var o=angular.element(e);o.attr("height",Math.max(0,n.y)),o.attr("width",Math.max(0,n.x)),f.reflowResizeOverlay(e)};t.on("mousemove",i),S(t,"mouseup",function(n){n.preventDefault(),n.stopPropagation(),t.off("mousemove",i),f.showPopover(e)}),n.stopPropagation(),n.preventDefault()},f.displayElements.resize.anchors[3].on("mousedown",k),f.reflowResizeOverlay(e),S(t,"click",function(){f.hideResizeOverlay()})},f.hideResizeOverlay=function(){f.displayElements.resize.anchors[3].off("mousedown",k),f.displayElements.resize.overlay.css("display","")},f.setup.htmlEditorSetup(f.displayElements.html),f.setup.textEditorSetup(f.displayElements.text),f.displayElements.html.attr({id:"taHtmlElement"+D,"ng-show":"showHtml","ta-bind":"ta-bind","ng-model":"html","ng-model-options":m.attr("ng-model-options")}),f.displayElements.text.attr({id:"taTextElement"+D,contentEditable:"true","ta-bind":"ta-bind","ng-model":"html","ng-model-options":m.attr("ng-model-options")}),f.displayElements.scrollWindow.attr({"ng-hide":"showHtml"}),p.taDefaultWrap&&f.displayElements.text.attr("ta-default-wrap",p.taDefaultWrap),p.taUnsafeSanitizer&&(f.displayElements.text.attr("ta-unsafe-sanitizer",p.taUnsafeSanitizer),f.displayElements.html.attr("ta-unsafe-sanitizer",p.taUnsafeSanitizer)),f.displayElements.scrollWindow.append(f.displayElements.text),m.append(f.displayElements.scrollWindow),m.append(f.displayElements.html),f.displayElements.forminput.attr("name",f._name),m.append(f.displayElements.forminput),p.tabindex&&(m.removeAttr("tabindex"),f.displayElements.text.attr("tabindex",p.tabindex),f.displayElements.html.attr("tabindex",p.tabindex)),p.placeholder&&(f.displayElements.text.attr("placeholder",p.placeholder),f.displayElements.html.attr("placeholder",p.placeholder)),p.taDisabled&&(f.displayElements.text.attr("ta-readonly","disabled"),f.displayElements.html.attr("ta-readonly","disabled"),f.disabled=f.$parent.$eval(p.taDisabled),f.$parent.$watch(p.taDisabled,function(e){f.disabled=e,f.disabled?m.addClass(f.classes.disabled):m.removeClass(f.classes.disabled)})),p.taPaste&&(f._pasteHandler=function(e){return c(p.taPaste)(f.$parent,{$html:e})},f.displayElements.text.attr("ta-paste","_pasteHandler($html)")),e(f.displayElements.scrollWindow)(f),e(f.displayElements.html)(f),f.updateTaBindtaTextElement=f["updateTaBindtaTextElement"+D],f.updateTaBindtaHtmlElement=f["updateTaBindtaHtmlElement"+D],m.addClass("ta-root"),f.displayElements.scrollWindow.addClass("ta-text ta-editor "+f.classes.textEditor),f.displayElements.html.addClass("ta-html ta-editor "+f.classes.htmlEditor),f._actionRunning=!1;var E=!1;if(f.startAction=function(){return f._actionRunning=!0,E=o.rangy.saveSelection(),function(){E&&o.rangy.restoreSelection(E)}},f.endAction=function(){f._actionRunning=!1,E&&(f.showHtml?f.displayElements.html[0].focus():f.displayElements.text[0].focus(),o.rangy.restoreSelection(E),o.rangy.removeMarkers(E)),E=!1,f.updateSelectedStyles(),f.showHtml||f["updateTaBindtaTextElement"+D]()},M=function(){f.focussed=!0,m.addClass(f.classes.focussed),T.focus(),m.triggerHandler("focus")},f.displayElements.html.on("focus",M),f.displayElements.text.on("focus",M),L=function(e){return f._actionRunning||s[0].activeElement===f.displayElements.html[0]||s[0].activeElement===f.displayElements.text[0]||(m.removeClass(f.classes.focussed),T.unfocus(),t(function(){f._bUpdateSelectedStyles=!1,m.triggerHandler("blur"),f.focussed=!1},0)),e.preventDefault(),!1},f.displayElements.html.on("blur",L),f.displayElements.text.on("blur",L),f.displayElements.text.on("paste",function(e){m.triggerHandler("paste",e)}),f.queryFormatBlockState=function(e){return!f.showHtml&&e.toLowerCase()===s[0].queryCommandValue("formatBlock").toLowerCase()},f.queryCommandState=function(e){return f.showHtml?"":s[0].queryCommandState(e)},f.switchView=function(){f.showHtml=!f.showHtml,l.enabled(!1,f.displayElements.html),l.enabled(!1,f.displayElements.text),f.showHtml?t(function(){return l.enabled(!0,f.displayElements.html),l.enabled(!0,f.displayElements.text),f.displayElements.html[0].focus()},100):t(function(){return l.enabled(!0,f.displayElements.html),l.enabled(!0,f.displayElements.text),f.displayElements.text[0].focus()},100)},p.ngModel){var C=!0;h.$render=function(){if(C){C=!1;var e=f.$parent.$eval(p.ngModel);void 0!==e&&null!==e||!b||""===b||h.$setViewValue(b)}f.displayElements.forminput.val(h.$viewValue),f.html=h.$viewValue||""},m.attr("required")&&(h.$validators.required=function(e,t){var n=e||t;return!(!n||""===n.trim())})}else f.displayElements.forminput.val(b),f.html=b;if(f.$watch("html",function(e,t){e!==t&&(p.ngModel&&h.$viewValue!==e&&h.$setViewValue(e),f.displayElements.forminput.val(e))}),p.taTargetToolbars)T=i.registerEditor(f._name,f,p.taTargetToolbars.split(","));else{var A=angular.element('<div text-angular-toolbar name="textAngularToolbar'+D+'">');p.taToolbar&&A.attr("ta-toolbar",p.taToolbar),p.taToolbarClass&&A.attr("ta-toolbar-class",p.taToolbarClass),p.taToolbarGroupClass&&A.attr("ta-toolbar-group-class",p.taToolbarGroupClass),p.taToolbarButtonClass&&A.attr("ta-toolbar-button-class",p.taToolbarButtonClass),p.taToolbarActiveButtonClass&&A.attr("ta-toolbar-active-button-class",p.taToolbarActiveButtonClass),p.taFocussedClass&&A.attr("ta-focussed-class",p.taFocussedClass),m.prepend(A),e(A)(f.$parent),T=i.registerEditor(f._name,f,["textAngularToolbar"+D])}f.$on("$destroy",function(){i.unregisterEditor(f._name)}),f.$on("ta-element-select",function(e,t){T.triggerElementSelect(e,t)&&f["reApplyOnSelectorHandlerstaTextElement"+D]()}),f.$on("ta-drop-event",function(e,n,a,r){f.displayElements.text[0].focus(),r&&r.files&&r.files.length>0?(angular.forEach(r.files,function(e){try{u.when(f.fileDropHandler(e,f.wrapSelection)||f.fileDropHandler!==f.defaultFileDropHandler&&u.when(f.defaultFileDropHandler(e,f.wrapSelection))).then(function(){f["updateTaBindtaTextElement"+D]()})}catch(t){d.error(t)}}),a.preventDefault(),a.stopPropagation()):t(function(){f["updateTaBindtaTextElement"+D]()},0)}),f._bUpdateSelectedStyles=!1,angular.element(window).on("blur",function(){f._bUpdateSelectedStyles=!1,f.focussed=!1}),f.updateSelectedStyles=function(){var e;Y&&t.cancel(Y),void 0!==(e=a.getSelectionElement())&&e.parentNode!==f.displayElements.text[0]?T.updateSelectedStyles(angular.element(e)):T.updateSelectedStyles(),f._bUpdateSelectedStyles&&(Y=t(f.updateSelectedStyles,200))},_=function(){return f.focussed?void(f._bUpdateSelectedStyles||(f._bUpdateSelectedStyles=!0,f.$apply(function(){f.updateSelectedStyles()}))):void(f._bUpdateSelectedStyles=!1)},f.displayElements.html.on("keydown",_),f.displayElements.text.on("keydown",_),g=function(){f._bUpdateSelectedStyles=!1},f.displayElements.html.on("keyup",g),f.displayElements.text.on("keyup",g),v=function(e,t){t&&angular.extend(e,t),f.$apply(function(){return T.sendKeyCommand(e)?(f._bUpdateSelectedStyles||f.updateSelectedStyles(),e.preventDefault(),!1):void 0})},f.displayElements.html.on("keypress",v),f.displayElements.text.on("keypress",v),y=function(){f._bUpdateSelectedStyles=!1,f.$apply(function(){f.updateSelectedStyles()})},f.displayElements.html.on("mouseup",y),f.displayElements.text.on("mouseup",y)}}}]),_.service("textAngularManager",["taToolExecuteAction","taTools","taRegisterTool",function(e,t,n){var a={},r={};return{registerEditor:function(n,i,o){if(!n||""===n)throw"textAngular Error: An editor requires a name";if(!i)throw"textAngular Error: An editor requires a scope";if(r[n])throw'textAngular Error: An Editor with name "'+n+'" already exists';var s=[];return angular.forEach(o,function(e){a[e]&&s.push(a[e])}),r[n]={scope:i,toolbars:o,_registerToolbar:function(e){this.toolbars.indexOf(e.name)>=0&&s.push(e)},editorFunctions:{disable:function(){angular.forEach(s,function(e){e.disabled=!0})},enable:function(){angular.forEach(s,function(e){e.disabled=!1})},focus:function(){angular.forEach(s,function(e){e._parent=i,e.disabled=!1,e.focussed=!0,i.focussed=!0})},unfocus:function(){angular.forEach(s,function(e){e.disabled=!0,e.focussed=!1}),i.focussed=!1},updateSelectedStyles:function(e){angular.forEach(s,function(t){angular.forEach(t.tools,function(n){n.activeState&&(t._parent=i,n.active=n.activeState(e))})})},sendKeyCommand:function(n){var a=!1;return(n.ctrlKey||n.metaKey)&&angular.forEach(t,function(t,r){if(t.commandKeyCode&&t.commandKeyCode===n.which)for(var o=0;o<s.length;o++)if(void 0!==s[o].tools[r]){e.call(s[o].tools[r],i),a=!0;break}}),a},triggerElementSelect:function(e,n){var a=function(e,t){for(var n=!0,a=0;a<t.length;a++)n=n&&e.attr(t[a]);return n},r=[],o={},l=!1;n=angular.element(n);var d=!1;if(angular.forEach(t,function(e,t){e.onElementSelect&&e.onElementSelect.element&&e.onElementSelect.element.toLowerCase()===n[0].tagName.toLowerCase()&&(!e.onElementSelect.filter||e.onElementSelect.filter(n))&&(d=d||angular.isArray(e.onElementSelect.onlyWithAttrs)&&a(n,e.onElementSelect.onlyWithAttrs),(!e.onElementSelect.onlyWithAttrs||a(n,e.onElementSelect.onlyWithAttrs))&&(o[t]=e))}),d?(angular.forEach(o,function(e,t){e.onElementSelect.onlyWithAttrs&&a(n,e.onElementSelect.onlyWithAttrs)&&r.push({name:t,tool:e})}),r.sort(function(e,t){return t.tool.onElementSelect.onlyWithAttrs.length-e.tool.onElementSelect.onlyWithAttrs.length})):angular.forEach(o,function(e,t){r.push({name:t,tool:e})}),r.length>0)for(var u=0;u<r.length;u++){for(var c=r[u].tool,f=r[u].name,m=0;m<s.length;m++)if(void 0!==s[m].tools[f]){c.onElementSelect.action.call(s[m].tools[f],e,n,i),l=!0;break}if(l)break}return l}}},r[n].editorFunctions},retrieveEditor:function(e){return r[e]},unregisterEditor:function(e){delete r[e]},registerToolbar:function(e){if(!e)throw"textAngular Error: A toolbar requires a scope";if(!e.name||""===e.name)throw"textAngular Error: A toolbar requires a name";if(a[e.name])throw'textAngular Error: A toolbar with name "'+e.name+'" already exists';a[e.name]=e,angular.forEach(r,function(t){t._registerToolbar(e)})},retrieveToolbar:function(e){return a[e]},retrieveToolbarsViaEditor:function(e){var t=[],n=this;return angular.forEach(this.retrieveEditor(e).toolbars,function(e){t.push(n.retrieveToolbar(e))}),t},unregisterToolbar:function(e){delete a[e]},updateToolsDisplay:function(e){var t=this;angular.forEach(e,function(e,n){t.updateToolDisplay(n,e)})},resetToolsDisplay:function(){var e=this;angular.forEach(t,function(t,n){e.resetToolDisplay(n)})},updateToolDisplay:function(e,t){var n=this;angular.forEach(a,function(a,r){n.updateToolbarToolDisplay(r,e,t)})},resetToolDisplay:function(e){var t=this;angular.forEach(a,function(n,a){t.resetToolbarToolDisplay(a,e)})},updateToolbarToolDisplay:function(e,t,n){if(!a[e])throw'textAngular Error: No Toolbar with name "'+e+'" exists';a[e].updateToolDisplay(t,n)},resetToolbarToolDisplay:function(e,n){if(!a[e])throw'textAngular Error: No Toolbar with name "'+e+'" exists';a[e].updateToolDisplay(n,t[n],!0)},removeTool:function(e){delete t[e],angular.forEach(a,function(t){delete t.tools[e];for(var n=0;n<t.toolbar.length;n++){for(var a,r=0;r<t.toolbar[n].length;r++){if(t.toolbar[n][r]===e){a={group:n,index:r};break}if(void 0!==a)break}void 0!==a&&(t.toolbar[a.group].slice(a.index,1),t._$element.children().eq(a.group).children().eq(a.index).remove())}})},addTool:function(e,t,r,i){n(e,t),angular.forEach(a,function(n){n.addTool(e,t,r,i)})},addToolToToolbar:function(e,t,r,i,o){n(e,t),a[r].addTool(e,t,i,o)},refreshEditor:function(e){if(!r[e])throw'textAngular Error: No Editor with name "'+e+'" exists';r[e].scope.updateTaBindtaTextElement(),r[e].scope.$$phase||r[e].scope.$digest()}}}]),_.directive("textAngularToolbar",["$compile","textAngularManager","taOptions","taTools","taToolExecuteAction","$window",function(e,t,n,a,r,i){return{scope:{name:"@"},restrict:"EA",link:function(o,s,l){if(!o.name||""===o.name)throw"textAngular Error: A toolbar requires a name";angular.extend(o,angular.copy(n)),l.taToolbar&&(o.toolbar=o.$parent.$eval(l.taToolbar)),l.taToolbarClass&&(o.classes.toolbar=l.taToolbarClass),l.taToolbarGroupClass&&(o.classes.toolbarGroup=l.taToolbarGroupClass),l.taToolbarButtonClass&&(o.classes.toolbarButton=l.taToolbarButtonClass),l.taToolbarActiveButtonClass&&(o.classes.toolbarButtonActive=l.taToolbarActiveButtonClass),l.taFocussedClass&&(o.classes.focussed=l.taFocussedClass),o.disabled=!0,o.focussed=!1,o._$element=s,s[0].innerHTML="",s.addClass("ta-toolbar "+o.classes.toolbar),o.$watch("focussed",function(){o.focussed?s.addClass(o.classes.focussed):s.removeClass(o.classes.focussed)});var d=function(t,n){var a;if(a=t&&t.display?angular.element(t.display):angular.element("<button type='button'>"),t&&t["class"]?a.addClass(t["class"]):a.addClass(o.classes.toolbarButton),a.attr("name",n.name),a.attr("ta-button","ta-button"),a.attr("ng-disabled","isDisabled()"),a.attr("tabindex","-1"),a.attr("ng-click","executeAction()"),a.attr("ng-class","displayActiveToolClass(active)"),t&&t.tooltiptext&&a.attr("title",t.tooltiptext),t&&!t.display&&!n._display&&(a[0].innerHTML="",t.buttontext&&(a[0].innerHTML=t.buttontext),t.iconclass)){var r=angular.element("<i>"),i=a[0].innerHTML;r.addClass(t.iconclass),a[0].innerHTML="",a.append(r),i&&""!==i&&a.append("&nbsp;"+i)}return n._lastToolDefinition=angular.copy(t),e(a)(n)};o.tools={},o._parent={disabled:!0,showHtml:!1,queryFormatBlockState:function(){return!1},queryCommandState:function(){return!1}};var u={$window:i,$editor:function(){return o._parent},isDisabled:function(){return"function"!=typeof this.$eval("disabled")&&this.$eval("disabled")||this.$eval("disabled()")||"html"!==this.name&&this.$editor().showHtml||this.$parent.disabled||this.$editor().disabled},displayActiveToolClass:function(e){return e?o.classes.toolbarButtonActive:""},executeAction:r};angular.forEach(o.toolbar,function(e){var t=angular.element("<div>");t.addClass(o.classes.toolbarGroup),angular.forEach(e,function(e){o.tools[e]=angular.extend(o.$new(!0),a[e],u,{name:e}),o.tools[e].$element=d(a[e],o.tools[e]),t.append(o.tools[e].$element)}),s.append(t)}),o.updateToolDisplay=function(e,t,n){var a=o.tools[e];if(a){if(a._lastToolDefinition&&!n&&(t=angular.extend({},a._lastToolDefinition,t)),null===t.buttontext&&null===t.iconclass&&null===t.display)throw'textAngular Error: Tool Definition for updating "'+e+'" does not have a valid display/iconclass/buttontext value';null===t.buttontext&&delete t.buttontext,null===t.iconclass&&delete t.iconclass,null===t.display&&delete t.display;var r=d(t,a);a.$element.replaceWith(r),a.$element=r}},o.addTool=function(e,t,n,r){o.tools[e]=angular.extend(o.$new(!0),a[e],u,{name:e}),o.tools[e].$element=d(a[e],o.tools[e]);var i;void 0===n&&(n=o.toolbar.length-1),i=angular.element(s.children()[n]),void 0===r?(i.append(o.tools[e].$element),o.toolbar[n][o.toolbar[n].length-1]=e):(i.children().eq(r).after(o.tools[e].$element),o.toolbar[n][r]=e)},t.registerToolbar(o),o.$on("$destroy",function(){t.unregisterToolbar(o.name)})}}}])}(),!function(e,t){t["true"]=e,angular.module("textAngularSetup",[]).value("taOptions",{toolbar:[["h1","h2","h3","h4","h5","h6","p","pre","quote"],["bold","italics","underline","strikeThrough","ul","ol","redo","undo","clear"],["justifyLeft","justifyCenter","justifyRight","indent","outdent"],["html","insertImage","insertLink","insertVideo","wordcount","charcount"]],classes:{focussed:"focussed",toolbar:"btn-toolbar",toolbarGroup:"btn-group",toolbarButton:"btn btn-default",toolbarButtonActive:"active",disabled:"disabled",textEditor:"form-control",htmlEditor:"form-control"},defaultTagAttributes:{a:{target:""}},setup:{textEditorSetup:function(){},htmlEditorSetup:function(){}},defaultFileDropHandler:function(e,t){var n=new FileReader;return"image"===e.type.substring(0,5)?(n.onload=function(){""!==n.result&&t("insertImage",n.result,!0)},n.readAsDataURL(e),!0):!1}}).value("taSelectableElements",["a","img"]).value("taCustomRenderers",[{selector:"img",customAttribute:"ta-insert-video",renderLogic:function(e){var t=angular.element("<iframe></iframe>"),n=e.prop("attributes");angular.forEach(n,function(e){t.attr(e.name,e.value)}),t.attr("src",t.attr("ta-insert-video")),e.replaceWith(t)}}]).value("taTranslations",{html:{tooltip:"Toggle html / Rich Text"},heading:{tooltip:"Heading "},p:{tooltip:"Paragraph"},pre:{tooltip:"Preformatted text"},ul:{tooltip:"Unordered List"},ol:{tooltip:"Ordered List"},quote:{tooltip:"Quote/unquote selection or paragraph"},undo:{tooltip:"Undo"},redo:{tooltip:"Redo"},bold:{tooltip:"Bold"},italic:{tooltip:"Italic"},underline:{tooltip:"Underline"},strikeThrough:{tooltip:"Strikethrough"},justifyLeft:{tooltip:"Align text left"},justifyRight:{tooltip:"Align text right"},justifyCenter:{tooltip:"Center"},indent:{tooltip:"Increase indent"},outdent:{tooltip:"Decrease indent"},clear:{tooltip:"Clear formatting"},insertImage:{dialogPrompt:"Please enter an image URL to insert",tooltip:"Insert image",hotkey:"the - possibly language dependent hotkey ... for some future implementation"},insertVideo:{tooltip:"Insert video",dialogPrompt:"Please enter a youtube URL to embed"},insertLink:{tooltip:"Insert / edit link",dialogPrompt:"Please enter a URL to insert"},editLink:{reLinkButton:{tooltip:"Relink"},unLinkButton:{tooltip:"Unlink"},targetToggle:{buttontext:"Open in New Window"}},wordcount:{tooltip:"Display words Count"},charcount:{tooltip:"Display characters Count"}}).run(["taRegisterTool","$window","taTranslations","taSelection",function(e,t,n,a){e("html",{iconclass:"fa fa-code",tooltiptext:n.html.tooltip,action:function(){this.$editor().switchView()},activeState:function(){return this.$editor().showHtml}});var r=function(e){return function(){return this.$editor().queryFormatBlockState(e)}},i=function(){return this.$editor().wrapSelection("formatBlock","<"+this.name.toUpperCase()+">")};angular.forEach(["h1","h2","h3","h4","h5","h6"],function(t){e(t.toLowerCase(),{buttontext:t.toUpperCase(),tooltiptext:n.heading.tooltip+t.charAt(1),action:i,activeState:r(t.toLowerCase())})}),e("p",{buttontext:"P",tooltiptext:n.p.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<P>")},activeState:function(){return this.$editor().queryFormatBlockState("p")}}),e("pre",{buttontext:"pre",tooltiptext:n.pre.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<PRE>")},activeState:function(){return this.$editor().queryFormatBlockState("pre")}}),e("ul",{iconclass:"fa fa-list-ul",tooltiptext:n.ul.tooltip,action:function(){return this.$editor().wrapSelection("insertUnorderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertUnorderedList")}}),e("ol",{iconclass:"fa fa-list-ol",tooltiptext:n.ol.tooltip,action:function(){return this.$editor().wrapSelection("insertOrderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertOrderedList")}}),e("quote",{iconclass:"fa fa-quote-right",tooltiptext:n.quote.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<BLOCKQUOTE>")},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")}}),e("undo",{iconclass:"fa fa-undo",tooltiptext:n.undo.tooltip,action:function(){return this.$editor().wrapSelection("undo",null)}}),e("redo",{iconclass:"fa fa-repeat",tooltiptext:n.redo.tooltip,action:function(){return this.$editor().wrapSelection("redo",null)}}),e("bold",{iconclass:"fa fa-bold",tooltiptext:n.bold.tooltip,action:function(){return this.$editor().wrapSelection("bold",null)},activeState:function(){return this.$editor().queryCommandState("bold")},commandKeyCode:98}),e("justifyLeft",{iconclass:"fa fa-align-left",tooltiptext:n.justifyLeft.tooltip,action:function(){return this.$editor().wrapSelection("justifyLeft",null)},activeState:function(e){var t=!1;return e&&(t="left"===e.css("text-align")||"left"===e.attr("align")||"right"!==e.css("text-align")&&"center"!==e.css("text-align")&&"justify"!==e.css("text-align")&&!this.$editor().queryCommandState("justifyRight")&&!this.$editor().queryCommandState("justifyCenter")&&!this.$editor().queryCommandState("justifyFull")),t=t||this.$editor().queryCommandState("justifyLeft")}}),e("justifyRight",{iconclass:"fa fa-align-right",tooltiptext:n.justifyRight.tooltip,action:function(){return this.$editor().wrapSelection("justifyRight",null)},activeState:function(e){var t=!1;return e&&(t="right"===e.css("text-align")),t=t||this.$editor().queryCommandState("justifyRight")}}),e("justifyCenter",{iconclass:"fa fa-align-center",tooltiptext:n.justifyCenter.tooltip,action:function(){return this.$editor().wrapSelection("justifyCenter",null)},activeState:function(e){var t=!1;return e&&(t="center"===e.css("text-align")),t=t||this.$editor().queryCommandState("justifyCenter")}}),e("indent",{iconclass:"fa fa-indent",tooltiptext:n.indent.tooltip,action:function(){return this.$editor().wrapSelection("indent",null)},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")}}),e("outdent",{iconclass:"fa fa-outdent",tooltiptext:n.outdent.tooltip,action:function(){return this.$editor().wrapSelection("outdent",null)},activeState:function(){return!1}}),e("italics",{iconclass:"fa fa-italic",tooltiptext:n.italic.tooltip,action:function(){return this.$editor().wrapSelection("italic",null);
},activeState:function(){return this.$editor().queryCommandState("italic")},commandKeyCode:105}),e("underline",{iconclass:"fa fa-underline",tooltiptext:n.underline.tooltip,action:function(){return this.$editor().wrapSelection("underline",null)},activeState:function(){return this.$editor().queryCommandState("underline")},commandKeyCode:117}),e("strikeThrough",{iconclass:"fa fa-strikethrough",tooltiptext:n.strikeThrough.tooltip,action:function(){return this.$editor().wrapSelection("strikeThrough",null)},activeState:function(){return document.queryCommandState("strikeThrough")}}),e("clear",{iconclass:"fa fa-ban",tooltiptext:n.clear.tooltip,action:function(e,t){var n;this.$editor().wrapSelection("removeFormat",null);var r=angular.element(a.getSelectionElement()),i=function(e){e=angular.element(e);var t=e;angular.forEach(e.children(),function(e){var n=angular.element("<p></p>");n.html(angular.element(e).html()),t.after(n),t=n}),e.remove()};if(angular.forEach(r.find("ul"),i),angular.forEach(r.find("ol"),i),"li"===r[0].tagName.toLowerCase()){var o=r[0].parentNode.childNodes,s=[],l=[],d=!1;for(n=0;n<o.length;n++)o[n]===r[0]?d=!0:d?l.push(o[n]):s.push(o[n]);var u=angular.element(r[0].parentNode),c=angular.element("<p></p>");if(c.html(angular.element(r[0]).html()),0===s.length||0===l.length)0===l.length?u.after(c):u[0].parentNode.insertBefore(c[0],u[0]),0===s.length&&0===l.length?u.remove():angular.element(r[0]).remove();else{var f=angular.element("<"+u[0].tagName+"></"+u[0].tagName+">"),m=angular.element("<"+u[0].tagName+"></"+u[0].tagName+">");for(n=0;n<s.length;n++)f.append(angular.element(s[n]));for(n=0;n<l.length;n++)m.append(angular.element(l[n]));u.after(m),u.after(c),u.after(f),u.remove()}a.setSelectionToElementEnd(c[0])}var p=this.$editor(),h=function(e){e=angular.element(e),e[0]!==p.displayElements.text[0]&&e.removeAttr("class"),angular.forEach(e.children(),h)};angular.forEach(r,h),"li"!==r[0].tagName.toLowerCase()&&"ol"!==r[0].tagName.toLowerCase()&&"ul"!==r[0].tagName.toLowerCase()&&this.$editor().wrapSelection("formatBlock","default"),t()}});var o=function(e,t,n){var a=function(){n.updateTaBindtaTextElement(),n.hidePopover()};e.preventDefault(),n.displayElements.popover.css("width","375px");var r=n.displayElements.popoverContainer;r.empty();var i=angular.element('<div class="btn-group" style="padding-right: 6px;">'),o=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">100% </button>');o.on("click",function(e){e.preventDefault(),t.css({width:"100%",height:""}),a()});var s=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">50% </button>');s.on("click",function(e){e.preventDefault(),t.css({width:"50%",height:""}),a()});var l=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">25% </button>');l.on("click",function(e){e.preventDefault(),t.css({width:"25%",height:""}),a()});var d=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">Reset</button>');d.on("click",function(e){e.preventDefault(),t.css({width:"",height:""}),a()}),i.append(o),i.append(s),i.append(l),i.append(d),r.append(i),i=angular.element('<div class="btn-group" style="padding-right: 6px;">');var u=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-left"></i></button>');u.on("click",function(e){e.preventDefault(),t.css("float","left"),t.css("cssFloat","left"),t.css("styleFloat","left"),a()});var c=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-right"></i></button>');c.on("click",function(e){e.preventDefault(),t.css("float","right"),t.css("cssFloat","right"),t.css("styleFloat","right"),a()});var f=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-justify"></i></button>');f.on("click",function(e){e.preventDefault(),t.css("float",""),t.css("cssFloat",""),t.css("styleFloat",""),a()}),i.append(u),i.append(f),i.append(c),r.append(i),i=angular.element('<div class="btn-group">');var m=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-trash-o"></i></button>');m.on("click",function(e){e.preventDefault(),t.remove(),a()}),i.append(m),r.append(i),n.showPopover(t),n.showResizeOverlay(t)};e("insertImage",{iconclass:"fa fa-picture-o",tooltiptext:n.insertImage.tooltip,action:function(){var e;return e=t.prompt(n.insertImage.dialogPrompt,"http://"),e&&""!==e&&"http://"!==e?this.$editor().wrapSelection("insertImage",e,!0):void 0},onElementSelect:{element:"img",action:o}}),e("insertVideo",{iconclass:"fa fa-youtube-play",tooltiptext:n.insertVideo.tooltip,action:function(){var e;if(e=t.prompt(n.insertVideo.dialogPrompt,"https://"),e&&""!==e&&"https://"!==e){var a=e.match(/(\?|&)v=[^&]*/);if(a&&a.length>0){var r="https://www.youtube.com/embed/"+a[0].substring(3),i='<img class="ta-insert-video" src="https://img.youtube.com/vi/'+a[0].substring(3)+'/hqdefault.jpg" ta-insert-video="'+r+'" contenteditable="false" allowfullscreen="true" frameborder="0" />';return this.$editor().wrapSelection("insertHTML",i,!0)}}},onElementSelect:{element:"img",onlyWithAttrs:["ta-insert-video"],action:o}}),e("insertLink",{tooltiptext:n.insertLink.tooltip,iconclass:"fa fa-link",action:function(){var e;return e=t.prompt(n.insertLink.dialogPrompt,"http://"),e&&""!==e&&"http://"!==e?this.$editor().wrapSelection("createLink",e,!0):void 0},activeState:function(e){return e?"A"===e[0].tagName:!1},onElementSelect:{element:"a",action:function(e,a,r){e.preventDefault(),r.displayElements.popover.css("width","436px");var i=r.displayElements.popoverContainer;i.empty(),i.css("line-height","28px");var o=angular.element('<a href="'+a.attr("href")+'" target="_blank">'+a.attr("href")+"</a>");o.css({display:"inline-block","max-width":"200px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","vertical-align":"middle"}),i.append(o);var s=angular.element('<div class="btn-group pull-right">'),l=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+n.editLink.reLinkButton.tooltip+'"><i class="fa fa-edit icon-edit"></i></button>');l.on("click",function(e){e.preventDefault();var i=t.prompt(n.insertLink.dialogPrompt,a.attr("href"));i&&""!==i&&"http://"!==i&&(a.attr("href",i),r.updateTaBindtaTextElement()),r.hidePopover()}),s.append(l);var d=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+n.editLink.unLinkButton.tooltip+'"><i class="fa fa-unlink icon-unlink"></i></button>');d.on("click",function(e){e.preventDefault(),a.replaceWith(a.contents()),r.updateTaBindtaTextElement(),r.hidePopover()}),s.append(d);var u=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on">'+n.editLink.targetToggle.buttontext+"</button>");"_blank"===a.attr("target")&&u.addClass("active"),u.on("click",function(e){e.preventDefault(),a.attr("target","_blank"===a.attr("target")?"":"_blank"),u.toggleClass("active"),r.updateTaBindtaTextElement()}),s.append(u),i.append(s),r.showPopover(a)}}}),e("wordcount",{display:'<div id="toolbarWC" style="display:block; min-width:100px;">Words: <span ng-bind="wordcount"></span></div>',disabled:!0,wordcount:0,activeState:function(){var e=this.$editor().displayElements.text,t=e[0].innerHTML||"",n=0;return""!==t.replace(/\s*<[^>]*?>\s*/g,"")&&(n=t.replace(/<\/?(b|i|em|strong|span|u|strikethrough|a|img|small|sub|sup|label)( [^>*?])?>/gi,"").replace(/(<[^>]*?>\s*<[^>]*?>)/gi," ").replace(/(<[^>]*?>)/gi,"").replace(/\s+/gi," ").match(/\S+/g).length),this.wordcount=n,this.$editor().wordcount=n,!1}}),e("charcount",{display:'<div id="toolbarCC" style="display:block; min-width:120px;">Characters: <span ng-bind="charcount"></span></div>',disabled:!0,charcount:0,activeState:function(){var e=this.$editor().displayElements.text,t=e[0].innerText||e[0].textContent,n=t.replace(/(\r\n|\n|\r)/gm,"").replace(/^\s+/g," ").replace(/\s+$/g," ").length;return this.charcount=n,this.$editor().charcount=n,!1}})}]),function(){"use strict";function e(e){try{return 0!==angular.element(e).length}catch(t){return!1}}function t(t,n){if(!t||""===t||g.hasOwnProperty(t))throw"textAngular Error: A unique name is required for a Tool Definition";if(n.display&&(""===n.display||!e(n.display))||!n.display&&!n.buttontext&&!n.iconclass)throw'textAngular Error: Tool Definition for "'+t+'" does not have a valid display/iconclass/buttontext value';g[t]=n}var n={ie:function(){for(var e,t=3,n=document.createElement("div"),a=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",a[0];);return t>4?t:e}(),webkit:/AppleWebKit\/([\d.]+)/i.test(navigator.userAgent)},a=!1;n.webkit&&(document.addEventListener("mousedown",function(e){var t=e||window.event,n=t.target;if(a&&null!==n){for(var r=!1,i=n;null!==i&&"html"!==i.tagName.toLowerCase()&&!r;)r="true"===i.contentEditable,i=i.parentNode;r||(document.getElementById("textAngular-editableFix-010203040506070809").setSelectionRange(0,0),n.focus(),n.select&&n.select())}a=!1},!1),angular.element(document).ready(function(){angular.element(document.body).append(angular.element('<input id="textAngular-editableFix-010203040506070809" class="ta-hidden-input" unselectable="on" tabIndex="-1">'))}));var r=/^(address|article|aside|audio|blockquote|canvas|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video)$/i,i=/^(ul|li|ol)$/i,o=/^(address|article|aside|audio|blockquote|canvas|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video|li)$/i;String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var s,l,d,u,c,f;if(n.ie>8||void 0===n.ie){for(var m=document.styleSheets,p=0;p<m.length;p++)if((0===m[p].media.length||m[p].media.mediaText.match(/(all|screen)/gi))&&m[p].href&&m[p].href.match(/textangular\.(min\.|)css/gi)){s=m[p];break}s||(s=function(){var e=document.createElement("style");return n.webkit&&e.appendChild(document.createTextNode("")),document.getElementsByTagName("head")[0].appendChild(e),e.sheet}()),l=function(e,t){return u(s,e,t)},u=function(e,t,n){var a,r;return e.cssRules?a=Math.max(e.cssRules.length-1,0):e.rules&&(a=Math.max(e.rules.length-1,0)),e.insertRule?e.insertRule(t+"{"+n+"}",a):e.addRule(t,n,a),s.rules?r=s.rules[a]:s.cssRules&&(r=s.cssRules[a]),r},f=function(e,t){var n,a;for(n=0;n<t.length;n++)if(t[n].cssText===e.cssText){a=n;break}return a},d=function(e){c(s,e)},c=function(e,t){var n=e.cssRules||e.rules;if(n){var a=f(t,n);e.removeRule?e.removeRule(a):e.deleteRule(a)}}}angular.module("textAngular.factories",[]).factory("taBrowserTag",[function(){return function(e){return e?""===e?void 0===n.ie?"div":n.ie<=8?"P":"p":n.ie<=8?e.toUpperCase():e:n.ie<=8?"P":"p"}}]).factory("taApplyCustomRenderers",["taCustomRenderers","taDOM",function(e,t){return function(n){var a=angular.element("<div></div>");return a[0].innerHTML=n,angular.forEach(e,function(e){var n=[];e.selector&&""!==e.selector?n=a.find(e.selector):e.customAttribute&&""!==e.customAttribute&&(n=t.getByAttribute(a,e.customAttribute)),angular.forEach(n,function(t){t=angular.element(t),e.selector&&""!==e.selector&&e.customAttribute&&""!==e.customAttribute?void 0!==t.attr(e.customAttribute)&&e.renderLogic(t):e.renderLogic(t)})}),a[0].innerHTML}}]).factory("taFixChrome",function(){var e=function(e){if(!e||!angular.isString(e)||e.length<=0)return e;for(var t,n,a,r=/<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi,i="",o=0;t=r.exec(e);)n=t[3]||t[4],n&&n.match(/line-height: 1.[0-9]{3,12};|color: inherit; line-height: 1.1;/i)&&(n=n.replace(/( |)font-family: inherit;|( |)line-height: 1.[0-9]{3,12};|( |)color: inherit;/gi,""),a="<"+t[1].trim(),n.trim().length>0&&(a+=" style="+t[2].substring(0,1)+n+t[2].substring(0,1)),a+=t[5].trim()+">",i+=e.substring(o,t.index)+a,o=t.index+t[0].length);return i+=e.substring(o),o>0?i.replace(/<span\s?>(.*?)<\/span>(<br(\/|)>|)/gi,"$1"):e};return e}).factory("taSanitize",["$sanitize",function(e){function t(e,t){for(var n,a=0,r=0,i=/<[^>]*>/gi;n=i.exec(e);)if(r=n.index,"/"===n[0].substr(1,1)){if(0===a)break;a--}else a++;return t+e.substring(0,r)+angular.element(t)[0].outerHTML.substring(t.length)+e.substring(r)}function n(e){if(!e||!angular.isString(e)||e.length<=0)return e;for(var a,i,o,s,l,u,c=/<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi,f="",m="",p=0;i=c.exec(e);){s=i[3]||i[4];var h=new RegExp(d,"i");if(angular.isString(s)&&h.test(s)){l="";for(var _=new RegExp(d,"ig");o=_.exec(s);)for(a=0;a<r.length;a++)o[2*a+2]&&(l+="<"+r[a].tag+">");u=n(e.substring(p,i.index)),m+=f.length>0?t(u,f):u,s=s.replace(new RegExp(d,"ig"),""),m+="<"+i[1].trim(),s.length>0&&(m+=' style="'+s+'"'),m+=i[5]+">",p=i.index+i[0].length,f=l}}return m+=f.length>0?t(e.substring(p),f):e.substring(p)}function a(e){if(!e||!angular.isString(e)||e.length<=0)return e;for(var t,n=/<([^>\/]+?)align=("([^"]+)"|'([^']+)')([^>]*)>/gi,a="",r=0;t=n.exec(e);){a+=e.substring(r,t.index),r=t.index+t[0].length;var i="<"+t[1]+t[5];/style=("([^"]+)"|'([^']+)')/gi.test(i)?i=i.replace(/style=("([^"]+)"|'([^']+)')/i,'style="$2$3 text-align:'+(t[3]||t[4])+';"'):i+=' style="text-align:'+(t[3]||t[4])+';"',i+=">",a+=i}return a+e.substring(r)}for(var r=[{property:"font-weight",values:["bold"],tag:"b"},{property:"font-style",values:["italic"],tag:"i"}],i=[],o=0;o<r.length;o++){for(var s="("+r[o].property+":\\s*(",l=0;l<r[o].values.length;l++)l>0&&(s+="|"),s+=r[o].values[l];s+=");)",i.push(s)}var d="("+i.join("|")+")";return function(t,r,i){if(!i)try{t=n(t)}catch(o){}t=a(t);var s;try{s=e(t),i&&(s=t)}catch(o){s=r||""}var l,d=s.match(/(<pre[^>]*>.*?<\/pre[^>]*>)/gi),u=s.replace(/(&#(9|10);)*/gi,""),c=/<pre[^>]*>.*?<\/pre[^>]*>/gi,f=0,m=0;for(s="";null!==(l=c.exec(u))&&f<d.length;)s+=u.substring(m,l.index)+d[f],m=l.index+l[0].length,f++;return s+u.substring(m)}}]).factory("taToolExecuteAction",["$q","$log",function(e,t){return function(n){void 0!==n&&(this.$editor=function(){return n});var a,r=e.defer(),i=r.promise,o=this.$editor();try{a=this.action(r,o.startAction()),i["finally"](function(){o.endAction.call(o)})}catch(s){t.error(s)}(a||void 0===a)&&r.resolve()}}]),angular.module("textAngular.DOM",["textAngular.factories"]).factory("taExecCommand",["taSelection","taBrowserTag","$document",function(e,t,n){var a=function(t,n){var a,r,i=t.find("li");for(r=i.length-1;r>=0;r--)a=angular.element("<"+n+">"+i[r].innerHTML+"</"+n+">"),t.after(a);t.remove(),e.setSelectionToElementEnd(a[0])},o=function(t){/(<br(|\/)>)$/i.test(t.innerHTML.trim())?e.setSelectionBeforeElement(angular.element(t).find("br")[0]):e.setSelectionToElementEnd(t)},s=function(e,t){var n=angular.element("<"+t+">"+e[0].innerHTML+"</"+t+">");e.after(n),e.remove(),o(n.find("li")[0])},l=function(e,n,a){for(var r="",i=0;i<e.length;i++)r+="<"+t("li")+">"+e[i].innerHTML+"</"+t("li")+">";var s=angular.element("<"+a+">"+r+"</"+a+">");n.after(s),n.remove(),o(s.find("li")[0])};return function(o,d){return o=t(o),function(u,c,f,m){var p,h,_,g,v,y,M,L=angular.element("<"+o+">");try{M=e.getSelectionElement()}catch(b){}var T=angular.element(M);if(void 0!==M){var w=M.tagName.toLowerCase();if("insertorderedlist"===u.toLowerCase()||"insertunorderedlist"===u.toLowerCase()){var k=t("insertorderedlist"===u.toLowerCase()?"ol":"ul");if(w===k)return a(T,o);if("li"===w&&T.parent()[0].tagName.toLowerCase()===k&&1===T.parent().children().length)return a(T.parent(),o);if("li"===w&&T.parent()[0].tagName.toLowerCase()!==k&&1===T.parent().children().length)return s(T.parent(),k);if(w.match(r)&&!T.hasClass("ta-bind")){if("ol"===w||"ul"===w)return s(T,k);var Y=!1;return angular.forEach(T.children(),function(e){e.tagName.match(r)&&(Y=!0)}),Y?l(T.children(),T,k):l([angular.element("<div>"+M.innerHTML+"</div>")[0]],T,k)}if(w.match(r)){if(g=e.getOnlySelectedElements(),0===g.length)h=angular.element("<"+k+"><li>"+M.innerHTML+"</li></"+k+">"),T.html(""),T.append(h);else{if(1===g.length&&("ol"===g[0].tagName.toLowerCase()||"ul"===g[0].tagName.toLowerCase()))return g[0].tagName.toLowerCase()===k?a(angular.element(g[0]),o):s(angular.element(g[0]),k);_="";var D=[];for(p=0;p<g.length;p++)if(3!==g[p].nodeType){var S=angular.element(g[p]);if("li"===g[p].tagName.toLowerCase())continue;_+="ol"===g[p].tagName.toLowerCase()||"ul"===g[p].tagName.toLowerCase()?S[0].innerHTML:"span"!==g[p].tagName.toLowerCase()||"ol"!==g[p].childNodes[0].tagName.toLowerCase()&&"ul"!==g[p].childNodes[0].tagName.toLowerCase()?"<"+t("li")+">"+S[0].innerHTML+"</"+t("li")+">":S[0].childNodes[0].innerHTML,D.unshift(S)}h=angular.element("<"+k+">"+_+"</"+k+">"),D.pop().replaceWith(h),angular.forEach(D,function(e){e.remove()})}return void e.setSelectionToElementEnd(h[0])}}else{if("formatblock"===u.toLowerCase()){for(y=f.toLowerCase().replace(/[<>]/gi,""),"default"===y.trim()&&(y=o,f="<"+o+">"),h="li"===w?T.parent():T;!h[0].tagName||!h[0].tagName.match(r)&&!h.parent().attr("contenteditable");)h=h.parent(),w=(h[0].tagName||"").toLowerCase();if(w===y){g=h.children();var x=!1;for(p=0;p<g.length;p++)x=x||g[p].tagName.match(r);x?(h.after(g),v=h.next(),h.remove(),h=v):(L.append(h[0].childNodes),h.after(L),h.remove(),h=L)}else if(h.parent()[0].tagName.toLowerCase()!==y||h.parent().hasClass("ta-bind"))if(w.match(i))h.wrap(f);else{for(g=e.getOnlySelectedElements(),0===g.length&&(g=[h[0]]),p=0;p<g.length;p++)if(3===g[p].nodeType||!g[p].tagName.match(r))for(;3===g[p].nodeType||!g[p].tagName||!g[p].tagName.match(r);)g[p]=g[p].parentNode;if(angular.element(g[0]).hasClass("ta-bind"))h=angular.element(f),h[0].innerHTML=g[0].innerHTML,g[0].innerHTML=h[0].outerHTML;else if("blockquote"===y){for(_="",p=0;p<g.length;p++)_+=g[p].outerHTML;for(h=angular.element(f),h[0].innerHTML=_,g[0].parentNode.insertBefore(h[0],g[0]),p=g.length-1;p>=0;p--)g[p].parentNode&&g[p].parentNode.removeChild(g[p])}else for(p=0;p<g.length;p++)h=angular.element(f),h[0].innerHTML=g[p].innerHTML,g[p].parentNode.insertBefore(h[0],g[p]),g[p].parentNode.removeChild(g[p])}else{var E=h.parent(),C=E.contents();for(p=0;p<C.length;p++)E.parent().hasClass("ta-bind")&&3===C[p].nodeType&&(L=angular.element("<"+o+">"),L[0].innerHTML=C[p].outerHTML,C[p]=L[0]),E.parent()[0].insertBefore(C[p],E[0]);E.remove()}return void e.setSelectionToElementEnd(h[0])}if("createlink"===u.toLowerCase()){var A='<a href="'+f+'" target="'+(m.a.target?m.a.target:"")+'">',N="</a>",$=e.getSelection();if($.collapsed)e.insertHtml(A+f+N,d);else if(rangy.getSelection().getRangeAt(0).canSurroundContents()){var R=angular.element(A+N)[0];rangy.getSelection().getRangeAt(0).surroundContents(R)}return}if("inserthtml"===u.toLowerCase())return void e.insertHtml(f,d)}}try{n[0].execCommand(u,c,f)}catch(b){}}}}]).service("taSelection",["$window","$document","taDOM",function(e,t,n){var a=t[0],i=e.rangy,s=function(e,t){return e.tagName&&e.tagName.match(/^br$/i)&&0===t&&!e.previousSibling?{element:e.parentNode,offset:0}:{element:e,offset:t}},l={getSelection:function(){var e=i.getSelection().getRangeAt(0),t=e.commonAncestorContainer,n={start:s(e.startContainer,e.startOffset),end:s(e.endContainer,e.endOffset),collapsed:e.collapsed};return t=3===t.nodeType?t.parentNode:t,n.container=t.parentNode===n.start.element||t.parentNode===n.end.element?t.parentNode:t,n},getOnlySelectedElements:function(){var e=i.getSelection().getRangeAt(0),t=e.commonAncestorContainer;return t=3===t.nodeType?t.parentNode:t,e.getNodes([1],function(e){return e.parentNode===t})},getSelectionElement:function(){return l.getSelection().container},setSelection:function(e,t,n){var a=i.createRange();a.setStart(e,t),a.setEnd(e,n),i.getSelection().setSingleRange(a)},setSelectionBeforeElement:function(e){var t=i.createRange();t.selectNode(e),t.collapse(!0),i.getSelection().setSingleRange(t)},setSelectionAfterElement:function(e){var t=i.createRange();t.selectNode(e),t.collapse(!1),i.getSelection().setSingleRange(t)},setSelectionToElementStart:function(e){var t=i.createRange();t.selectNodeContents(e),t.collapse(!0),i.getSelection().setSingleRange(t)},setSelectionToElementEnd:function(e){var t=i.createRange();t.selectNodeContents(e),t.collapse(!1),e.childNodes&&e.childNodes[e.childNodes.length-1]&&"br"===e.childNodes[e.childNodes.length-1].nodeName&&(t.startOffset=t.endOffset=t.startOffset-1),i.getSelection().setSingleRange(t)},insertHtml:function(e,t){var s,d,u,c,f,m,p,h=angular.element("<div>"+e+"</div>"),_=i.getSelection().getRangeAt(0),g=a.createDocumentFragment(),v=h[0].childNodes,y=!0;if(v.length>0){for(c=[],u=0;u<v.length;u++)"p"===v[u].nodeName.toLowerCase()&&""===v[u].innerHTML.trim()||3===v[u].nodeType&&""===v[u].nodeValue.trim()||(y=y&&!r.test(v[u].nodeName),c.push(v[u]));for(var M=0;M<c.length;M++)m=g.appendChild(c[M]);!y&&_.collapsed&&/^(|<br(|\/)>)$/i.test(_.startContainer.innerHTML)&&_.selectNode(_.startContainer)}else y=!0,m=g=a.createTextNode(e);if(y)_.deleteContents();else if(_.collapsed&&_.startContainer!==t)if(_.startContainer.innerHTML&&_.startContainer.innerHTML.match(/^<[^>]*>$/i))s=_.startContainer,1===_.startOffset?(_.setStartAfter(s),_.setEndAfter(s)):(_.setStartBefore(s),_.setEndBefore(s));else{if(3===_.startContainer.nodeType&&_.startContainer.parentNode!==t)for(s=_.startContainer.parentNode,d=s.cloneNode(),n.splitNodes(s.childNodes,s,d,_.startContainer,_.startOffset);!o.test(s.nodeName);){angular.element(s).after(d),s=s.parentNode;var L=d;d=s.cloneNode(),n.splitNodes(s.childNodes,s,d,L)}else s=_.startContainer,d=s.cloneNode(),n.splitNodes(s.childNodes,s,d,void 0,void 0,_.startOffset);if(angular.element(s).after(d),_.setStartAfter(s),_.setEndAfter(s),/^(|<br(|\/)>)$/i.test(s.innerHTML.trim())&&(_.setStartBefore(s),_.setEndBefore(s),angular.element(s).remove()),/^(|<br(|\/)>)$/i.test(d.innerHTML.trim())&&angular.element(d).remove(),"li"===s.nodeName.toLowerCase()){for(p=a.createDocumentFragment(),f=0;f<g.childNodes.length;f++)h=angular.element("<li>"),n.transferChildNodes(g.childNodes[f],h[0]),n.transferNodeAttributes(g.childNodes[f],h[0]),p.appendChild(h[0]);g=p,m&&(m=g.childNodes[g.childNodes.length-1],m=m.childNodes[m.childNodes.length-1])}}else _.deleteContents();_.insertNode(g),m&&l.setSelectionToElementEnd(m)}};return l}]).service("taDOM",function(){var e={getByAttribute:function(t,n){var a=[],r=t.children();return r.length&&angular.forEach(r,function(t){a=a.concat(e.getByAttribute(angular.element(t),n))}),void 0!==t.attr(n)&&a.push(t),a},transferChildNodes:function(e,t){for(t.innerHTML="";e.childNodes.length>0;)t.appendChild(e.childNodes[0]);return t},splitNodes:function(t,n,a,r,i,o){if(!r&&isNaN(o))throw new Error("taDOM.splitNodes requires a splitNode or splitIndex");for(var s=document.createDocumentFragment(),l=document.createDocumentFragment(),d=0;t.length>0&&(isNaN(o)||o!==d)&&t[0]!==r;)s.appendChild(t[0]),d++;for(!isNaN(i)&&i>=0&&t[0]&&(s.appendChild(document.createTextNode(t[0].nodeValue.substring(0,i))),t[0].nodeValue=t[0].nodeValue.substring(i));t.length>0;)l.appendChild(t[0]);e.transferChildNodes(s,n),e.transferChildNodes(l,a)},transferNodeAttributes:function(e,t){for(var n=0;n<e.attributes.length;n++)t.setAttribute(e.attributes[n].name,e.attributes[n].value);return t}};return e}),angular.module("textAngular.validators",[]).directive("taMaxText",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,a){var r=parseInt(e.$eval(n.taMaxText));if(isNaN(r))throw"Max text must be an integer";n.$observe("taMaxText",function(e){if(r=parseInt(e),isNaN(r))throw"Max text must be an integer";a.$dirty&&a.$validate()}),a.$validators.taMaxText=function(e){var t=angular.element("<div/>");return t.html(e),t.text().length<=r}}}}).directive("taMinText",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,a){var r=parseInt(e.$eval(n.taMinText));if(isNaN(r))throw"Min text must be an integer";n.$observe("taMinText",function(e){if(r=parseInt(e),isNaN(r))throw"Min text must be an integer";a.$dirty&&a.$validate()}),a.$validators.taMinText=function(e){var t=angular.element("<div/>");return t.html(e),!t.text().length||t.text().length>=r}}}}),angular.module("textAngular.taBind",["textAngular.factories","textAngular.DOM"]).service("_taBlankTest",[function(){var e=/<(a|abbr|acronym|bdi|bdo|big|cite|code|del|dfn|img|ins|kbd|label|map|mark|q|ruby|rp|rt|s|samp|time|tt|var)[^>]*(>|$)/i;return function(t){return function(n){if(!n)return!0;var a,r=/(^[^<]|>)[^<]/i.exec(n);return r?a=r.index:(n=n.toString().replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,""),a=n.indexOf(">")),n=n.trim().substring(a,a+100),/^[^<>]+$/i.test(n)?!1:0===n.length||n===t||/^>(\s|&nbsp;)*<\/[^>]+>$/gi.test(n)?!0:/>\s*[^\s<]/i.test(n)||e.test(n)?!1:!0}}}]).directive("taButton",[function(){return{link:function(e,t){t.attr("unselectable","on"),t.on("mousedown",function(e,t){return t&&angular.extend(e,t),e.preventDefault(),!1})}}}]).directive("taBind",["taSanitize","$timeout","$window","$document","taFixChrome","taBrowserTag","taSelection","taSelectableElements","taApplyCustomRenderers","taOptions","_taBlankTest","$parse","taDOM",function(e,t,i,s,u,c,f,m,p,_,g,v,y){return{priority:2,require:["ngModel","?ngModelOptions"],link:function(c,M,L,b){var T,w,k,Y,D=b[0],S=b[1]||{},x=void 0!==M.attr("contenteditable")&&M.attr("contenteditable"),E=x||"textarea"===M[0].tagName.toLowerCase()||"input"===M[0].tagName.toLowerCase(),C=!1,A=!1,N=!1,$=L.taUnsafeSanitizer||_.disableSanitizer,R=/^(9|19|20|27|33|34|35|36|37|38|39|40|45|112|113|114|115|116|117|118|119|120|121|122|123|144|145)$/i,O=/^(8|13|32|46|59|61|107|109|186|187|188|189|190|191|192|219|220|221|222)$/i;void 0===L.taDefaultWrap&&(L.taDefaultWrap="p"),""===L.taDefaultWrap?(k="",Y=void 0===n.ie?"<div><br></div>":n.ie>=11?"<p><br></p>":n.ie<=8?"<P>&nbsp;</P>":"<p>&nbsp;</p>"):(k=void 0===n.ie||n.ie>=11?"<"+L.taDefaultWrap+"><br></"+L.taDefaultWrap+">":n.ie<=8?"<"+L.taDefaultWrap.toUpperCase()+"></"+L.taDefaultWrap.toUpperCase()+">":"<"+L.taDefaultWrap+"></"+L.taDefaultWrap+">",Y=void 0===n.ie||n.ie>=11?"<"+L.taDefaultWrap+"><br></"+L.taDefaultWrap+">":n.ie<=8?"<"+L.taDefaultWrap.toUpperCase()+">&nbsp;</"+L.taDefaultWrap.toUpperCase()+">":"<"+L.taDefaultWrap+">&nbsp;</"+L.taDefaultWrap+">"),S.$options||(S.$options={});var H=g(Y),j=function(e){if(H(e))return e;var t=angular.element("<div>"+e+"</div>");if(0===t.children().length)e="<"+L.taDefaultWrap+">"+e+"</"+L.taDefaultWrap+">";else{var n,a=t[0].childNodes,i=!1;for(n=0;n<a.length&&!(i=a[n].nodeName.toLowerCase().match(r));n++);if(i)for(e="",n=0;n<a.length;n++)if(a[n].nodeName.toLowerCase().match(r))e+=a[n].outerHTML;else{var o=a[n].outerHTML||a[n].nodeValue;e+=""!==o.trim()?"<"+L.taDefaultWrap+">"+o+"</"+L.taDefaultWrap+">":o}else e="<"+L.taDefaultWrap+">"+e+"</"+L.taDefaultWrap+">"}return e};L.taPaste&&(w=v(L.taPaste)),M.addClass("ta-bind");var W;c["$undoManager"+(L.id||"")]=D.$undoManager={_stack:[],_index:0,_max:1e3,push:function(e){return"undefined"==typeof e||null===e||"undefined"!=typeof this.current()&&null!==this.current()&&e===this.current()?e:(this._index<this._stack.length-1&&(this._stack=this._stack.slice(0,this._index+1)),this._stack.push(e),W&&t.cancel(W),this._stack.length>this._max&&this._stack.shift(),this._index=this._stack.length-1,e)},undo:function(){return this.setToIndex(this._index-1)},redo:function(){return this.setToIndex(this._index+1)},setToIndex:function(e){return 0>e||e>this._stack.length-1?void 0:(this._index=e,this.current())},current:function(){return this._stack[this._index]}};var P,F=c["$undoTaBind"+(L.id||"")]=function(){if(!C&&x){var e=D.$undoManager.undo();"undefined"!=typeof e&&null!==e&&(ne(e),B(e,!1),P&&t.cancel(P),P=t(function(){M[0].focus(),f.setSelectionToElementEnd(M[0])},1))}},I=c["$redoTaBind"+(L.id||"")]=function(){if(!C&&x){var e=D.$undoManager.redo();"undefined"!=typeof e&&null!==e&&(ne(e),B(e,!1),P&&t.cancel(P),P=t(function(){M[0].focus(),f.setSelectionToElementEnd(M[0])},1))}},z=function(){if(x)return M[0].innerHTML;if(E)return M.val();throw"textAngular Error: attempting to update non-editable taBind"},B=function(e,t,n){N=n||!1,("undefined"==typeof t||null===t)&&(t=x),("undefined"==typeof e||null===e)&&(e=z()),H(e)?(""!==D.$viewValue&&D.$setViewValue(""),t&&""!==D.$undoManager.current()&&D.$undoManager.push("")):(te(),D.$viewValue!==e&&(D.$setViewValue(e),t&&D.$undoManager.push(e))),D.$render()};c["updateTaBind"+(L.id||"")]=function(){C||B(void 0,void 0,!0)};var U=function(t){return D.$oldViewValue=e(u(t),D.$oldViewValue,$)};if(M.attr("required")&&(D.$validators.required=function(e,t){return!H(e||t)}),D.$parsers.push(U),D.$parsers.unshift(j),D.$formatters.push(U),D.$formatters.unshift(j),D.$formatters.unshift(function(e){return D.$undoManager.push(e||"")}),E)if(c.events={},x){var q=!1,V=function(n){if(n&&n.trim().length){if(n.match(/class=["']*Mso(Normal|List)/i)){var a=n.match(/<!--StartFragment-->([\s\S]*?)<!--EndFragment-->/i);a=a?a[1]:n,a=a.replace(/<o:p>[\s\S]*?<\/o:p>/gi,"").replace(/class=(["']|)MsoNormal(["']|)/gi,"");var r=angular.element("<div>"+a+"</div>"),i=angular.element("<div></div>"),o={element:null,lastIndent:[],lastLi:null,isUl:!1};o.lastIndent.peek=function(){var e=this.length;return e>0?this[e-1]:void 0};for(var s=function(e){o.isUl=e,o.element=angular.element(e?"<ul>":"<ol>"),o.lastIndent=[],o.lastIndent.peek=function(){var e=this.length;return e>0?this[e-1]:void 0},o.lastLevelMatch=null},l=0;l<=r[0].childNodes.length;l++)if(r[0].childNodes[l]&&"#text"!==r[0].childNodes[l].nodeName&&"p"===r[0].childNodes[l].tagName.toLowerCase()){var d=angular.element(r[0].childNodes[l]),u=(d.attr("class")||"").match(/MsoList(Bullet|Number|Paragraph)(CxSp(First|Middle|Last)|)/i);if(u){if(d[0].childNodes.length<2||d[0].childNodes[1].childNodes.length<1)continue;var m="bullet"===u[1].toLowerCase()||"number"!==u[1].toLowerCase()&&!(/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(d[0].childNodes[1].innerHTML)||/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(d[0].childNodes[1].childNodes[0].innerHTML)),p=(d.attr("style")||"").match(/margin-left:([\-\.0-9]*)/i),h=parseFloat(p?p[1]:0),_=(d.attr("style")||"").match(/mso-list:l([0-9]+) level([0-9]+) lfo[0-9+]($|;)/i);if(_&&_[2]&&(h=parseInt(_[2])),_&&(!o.lastLevelMatch||_[1]!==o.lastLevelMatch[1])||!u[3]||"first"===u[3].toLowerCase()||null===o.lastIndent.peek()||o.isUl!==m&&o.lastIndent.peek()===h)s(m),i.append(o.element);else if(null!=o.lastIndent.peek()&&o.lastIndent.peek()<h)o.element=angular.element(m?"<ul>":"<ol>"),o.lastLi.append(o.element);else if(null!=o.lastIndent.peek()&&o.lastIndent.peek()>h){for(;null!=o.lastIndent.peek()&&o.lastIndent.peek()>h;)if("li"!==o.element.parent()[0].tagName.toLowerCase()){if(!/[uo]l/i.test(o.element.parent()[0].tagName.toLowerCase()))break;o.element=o.element.parent(),o.lastIndent.pop()}else o.element=o.element.parent();o.isUl="ul"===o.element[0].tagName.toLowerCase(),m!==o.isUl&&(s(m),i.append(o.element))}o.lastLevelMatch=_,h!==o.lastIndent.peek()&&o.lastIndent.push(h),o.lastLi=angular.element("<li>"),o.element.append(o.lastLi),o.lastLi.html(d.html().replace(/<!(--|)\[if !supportLists\](--|)>[\s\S]*?<!(--|)\[endif\](--|)>/gi,"")),d.remove()}else s(!1),i.append(d)}var g=function(e){e=angular.element(e);for(var t=e[0].childNodes.length-1;t>=0;t--)e.after(e[0].childNodes[t]);e.remove()};angular.forEach(i.find("span"),function(e){e.removeAttribute("lang"),e.attributes.length<=0&&g(e)}),angular.forEach(i.find("font"),g),n=i.html()}else{if(n=n.replace(/<(|\/)meta[^>]*?>/gi,""),n.match(/<[^>]*?(ta-bind)[^>]*?>/)){if(n.match(/<[^>]*?(text-angular)[^>]*?>/)){var v=angular.element("<div>"+n+"</div>");
v.find("textarea").remove();for(var L=y.getByAttribute(v,"ta-bind"),b=0;b<L.length;b++){for(var T=L[b][0].parentNode.parentNode,k=0;k<L[b][0].childNodes.length;k++)T.parentNode.insertBefore(L[b][0].childNodes[k],T);T.parentNode.removeChild(T)}n=v.html().replace('<br class="Apple-interchange-newline">',"")}}else n.match(/^<span/)&&(n=n.replace(/<(|\/)span[^>]*?>/gi,""));n=n.replace(/<br class="Apple-interchange-newline"[^>]*?>/gi,"").replace(/<span class="Apple-converted-space">( |&nbsp;)<\/span>/gi,"&nbsp;")}/<li(\s.*)?>/i.test(n)&&/(<ul(\s.*)?>|<ol(\s.*)?>).*<li(\s.*)?>/i.test(n)===!1&&(n=n.replace(/<li(\s.*)?>.*<\/li(\s.*)?>/i,"<ul>$&</ul>")),w&&(n=w(c,{$html:n})||n),n=e(n,"",$),f.insertHtml(n,M[0]),t(function(){D.$setViewValue(z()),q=!1,M.removeClass("processing-paste")},0)}else q=!1,M.removeClass("processing-paste")};M.on("paste",c.events.paste=function(e,n){if(n&&angular.extend(e,n),C||q)return e.stopPropagation(),e.preventDefault(),!1;q=!0,M.addClass("processing-paste");var a,r=(e.originalEvent||e).clipboardData;if(r&&r.getData&&r.types.length>0){for(var o="",l=0;l<r.types.length;l++)o+=" "+r.types[l];return/text\/html/i.test(o)?a=r.getData("text/html"):/text\/plain/i.test(o)&&(a=r.getData("text/plain")),V(a),e.stopPropagation(),e.preventDefault(),!1}var d=i.rangy.saveSelection(),u=angular.element('<div class="ta-hidden-input" contenteditable="true"></div>');s.find("body").append(u),u[0].focus(),t(function(){i.rangy.restoreSelection(d),V(u[0].innerHTML),M[0].focus(),u.remove()},0)}),M.on("cut",c.events.cut=function(e){C?e.preventDefault():t(function(){D.$setViewValue(z())},0)}),M.on("keydown",c.events.keydown=function(e,t){if(t&&angular.extend(e,t),!C)if(e.altKey||!e.metaKey&&!e.ctrlKey){if(13===e.keyCode&&!e.shiftKey){var n,a=f.getSelectionElement();if(!a.tagName.match(o))return;var r=angular.element(k);if(/^<br(|\/)>$/i.test(a.innerHTML.trim())&&"blockquote"===a.parentNode.tagName.toLowerCase()&&!a.nextSibling){n=angular.element(a);var i=n.parent();i.after(r),n.remove(),0===i.children().length&&i.remove(),f.setSelectionToElementStart(r[0]),e.preventDefault()}else/^<[^>]+><br(|\/)><\/[^>]+>$/i.test(a.innerHTML.trim())&&"blockquote"===a.tagName.toLowerCase()&&(n=angular.element(a),n.after(r),n.remove(),f.setSelectionToElementStart(r[0]),e.preventDefault())}}else 90!==e.keyCode||e.shiftKey?(90===e.keyCode&&e.shiftKey||89===e.keyCode&&!e.shiftKey)&&(I(),e.preventDefault()):(F(),e.preventDefault())});var G;if(M.on("keyup",c.events.keyup=function(e,n){if(n&&angular.extend(e,n),9===e.keyCode){var a=f.getSelection();return void(a.start.element===M[0]&&M.children().length&&f.setSelectionToElementStart(M.children()[0]))}if(W&&t.cancel(W),!C&&!R.test(e.keyCode)){if(""!==k&&13===e.keyCode&&!e.shiftKey){for(var r=f.getSelectionElement();!r.tagName.match(o)&&r!==M[0];)r=r.parentNode;if(r.tagName.toLowerCase()!==L.taDefaultWrap&&"li"!==r.tagName.toLowerCase()&&(""===r.innerHTML.trim()||"<br>"===r.innerHTML.trim())){var s=angular.element(k);angular.element(r).replaceWith(s),f.setSelectionToElementStart(s[0])}}var l=z();if(""!==k&&""===l.trim())ne(k),f.setSelectionToElementStart(M.children()[0]);else if("<"!==l.substring(0,1)&&""!==L.taDefaultWrap){var d=i.rangy.saveSelection();l=z(),l="<"+L.taDefaultWrap+">"+l+"</"+L.taDefaultWrap+">",ne(l),i.rangy.restoreSelection(d)}var u=T!==e.keyCode&&O.test(e.keyCode);G&&t.cancel(G),G=t(function(){B(l,u,!0)},S.$options.debounce||400),u||(W=t(function(){D.$undoManager.push(l)},250)),T=e.keyCode}}),M.on("blur",c.events.blur=function(){A=!1,C?(N=!0,D.$render()):B(void 0,void 0,!0)}),L.placeholder&&(n.ie>8||void 0===n.ie)){var J;if(!L.id)throw"textAngular Error: An unique ID is required for placeholders to work";J=l("#"+L.id+".placeholder-text:before",'content: "'+L.placeholder+'"'),c.$on("$destroy",function(){d(J)})}M.on("focus",c.events.focus=function(){A=!0,M.removeClass("placeholder-text")}),M.on("mouseup",c.events.mouseup=function(){var e=f.getSelection();e.start.element===M[0]&&M.children().length&&f.setSelectionToElementStart(M.children()[0])}),M.on("mousedown",c.events.mousedown=function(e,t){t&&angular.extend(e,t),e.stopPropagation()})}else{M.on("change blur",c.events.change=c.events.blur=function(){C||D.$setViewValue(z())}),M.on("keydown",c.events.keydown=function(e,t){if(t&&angular.extend(e,t),9===e.keyCode){var n=this.selectionStart,a=this.selectionEnd,r=M.val();if(e.shiftKey){var i=r.lastIndexOf("\n",n),o=r.lastIndexOf("	",n);-1!==o&&o>=i&&(M.val(r.substring(0,o)+r.substring(o+1)),this.selectionStart=this.selectionEnd=n-1)}else M.val(r.substring(0,n)+"	"+r.substring(a)),this.selectionStart=this.selectionEnd=n+1;e.preventDefault()}});var K=function(e,t){for(var n="",a=0;t>a;a++)n+=e;return n},Z=function(e,t){var n="",a=e.childNodes;t++,n+=K("	",t-1)+e.outerHTML.substring(0,e.outerHTML.indexOf("<li"));for(var r=0;r<a.length;r++)a[r].outerHTML&&(n+="ul"===a[r].nodeName.toLowerCase()||"ol"===a[r].nodeName.toLowerCase()?"\n"+Z(a[r],t):"\n"+K("	",t)+a[r].outerHTML);return n+="\n"+K("	",t-1)+e.outerHTML.substring(e.outerHTML.lastIndexOf("<"))};D.$formatters.unshift(function(e){var t=angular.element("<div>"+e+"</div>")[0].childNodes;if(t.length>0){e="";for(var n=0;n<t.length;n++)t[n].outerHTML&&(e.length>0&&(e+="\n"),e+="ul"===t[n].nodeName.toLowerCase()||"ol"===t[n].nodeName.toLowerCase()?""+Z(t[n],0):""+t[n].outerHTML)}return e})}var X,Q=function(e){return c.$emit("ta-element-select",this),e.preventDefault(),!1},ee=function(e,n){if(n&&angular.extend(e,n),!h&&!C){h=!0;var a;a=e.originalEvent?e.originalEvent.dataTransfer:e.dataTransfer,c.$emit("ta-drop-event",this,e,a),t(function(){h=!1,B(void 0,void 0,!0)},100)}},te=c["reApplyOnSelectorHandlers"+(L.id||"")]=function(){C||angular.forEach(m,function(e){M.find(e).off("click",Q).on("click",Q)})},ne=function(e){M[0].innerHTML=e},ae=!1;D.$render=function(){if(!ae){ae=!0;var e=D.$viewValue||"";N||(x&&A&&(M.removeClass("placeholder-text"),X&&t.cancel(X),X=t(function(){A||(M[0].focus(),f.setSelectionToElementEnd(M.children()[M.children().length-1])),X=void 0},1)),x?(ne(L.placeholder?""===e?k:e:""===e?k:e),C?M.off("drop",ee):(te(),M.on("drop",ee))):"textarea"!==M[0].tagName.toLowerCase()&&"input"!==M[0].tagName.toLowerCase()?ne(p(e)):M.val(e)),x&&L.placeholder&&(""===e?A?M.removeClass("placeholder-text"):M.addClass("placeholder-text"):M.removeClass("placeholder-text")),ae=N=!1}},L.taReadonly&&(C=c.$eval(L.taReadonly),C?(M.addClass("ta-readonly"),("textarea"===M[0].tagName.toLowerCase()||"input"===M[0].tagName.toLowerCase())&&M.attr("disabled","disabled"),void 0!==M.attr("contenteditable")&&M.attr("contenteditable")&&M.removeAttr("contenteditable")):(M.removeClass("ta-readonly"),"textarea"===M[0].tagName.toLowerCase()||"input"===M[0].tagName.toLowerCase()?M.removeAttr("disabled"):x&&M.attr("contenteditable","true")),c.$watch(L.taReadonly,function(e,t){t!==e&&(e?(M.addClass("ta-readonly"),("textarea"===M[0].tagName.toLowerCase()||"input"===M[0].tagName.toLowerCase())&&M.attr("disabled","disabled"),void 0!==M.attr("contenteditable")&&M.attr("contenteditable")&&M.removeAttr("contenteditable"),angular.forEach(m,function(e){M.find(e).on("click",Q)}),M.off("drop",ee)):(M.removeClass("ta-readonly"),"textarea"===M[0].tagName.toLowerCase()||"input"===M[0].tagName.toLowerCase()?M.removeAttr("disabled"):x&&M.attr("contenteditable","true"),angular.forEach(m,function(e){M.find(e).off("click",Q)}),M.on("drop",ee)),C=e)})),x&&!C&&(angular.forEach(m,function(e){M.find(e).on("click",Q)}),M.on("drop",ee),M.on("blur",function(){n.webkit&&(a=!0)}))}}}]);var h=!1,_=angular.module("textAngular",["ngSanitize","textAngularSetup","textAngular.factories","textAngular.DOM","textAngular.validators","textAngular.taBind"]),g={};_.constant("taRegisterTool",t),_.value("taTools",g),_.config([function(){angular.forEach(g,function(e,t){delete g[t]})}]),_.run([function(){if(!window.rangy)throw"rangy-core.js and rangy-selectionsaverestore.js are required for textAngular to work correctly, rangy-core is not yet loaded.";if(window.rangy.init(),!window.rangy.saveSelection)throw"rangy-selectionsaverestore.js is required for textAngular to work correctly."}]),_.directive("textAngular",["$compile","$timeout","taOptions","taSelection","taExecCommand","textAngularManager","$window","$document","$animate","$log","$q","$parse",function(e,t,n,a,r,i,o,s,l,d,u,c){return{require:"?ngModel",scope:{},restrict:"EA",priority:2,link:function(f,m,p,h){var _,g,v,y,M,L,b,T,w,k,Y,D=p.serial?p.serial:Math.floor(1e16*Math.random());f._name=p.name?p.name:"textAngularEditor"+D;var S=function(e,n,a){t(function(){var t=function(){e.off(n,t),a.apply(this,arguments)};e.on(n,t)},100)};if(w=r(p.taDefaultWrap),angular.extend(f,angular.copy(n),{wrapSelection:function(e,t,n){"undo"===e.toLowerCase()?f["$undoTaBindtaTextElement"+D]():"redo"===e.toLowerCase()?f["$redoTaBindtaTextElement"+D]():(w(e,!1,t,f.defaultTagAttributes),n&&f["reApplyOnSelectorHandlerstaTextElement"+D](),f.displayElements.text[0].focus())},showHtml:f.$eval(p.taShowHtml)||!1}),p.taFocussedClass&&(f.classes.focussed=p.taFocussedClass),p.taTextEditorClass&&(f.classes.textEditor=p.taTextEditorClass),p.taHtmlEditorClass&&(f.classes.htmlEditor=p.taHtmlEditorClass),p.taDefaultTagAttributes)try{angular.extend(f.defaultTagAttributes,angular.fromJson(p.taDefaultTagAttributes))}catch(x){d.error(x)}p.taTextEditorSetup&&(f.setup.textEditorSetup=f.$parent.$eval(p.taTextEditorSetup)),p.taHtmlEditorSetup&&(f.setup.htmlEditorSetup=f.$parent.$eval(p.taHtmlEditorSetup)),f.fileDropHandler=p.taFileDrop?f.$parent.$eval(p.taFileDrop):f.defaultFileDropHandler,b=m[0].innerHTML,m[0].innerHTML="",f.displayElements={forminput:angular.element("<input type='hidden' tabindex='-1' style='display: none;'>"),html:angular.element("<textarea></textarea>"),text:angular.element("<div></div>"),scrollWindow:angular.element("<div class='ta-scroll-window'></div>"),popover:angular.element('<div class="popover fade bottom" style="max-width: none; width: 305px;"></div>'),popoverArrow:angular.element('<div class="arrow"></div>'),popoverContainer:angular.element('<div class="popover-content"></div>'),resize:{overlay:angular.element('<div class="ta-resizer-handle-overlay"></div>'),background:angular.element('<div class="ta-resizer-handle-background"></div>'),anchors:[angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tr"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-bl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-br"></div>')],info:angular.element('<div class="ta-resizer-handle-info"></div>')}},f.displayElements.popover.append(f.displayElements.popoverArrow),f.displayElements.popover.append(f.displayElements.popoverContainer),f.displayElements.scrollWindow.append(f.displayElements.popover),f.displayElements.popover.on("mousedown",function(e,t){return t&&angular.extend(e,t),e.preventDefault(),!1}),f.showPopover=function(e){f.displayElements.popover.css("display","block"),f.reflowPopover(e),l.addClass(f.displayElements.popover,"in"),S(s.find("body"),"click keyup",function(){f.hidePopover()})},f.reflowPopover=function(e){f.displayElements.text[0].offsetHeight-51>e[0].offsetTop?(f.displayElements.popover.css("top",e[0].offsetTop+e[0].offsetHeight+f.displayElements.scrollWindow[0].scrollTop+"px"),f.displayElements.popover.removeClass("top").addClass("bottom")):(f.displayElements.popover.css("top",e[0].offsetTop-54+f.displayElements.scrollWindow[0].scrollTop+"px"),f.displayElements.popover.removeClass("bottom").addClass("top"));var t=f.displayElements.text[0].offsetWidth-f.displayElements.popover[0].offsetWidth,n=e[0].offsetLeft+e[0].offsetWidth/2-f.displayElements.popover[0].offsetWidth/2;f.displayElements.popover.css("left",Math.max(0,Math.min(t,n))+"px"),f.displayElements.popoverArrow.css("margin-left",Math.min(n,Math.max(0,n-t))-11+"px")},f.hidePopover=function(){var e=function(){f.displayElements.popover.css("display",""),f.displayElements.popoverContainer.attr("style",""),f.displayElements.popoverContainer.attr("class","popover-content")};u.when(l.removeClass(f.displayElements.popover,"in",e)).then(e)},f.displayElements.resize.overlay.append(f.displayElements.resize.background),angular.forEach(f.displayElements.resize.anchors,function(e){f.displayElements.resize.overlay.append(e)}),f.displayElements.resize.overlay.append(f.displayElements.resize.info),f.displayElements.scrollWindow.append(f.displayElements.resize.overlay),f.reflowResizeOverlay=function(e){e=angular.element(e)[0],f.displayElements.resize.overlay.css({display:"block",left:e.offsetLeft-5+"px",top:e.offsetTop-5+"px",width:e.offsetWidth+10+"px",height:e.offsetHeight+10+"px"}),f.displayElements.resize.info.text(e.offsetWidth+" x "+e.offsetHeight)},f.showResizeOverlay=function(e){var t=s.find("body");k=function(n){var a={width:parseInt(e.attr("width")),height:parseInt(e.attr("height")),x:n.clientX,y:n.clientY};(void 0===a.width||isNaN(a.width))&&(a.width=e[0].offsetWidth),(void 0===a.height||isNaN(a.height))&&(a.height=e[0].offsetHeight),f.hidePopover();var r=a.height/a.width,i=function(t){var n={x:Math.max(0,a.width+(t.clientX-a.x)),y:Math.max(0,a.height+(t.clientY-a.y))};if(t.shiftKey){var i=n.y/n.x;n.x=r>i?n.x:n.y/r,n.y=r>i?n.x*r:n.y}var o=angular.element(e);o.attr("height",Math.max(0,n.y)),o.attr("width",Math.max(0,n.x)),f.reflowResizeOverlay(e)};t.on("mousemove",i),S(t,"mouseup",function(n){n.preventDefault(),n.stopPropagation(),t.off("mousemove",i),f.showPopover(e)}),n.stopPropagation(),n.preventDefault()},f.displayElements.resize.anchors[3].on("mousedown",k),f.reflowResizeOverlay(e),S(t,"click",function(){f.hideResizeOverlay()})},f.hideResizeOverlay=function(){f.displayElements.resize.anchors[3].off("mousedown",k),f.displayElements.resize.overlay.css("display","")},f.setup.htmlEditorSetup(f.displayElements.html),f.setup.textEditorSetup(f.displayElements.text),f.displayElements.html.attr({id:"taHtmlElement"+D,"ng-show":"showHtml","ta-bind":"ta-bind","ng-model":"html","ng-model-options":m.attr("ng-model-options")}),f.displayElements.text.attr({id:"taTextElement"+D,contentEditable:"true","ta-bind":"ta-bind","ng-model":"html","ng-model-options":m.attr("ng-model-options")}),f.displayElements.scrollWindow.attr({"ng-hide":"showHtml"}),p.taDefaultWrap&&f.displayElements.text.attr("ta-default-wrap",p.taDefaultWrap),p.taUnsafeSanitizer&&(f.displayElements.text.attr("ta-unsafe-sanitizer",p.taUnsafeSanitizer),f.displayElements.html.attr("ta-unsafe-sanitizer",p.taUnsafeSanitizer)),f.displayElements.scrollWindow.append(f.displayElements.text),m.append(f.displayElements.scrollWindow),m.append(f.displayElements.html),f.displayElements.forminput.attr("name",f._name),m.append(f.displayElements.forminput),p.tabindex&&(m.removeAttr("tabindex"),f.displayElements.text.attr("tabindex",p.tabindex),f.displayElements.html.attr("tabindex",p.tabindex)),p.placeholder&&(f.displayElements.text.attr("placeholder",p.placeholder),f.displayElements.html.attr("placeholder",p.placeholder)),p.taDisabled&&(f.displayElements.text.attr("ta-readonly","disabled"),f.displayElements.html.attr("ta-readonly","disabled"),f.disabled=f.$parent.$eval(p.taDisabled),f.$parent.$watch(p.taDisabled,function(e){f.disabled=e,f.disabled?m.addClass(f.classes.disabled):m.removeClass(f.classes.disabled)})),p.taPaste&&(f._pasteHandler=function(e){return c(p.taPaste)(f.$parent,{$html:e})},f.displayElements.text.attr("ta-paste","_pasteHandler($html)")),e(f.displayElements.scrollWindow)(f),e(f.displayElements.html)(f),f.updateTaBindtaTextElement=f["updateTaBindtaTextElement"+D],f.updateTaBindtaHtmlElement=f["updateTaBindtaHtmlElement"+D],m.addClass("ta-root"),f.displayElements.scrollWindow.addClass("ta-text ta-editor "+f.classes.textEditor),f.displayElements.html.addClass("ta-html ta-editor "+f.classes.htmlEditor),f._actionRunning=!1;var E=!1;if(f.startAction=function(){return f._actionRunning=!0,E=o.rangy.saveSelection(),function(){E&&o.rangy.restoreSelection(E)}},f.endAction=function(){f._actionRunning=!1,E&&(f.showHtml?f.displayElements.html[0].focus():f.displayElements.text[0].focus(),o.rangy.restoreSelection(E),o.rangy.removeMarkers(E)),E=!1,f.updateSelectedStyles(),f.showHtml||f["updateTaBindtaTextElement"+D]()},M=function(){f.focussed=!0,m.addClass(f.classes.focussed),T.focus(),m.triggerHandler("focus")},f.displayElements.html.on("focus",M),f.displayElements.text.on("focus",M),L=function(e){return f._actionRunning||s[0].activeElement===f.displayElements.html[0]||s[0].activeElement===f.displayElements.text[0]||(m.removeClass(f.classes.focussed),T.unfocus(),t(function(){f._bUpdateSelectedStyles=!1,m.triggerHandler("blur"),f.focussed=!1},0)),e.preventDefault(),!1},f.displayElements.html.on("blur",L),f.displayElements.text.on("blur",L),f.displayElements.text.on("paste",function(e){m.triggerHandler("paste",e)}),f.queryFormatBlockState=function(e){return!f.showHtml&&e.toLowerCase()===s[0].queryCommandValue("formatBlock").toLowerCase()},f.queryCommandState=function(e){return f.showHtml?"":s[0].queryCommandState(e)},f.switchView=function(){f.showHtml=!f.showHtml,l.enabled(!1,f.displayElements.html),l.enabled(!1,f.displayElements.text),f.showHtml?t(function(){return l.enabled(!0,f.displayElements.html),l.enabled(!0,f.displayElements.text),f.displayElements.html[0].focus()},100):t(function(){return l.enabled(!0,f.displayElements.html),l.enabled(!0,f.displayElements.text),f.displayElements.text[0].focus()},100)},p.ngModel){var C=!0;h.$render=function(){if(C){C=!1;var e=f.$parent.$eval(p.ngModel);void 0!==e&&null!==e||!b||""===b||h.$setViewValue(b)}f.displayElements.forminput.val(h.$viewValue),f.html=h.$viewValue||""},m.attr("required")&&(h.$validators.required=function(e,t){var n=e||t;return!(!n||""===n.trim())})}else f.displayElements.forminput.val(b),f.html=b;if(f.$watch("html",function(e,t){e!==t&&(p.ngModel&&h.$viewValue!==e&&h.$setViewValue(e),f.displayElements.forminput.val(e))}),p.taTargetToolbars)T=i.registerEditor(f._name,f,p.taTargetToolbars.split(","));else{var A=angular.element('<div text-angular-toolbar name="textAngularToolbar'+D+'">');p.taToolbar&&A.attr("ta-toolbar",p.taToolbar),p.taToolbarClass&&A.attr("ta-toolbar-class",p.taToolbarClass),p.taToolbarGroupClass&&A.attr("ta-toolbar-group-class",p.taToolbarGroupClass),p.taToolbarButtonClass&&A.attr("ta-toolbar-button-class",p.taToolbarButtonClass),p.taToolbarActiveButtonClass&&A.attr("ta-toolbar-active-button-class",p.taToolbarActiveButtonClass),p.taFocussedClass&&A.attr("ta-focussed-class",p.taFocussedClass),m.prepend(A),e(A)(f.$parent),T=i.registerEditor(f._name,f,["textAngularToolbar"+D])}f.$on("$destroy",function(){i.unregisterEditor(f._name)}),f.$on("ta-element-select",function(e,t){T.triggerElementSelect(e,t)&&f["reApplyOnSelectorHandlerstaTextElement"+D]()}),f.$on("ta-drop-event",function(e,n,a,r){f.displayElements.text[0].focus(),r&&r.files&&r.files.length>0?(angular.forEach(r.files,function(e){try{u.when(f.fileDropHandler(e,f.wrapSelection)||f.fileDropHandler!==f.defaultFileDropHandler&&u.when(f.defaultFileDropHandler(e,f.wrapSelection))).then(function(){f["updateTaBindtaTextElement"+D]()})}catch(t){d.error(t)}}),a.preventDefault(),a.stopPropagation()):t(function(){f["updateTaBindtaTextElement"+D]()},0)}),f._bUpdateSelectedStyles=!1,angular.element(window).on("blur",function(){f._bUpdateSelectedStyles=!1,f.focussed=!1}),f.updateSelectedStyles=function(){var e;Y&&t.cancel(Y),void 0!==(e=a.getSelectionElement())&&e.parentNode!==f.displayElements.text[0]?T.updateSelectedStyles(angular.element(e)):T.updateSelectedStyles(),f._bUpdateSelectedStyles&&(Y=t(f.updateSelectedStyles,200))},_=function(){return f.focussed?void(f._bUpdateSelectedStyles||(f._bUpdateSelectedStyles=!0,f.$apply(function(){f.updateSelectedStyles()}))):void(f._bUpdateSelectedStyles=!1)},f.displayElements.html.on("keydown",_),f.displayElements.text.on("keydown",_),g=function(){f._bUpdateSelectedStyles=!1},f.displayElements.html.on("keyup",g),f.displayElements.text.on("keyup",g),v=function(e,t){t&&angular.extend(e,t),f.$apply(function(){return T.sendKeyCommand(e)?(f._bUpdateSelectedStyles||f.updateSelectedStyles(),e.preventDefault(),!1):void 0})},f.displayElements.html.on("keypress",v),f.displayElements.text.on("keypress",v),y=function(){f._bUpdateSelectedStyles=!1,f.$apply(function(){f.updateSelectedStyles()})},f.displayElements.html.on("mouseup",y),f.displayElements.text.on("mouseup",y)}}}]),_.service("textAngularManager",["taToolExecuteAction","taTools","taRegisterTool",function(e,t,n){var a={},r={};return{registerEditor:function(n,i,o){if(!n||""===n)throw"textAngular Error: An editor requires a name";if(!i)throw"textAngular Error: An editor requires a scope";if(r[n])throw'textAngular Error: An Editor with name "'+n+'" already exists';var s=[];return angular.forEach(o,function(e){a[e]&&s.push(a[e])}),r[n]={scope:i,toolbars:o,_registerToolbar:function(e){this.toolbars.indexOf(e.name)>=0&&s.push(e)},editorFunctions:{disable:function(){angular.forEach(s,function(e){e.disabled=!0})},enable:function(){angular.forEach(s,function(e){e.disabled=!1})},focus:function(){angular.forEach(s,function(e){e._parent=i,e.disabled=!1,e.focussed=!0,i.focussed=!0})},unfocus:function(){angular.forEach(s,function(e){e.disabled=!0,e.focussed=!1}),i.focussed=!1},updateSelectedStyles:function(e){angular.forEach(s,function(t){angular.forEach(t.tools,function(n){n.activeState&&(t._parent=i,n.active=n.activeState(e))})})},sendKeyCommand:function(n){var a=!1;return(n.ctrlKey||n.metaKey)&&angular.forEach(t,function(t,r){if(t.commandKeyCode&&t.commandKeyCode===n.which)for(var o=0;o<s.length;o++)if(void 0!==s[o].tools[r]){e.call(s[o].tools[r],i),a=!0;break}}),a},triggerElementSelect:function(e,n){var a=function(e,t){for(var n=!0,a=0;a<t.length;a++)n=n&&e.attr(t[a]);return n},r=[],o={},l=!1;n=angular.element(n);var d=!1;if(angular.forEach(t,function(e,t){e.onElementSelect&&e.onElementSelect.element&&e.onElementSelect.element.toLowerCase()===n[0].tagName.toLowerCase()&&(!e.onElementSelect.filter||e.onElementSelect.filter(n))&&(d=d||angular.isArray(e.onElementSelect.onlyWithAttrs)&&a(n,e.onElementSelect.onlyWithAttrs),(!e.onElementSelect.onlyWithAttrs||a(n,e.onElementSelect.onlyWithAttrs))&&(o[t]=e))}),d?(angular.forEach(o,function(e,t){e.onElementSelect.onlyWithAttrs&&a(n,e.onElementSelect.onlyWithAttrs)&&r.push({name:t,tool:e})}),r.sort(function(e,t){return t.tool.onElementSelect.onlyWithAttrs.length-e.tool.onElementSelect.onlyWithAttrs.length})):angular.forEach(o,function(e,t){r.push({name:t,tool:e})}),r.length>0)for(var u=0;u<r.length;u++){for(var c=r[u].tool,f=r[u].name,m=0;m<s.length;m++)if(void 0!==s[m].tools[f]){c.onElementSelect.action.call(s[m].tools[f],e,n,i),l=!0;break}if(l)break}return l}}},r[n].editorFunctions},retrieveEditor:function(e){return r[e]},unregisterEditor:function(e){delete r[e]},registerToolbar:function(e){if(!e)throw"textAngular Error: A toolbar requires a scope";if(!e.name||""===e.name)throw"textAngular Error: A toolbar requires a name";if(a[e.name])throw'textAngular Error: A toolbar with name "'+e.name+'" already exists';a[e.name]=e,angular.forEach(r,function(t){t._registerToolbar(e)})},retrieveToolbar:function(e){return a[e]},retrieveToolbarsViaEditor:function(e){var t=[],n=this;return angular.forEach(this.retrieveEditor(e).toolbars,function(e){t.push(n.retrieveToolbar(e))}),t},unregisterToolbar:function(e){delete a[e]},updateToolsDisplay:function(e){var t=this;angular.forEach(e,function(e,n){t.updateToolDisplay(n,e)})},resetToolsDisplay:function(){var e=this;angular.forEach(t,function(t,n){e.resetToolDisplay(n)})},updateToolDisplay:function(e,t){var n=this;angular.forEach(a,function(a,r){n.updateToolbarToolDisplay(r,e,t)})},resetToolDisplay:function(e){var t=this;angular.forEach(a,function(n,a){t.resetToolbarToolDisplay(a,e)})},updateToolbarToolDisplay:function(e,t,n){if(!a[e])throw'textAngular Error: No Toolbar with name "'+e+'" exists';a[e].updateToolDisplay(t,n)},resetToolbarToolDisplay:function(e,n){if(!a[e])throw'textAngular Error: No Toolbar with name "'+e+'" exists';a[e].updateToolDisplay(n,t[n],!0)},removeTool:function(e){delete t[e],angular.forEach(a,function(t){delete t.tools[e];for(var n=0;n<t.toolbar.length;n++){for(var a,r=0;r<t.toolbar[n].length;r++){if(t.toolbar[n][r]===e){a={group:n,index:r};break}if(void 0!==a)break}void 0!==a&&(t.toolbar[a.group].slice(a.index,1),t._$element.children().eq(a.group).children().eq(a.index).remove())}})},addTool:function(e,t,r,i){n(e,t),angular.forEach(a,function(n){n.addTool(e,t,r,i)})},addToolToToolbar:function(e,t,r,i,o){n(e,t),a[r].addTool(e,t,i,o)},refreshEditor:function(e){if(!r[e])throw'textAngular Error: No Editor with name "'+e+'" exists';r[e].scope.updateTaBindtaTextElement(),r[e].scope.$$phase||r[e].scope.$digest()}}}]),_.directive("textAngularToolbar",["$compile","textAngularManager","taOptions","taTools","taToolExecuteAction","$window",function(e,t,n,a,r,i){return{scope:{name:"@"},restrict:"EA",link:function(o,s,l){if(!o.name||""===o.name)throw"textAngular Error: A toolbar requires a name";angular.extend(o,angular.copy(n)),l.taToolbar&&(o.toolbar=o.$parent.$eval(l.taToolbar)),l.taToolbarClass&&(o.classes.toolbar=l.taToolbarClass),l.taToolbarGroupClass&&(o.classes.toolbarGroup=l.taToolbarGroupClass),l.taToolbarButtonClass&&(o.classes.toolbarButton=l.taToolbarButtonClass),l.taToolbarActiveButtonClass&&(o.classes.toolbarButtonActive=l.taToolbarActiveButtonClass),l.taFocussedClass&&(o.classes.focussed=l.taFocussedClass),o.disabled=!0,o.focussed=!1,o._$element=s,s[0].innerHTML="",s.addClass("ta-toolbar "+o.classes.toolbar),o.$watch("focussed",function(){o.focussed?s.addClass(o.classes.focussed):s.removeClass(o.classes.focussed)});var d=function(t,n){var a;if(a=angular.element(t&&t.display?t.display:"<button type='button'>"),a.addClass(t&&t["class"]?t["class"]:o.classes.toolbarButton),a.attr("name",n.name),a.attr("ta-button","ta-button"),a.attr("ng-disabled","isDisabled()"),a.attr("tabindex","-1"),a.attr("ng-click","executeAction()"),a.attr("ng-class","displayActiveToolClass(active)"),t&&t.tooltiptext&&a.attr("title",t.tooltiptext),t&&!t.display&&!n._display&&(a[0].innerHTML="",t.buttontext&&(a[0].innerHTML=t.buttontext),t.iconclass)){var r=angular.element("<i>"),i=a[0].innerHTML;r.addClass(t.iconclass),a[0].innerHTML="",a.append(r),i&&""!==i&&a.append("&nbsp;"+i)}return n._lastToolDefinition=angular.copy(t),e(a)(n)};o.tools={},o._parent={disabled:!0,showHtml:!1,queryFormatBlockState:function(){return!1},queryCommandState:function(){return!1}};var u={$window:i,$editor:function(){return o._parent},isDisabled:function(){return"function"!=typeof this.$eval("disabled")&&this.$eval("disabled")||this.$eval("disabled()")||"html"!==this.name&&this.$editor().showHtml||this.$parent.disabled||this.$editor().disabled},displayActiveToolClass:function(e){return e?o.classes.toolbarButtonActive:""},executeAction:r};angular.forEach(o.toolbar,function(e){var t=angular.element("<div>");t.addClass(o.classes.toolbarGroup),angular.forEach(e,function(e){o.tools[e]=angular.extend(o.$new(!0),a[e],u,{name:e}),o.tools[e].$element=d(a[e],o.tools[e]),t.append(o.tools[e].$element)}),s.append(t)}),o.updateToolDisplay=function(e,t,n){var a=o.tools[e];if(a){if(a._lastToolDefinition&&!n&&(t=angular.extend({},a._lastToolDefinition,t)),null===t.buttontext&&null===t.iconclass&&null===t.display)throw'textAngular Error: Tool Definition for updating "'+e+'" does not have a valid display/iconclass/buttontext value';null===t.buttontext&&delete t.buttontext,null===t.iconclass&&delete t.iconclass,null===t.display&&delete t.display;var r=d(t,a);a.$element.replaceWith(r),a.$element=r}},o.addTool=function(e,t,n,r){o.tools[e]=angular.extend(o.$new(!0),a[e],u,{name:e}),o.tools[e].$element=d(a[e],o.tools[e]);var i;void 0===n&&(n=o.toolbar.length-1),i=angular.element(s.children()[n]),void 0===r?(i.append(o.tools[e].$element),o.toolbar[n][o.toolbar[n].length-1]=e):(i.children().eq(r).after(o.tools[e].$element),o.toolbar[n][r]=e)},t.registerToolbar(o),o.$on("$destroy",function(){t.unregisterToolbar(o.name)})}}}])}()}({},function(){return this}()),angular.module("textAngularSetup",[]).value("taOptions",{toolbar:[["h1","h2","h3","h4","h5","h6","p","pre","quote"],["bold","italics","underline","strikeThrough","ul","ol","redo","undo","clear"],["justifyLeft","justifyCenter","justifyRight","indent","outdent"],["html","insertImage","insertLink","insertVideo","wordcount","charcount"]],classes:{focussed:"focussed",toolbar:"btn-toolbar",toolbarGroup:"btn-group",toolbarButton:"btn btn-default",toolbarButtonActive:"active",disabled:"disabled",textEditor:"form-control",htmlEditor:"form-control"},defaultTagAttributes:{a:{target:""}},setup:{textEditorSetup:function(e){},htmlEditorSetup:function(e){}},defaultFileDropHandler:function(e,t){var n=new FileReader;return"image"===e.type.substring(0,5)?(n.onload=function(){""!==n.result&&t("insertImage",n.result,!0)},n.readAsDataURL(e),!0):!1}}).value("taSelectableElements",["a","img"]).value("taCustomRenderers",[{selector:"img",customAttribute:"ta-insert-video",renderLogic:function(e){var t=angular.element("<iframe></iframe>"),n=e.prop("attributes");angular.forEach(n,function(e){t.attr(e.name,e.value)}),t.attr("src",t.attr("ta-insert-video")),e.replaceWith(t)}}]).value("taTranslations",{html:{tooltip:"Toggle html / Rich Text"},heading:{tooltip:"Heading "},p:{tooltip:"Paragraph"},pre:{tooltip:"Preformatted text"},ul:{tooltip:"Unordered List"},ol:{tooltip:"Ordered List"},quote:{tooltip:"Quote/unquote selection or paragraph"},undo:{tooltip:"Undo"},redo:{tooltip:"Redo"},bold:{tooltip:"Bold"},italic:{tooltip:"Italic"},underline:{tooltip:"Underline"},strikeThrough:{tooltip:"Strikethrough"},justifyLeft:{tooltip:"Align text left"},justifyRight:{tooltip:"Align text right"},justifyCenter:{tooltip:"Center"},indent:{tooltip:"Increase indent"},outdent:{tooltip:"Decrease indent"},clear:{tooltip:"Clear formatting"},insertImage:{dialogPrompt:"Please enter an image URL to insert",tooltip:"Insert image",hotkey:"the - possibly language dependent hotkey ... for some future implementation"},insertVideo:{tooltip:"Insert video",dialogPrompt:"Please enter a youtube URL to embed"},insertLink:{tooltip:"Insert / edit link",dialogPrompt:"Please enter a URL to insert"},editLink:{reLinkButton:{tooltip:"Relink"},unLinkButton:{tooltip:"Unlink"},targetToggle:{buttontext:"Open in New Window"}},wordcount:{tooltip:"Display words Count"},charcount:{tooltip:"Display characters Count"}}).run(["taRegisterTool","$window","taTranslations","taSelection",function(e,t,n,a){e("html",{iconclass:"fa fa-code",tooltiptext:n.html.tooltip,action:function(){this.$editor().switchView()},activeState:function(){return this.$editor().showHtml}});var r=function(e){return function(){return this.$editor().queryFormatBlockState(e)}},i=function(){return this.$editor().wrapSelection("formatBlock","<"+this.name.toUpperCase()+">")};angular.forEach(["h1","h2","h3","h4","h5","h6"],function(t){e(t.toLowerCase(),{buttontext:t.toUpperCase(),tooltiptext:n.heading.tooltip+t.charAt(1),action:i,activeState:r(t.toLowerCase())})}),e("p",{buttontext:"P",tooltiptext:n.p.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<P>")},activeState:function(){return this.$editor().queryFormatBlockState("p")}}),e("pre",{buttontext:"pre",tooltiptext:n.pre.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<PRE>")},activeState:function(){return this.$editor().queryFormatBlockState("pre")}}),e("ul",{iconclass:"fa fa-list-ul",tooltiptext:n.ul.tooltip,action:function(){return this.$editor().wrapSelection("insertUnorderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertUnorderedList")}}),e("ol",{iconclass:"fa fa-list-ol",tooltiptext:n.ol.tooltip,action:function(){return this.$editor().wrapSelection("insertOrderedList",null);
},activeState:function(){return this.$editor().queryCommandState("insertOrderedList")}}),e("quote",{iconclass:"fa fa-quote-right",tooltiptext:n.quote.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<BLOCKQUOTE>")},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")}}),e("undo",{iconclass:"fa fa-undo",tooltiptext:n.undo.tooltip,action:function(){return this.$editor().wrapSelection("undo",null)}}),e("redo",{iconclass:"fa fa-repeat",tooltiptext:n.redo.tooltip,action:function(){return this.$editor().wrapSelection("redo",null)}}),e("bold",{iconclass:"fa fa-bold",tooltiptext:n.bold.tooltip,action:function(){return this.$editor().wrapSelection("bold",null)},activeState:function(){return this.$editor().queryCommandState("bold")},commandKeyCode:98}),e("justifyLeft",{iconclass:"fa fa-align-left",tooltiptext:n.justifyLeft.tooltip,action:function(){return this.$editor().wrapSelection("justifyLeft",null)},activeState:function(e){var t=!1;return e&&(t="left"===e.css("text-align")||"left"===e.attr("align")||"right"!==e.css("text-align")&&"center"!==e.css("text-align")&&"justify"!==e.css("text-align")&&!this.$editor().queryCommandState("justifyRight")&&!this.$editor().queryCommandState("justifyCenter")&&!this.$editor().queryCommandState("justifyFull")),t=t||this.$editor().queryCommandState("justifyLeft")}}),e("justifyRight",{iconclass:"fa fa-align-right",tooltiptext:n.justifyRight.tooltip,action:function(){return this.$editor().wrapSelection("justifyRight",null)},activeState:function(e){var t=!1;return e&&(t="right"===e.css("text-align")),t=t||this.$editor().queryCommandState("justifyRight")}}),e("justifyCenter",{iconclass:"fa fa-align-center",tooltiptext:n.justifyCenter.tooltip,action:function(){return this.$editor().wrapSelection("justifyCenter",null)},activeState:function(e){var t=!1;return e&&(t="center"===e.css("text-align")),t=t||this.$editor().queryCommandState("justifyCenter")}}),e("indent",{iconclass:"fa fa-indent",tooltiptext:n.indent.tooltip,action:function(){return this.$editor().wrapSelection("indent",null)},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")}}),e("outdent",{iconclass:"fa fa-outdent",tooltiptext:n.outdent.tooltip,action:function(){return this.$editor().wrapSelection("outdent",null)},activeState:function(){return!1}}),e("italics",{iconclass:"fa fa-italic",tooltiptext:n.italic.tooltip,action:function(){return this.$editor().wrapSelection("italic",null)},activeState:function(){return this.$editor().queryCommandState("italic")},commandKeyCode:105}),e("underline",{iconclass:"fa fa-underline",tooltiptext:n.underline.tooltip,action:function(){return this.$editor().wrapSelection("underline",null)},activeState:function(){return this.$editor().queryCommandState("underline")},commandKeyCode:117}),e("strikeThrough",{iconclass:"fa fa-strikethrough",tooltiptext:n.strikeThrough.tooltip,action:function(){return this.$editor().wrapSelection("strikeThrough",null)},activeState:function(){return document.queryCommandState("strikeThrough")}}),e("clear",{iconclass:"fa fa-ban",tooltiptext:n.clear.tooltip,action:function(e,t){var n;this.$editor().wrapSelection("removeFormat",null);var r=angular.element(a.getSelectionElement()),i=function(e){e=angular.element(e);var t=e;angular.forEach(e.children(),function(e){var n=angular.element("<p></p>");n.html(angular.element(e).html()),t.after(n),t=n}),e.remove()};if(angular.forEach(r.find("ul"),i),angular.forEach(r.find("ol"),i),"li"===r[0].tagName.toLowerCase()){var o=r[0].parentNode.childNodes,s=[],l=[],d=!1;for(n=0;n<o.length;n++)o[n]===r[0]?d=!0:d?l.push(o[n]):s.push(o[n]);var u=angular.element(r[0].parentNode),c=angular.element("<p></p>");if(c.html(angular.element(r[0]).html()),0===s.length||0===l.length)0===l.length?u.after(c):u[0].parentNode.insertBefore(c[0],u[0]),0===s.length&&0===l.length?u.remove():angular.element(r[0]).remove();else{var f=angular.element("<"+u[0].tagName+"></"+u[0].tagName+">"),m=angular.element("<"+u[0].tagName+"></"+u[0].tagName+">");for(n=0;n<s.length;n++)f.append(angular.element(s[n]));for(n=0;n<l.length;n++)m.append(angular.element(l[n]));u.after(m),u.after(c),u.after(f),u.remove()}a.setSelectionToElementEnd(c[0])}var p=this.$editor(),h=function(e){e=angular.element(e),e[0]!==p.displayElements.text[0]&&e.removeAttr("class"),angular.forEach(e.children(),h)};angular.forEach(r,h),"li"!==r[0].tagName.toLowerCase()&&"ol"!==r[0].tagName.toLowerCase()&&"ul"!==r[0].tagName.toLowerCase()&&this.$editor().wrapSelection("formatBlock","default"),t()}});var o=function(e,t,n){var a=function(){n.updateTaBindtaTextElement(),n.hidePopover()};e.preventDefault(),n.displayElements.popover.css("width","375px");var r=n.displayElements.popoverContainer;r.empty();var i=angular.element('<div class="btn-group" style="padding-right: 6px;">'),o=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">100% </button>');o.on("click",function(e){e.preventDefault(),t.css({width:"100%",height:""}),a()});var s=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">50% </button>');s.on("click",function(e){e.preventDefault(),t.css({width:"50%",height:""}),a()});var l=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">25% </button>');l.on("click",function(e){e.preventDefault(),t.css({width:"25%",height:""}),a()});var d=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">Reset</button>');d.on("click",function(e){e.preventDefault(),t.css({width:"",height:""}),a()}),i.append(o),i.append(s),i.append(l),i.append(d),r.append(i),i=angular.element('<div class="btn-group" style="padding-right: 6px;">');var u=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-left"></i></button>');u.on("click",function(e){e.preventDefault(),t.css("float","left"),t.css("cssFloat","left"),t.css("styleFloat","left"),a()});var c=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-right"></i></button>');c.on("click",function(e){e.preventDefault(),t.css("float","right"),t.css("cssFloat","right"),t.css("styleFloat","right"),a()});var f=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-justify"></i></button>');f.on("click",function(e){e.preventDefault(),t.css("float",""),t.css("cssFloat",""),t.css("styleFloat",""),a()}),i.append(u),i.append(f),i.append(c),r.append(i),i=angular.element('<div class="btn-group">');var m=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-trash-o"></i></button>');m.on("click",function(e){e.preventDefault(),t.remove(),a()}),i.append(m),r.append(i),n.showPopover(t),n.showResizeOverlay(t)};e("insertImage",{iconclass:"fa fa-picture-o",tooltiptext:n.insertImage.tooltip,action:function(){var e;return e=t.prompt(n.insertImage.dialogPrompt,"http://"),e&&""!==e&&"http://"!==e?this.$editor().wrapSelection("insertImage",e,!0):void 0},onElementSelect:{element:"img",action:o}}),e("insertVideo",{iconclass:"fa fa-youtube-play",tooltiptext:n.insertVideo.tooltip,action:function(){var e;if(e=t.prompt(n.insertVideo.dialogPrompt,"https://"),e&&""!==e&&"https://"!==e){var a=e.match(/(\?|&)v=[^&]*/);if(a&&a.length>0){var r="https://www.youtube.com/embed/"+a[0].substring(3),i='<img class="ta-insert-video" src="https://img.youtube.com/vi/'+a[0].substring(3)+'/hqdefault.jpg" ta-insert-video="'+r+'" contenteditable="false" allowfullscreen="true" frameborder="0" />';return this.$editor().wrapSelection("insertHTML",i,!0)}}},onElementSelect:{element:"img",onlyWithAttrs:["ta-insert-video"],action:o}}),e("insertLink",{tooltiptext:n.insertLink.tooltip,iconclass:"fa fa-link",action:function(){var e;return e=t.prompt(n.insertLink.dialogPrompt,"http://"),e&&""!==e&&"http://"!==e?this.$editor().wrapSelection("createLink",e,!0):void 0},activeState:function(e){return e?"A"===e[0].tagName:!1},onElementSelect:{element:"a",action:function(e,a,r){e.preventDefault(),r.displayElements.popover.css("width","436px");var i=r.displayElements.popoverContainer;i.empty(),i.css("line-height","28px");var o=angular.element('<a href="'+a.attr("href")+'" target="_blank">'+a.attr("href")+"</a>");o.css({display:"inline-block","max-width":"200px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","vertical-align":"middle"}),i.append(o);var s=angular.element('<div class="btn-group pull-right">'),l=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+n.editLink.reLinkButton.tooltip+'"><i class="fa fa-edit icon-edit"></i></button>');l.on("click",function(e){e.preventDefault();var i=t.prompt(n.insertLink.dialogPrompt,a.attr("href"));i&&""!==i&&"http://"!==i&&(a.attr("href",i),r.updateTaBindtaTextElement()),r.hidePopover()}),s.append(l);var d=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+n.editLink.unLinkButton.tooltip+'"><i class="fa fa-unlink icon-unlink"></i></button>');d.on("click",function(e){e.preventDefault(),a.replaceWith(a.contents()),r.updateTaBindtaTextElement(),r.hidePopover()}),s.append(d);var u=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on">'+n.editLink.targetToggle.buttontext+"</button>");"_blank"===a.attr("target")&&u.addClass("active"),u.on("click",function(e){e.preventDefault(),a.attr("target","_blank"===a.attr("target")?"":"_blank"),u.toggleClass("active"),r.updateTaBindtaTextElement()}),s.append(u),i.append(s),r.showPopover(a)}}}),e("wordcount",{display:'<div id="toolbarWC" style="display:block; min-width:100px;">Words: <span ng-bind="wordcount"></span></div>',disabled:!0,wordcount:0,activeState:function(){var e=this.$editor().displayElements.text,t=e[0].innerHTML||"",n=0;return""!==t.replace(/\s*<[^>]*?>\s*/g,"")&&(n=t.replace(/<\/?(b|i|em|strong|span|u|strikethrough|a|img|small|sub|sup|label)( [^>*?])?>/gi,"").replace(/(<[^>]*?>\s*<[^>]*?>)/gi," ").replace(/(<[^>]*?>)/gi,"").replace(/\s+/gi," ").match(/\S+/g).length),this.wordcount=n,this.$editor().wordcount=n,!1}}),e("charcount",{display:'<div id="toolbarCC" style="display:block; min-width:120px;">Characters: <span ng-bind="charcount"></span></div>',disabled:!0,charcount:0,activeState:function(){var e=this.$editor().displayElements.text,t=e[0].innerText||e[0].textContent,n=t.replace(/(\r\n|\n|\r)/gm,"").replace(/^\s+/g," ").replace(/\s+$/g," ").length;return this.charcount=n,this.$editor().charcount=n,!1}})}]),function(){"use strict";angular.module("phi.ui",["ngAria","textAngular","angular-sortable-view","angularFileUpload"])}(),function(){"use strict";function e(e,t){e.$location=t}angular.module("phi.ui").run(e),e.$inject=["$rootScope","$location"]}(),function(){"use strict";function e(){return function(e){function t(){var t=this;t.model=e.ngModel}return{initialize:function(){e.go("view")},states:{view:{controller:t,controllerAs:"vm",template:'<div><h1 ng-bind="vm.model.title"></h1><p ng-bind="vm.model.avatar"></p></div>'},form:{controller:t,controllerAs:"vm",template:'<div><input type="text" ng-model="vm.model.title"></input><input type="text" ng-model="vm.model.avatar"></input></div>'},dump:{controller:t,controllerAs:"vm",template:"<pre>{{vm.model}}</pre>"}}}}}angular.module("phi.ui").factory("phiObjectExample",e)}(),function(){"use strict";function e(e){return{restrict:"A",link:function(t,n,a){angular.element(e[0].body).append(n),t.$on("$destroy",function(){n.remove()})}}}angular.module("phi.ui").directive("phiModal",e),e.$inject=["$document"]}(),angular.module("phi.ui").directive("phiPosition",["phiCoordinates",function(e){return{restrict:"A",scope:{},link:function(t,n,a){n.parent().css("position","relative"),n.css("position","absolute"),t.reposition=function(t){var a=e.getBounds(n),r=e.parseAlignmentString(t)||{vertical:"top",horizontal:"left"},i={top:"auto",left:"auto",bottom:"auto",right:"auto",marginTop:0,marginLeft:0};switch(r.vertical){case"top":i.top="10px";break;case"center":i.top="50%",i.marginTop=a.height*-.5+"px";break;case"bottom":i.bottom="10px"}switch(r.horizontal){case"left":i.left="10px";break;case"center":i.left="50%",i.marginLeft=a.width*-.5+"px";break;case"right":i.right="10px"}n.css(i)},a.$observe("phiPosition",function(e){t.reposition(e)})}}}]),function(){"use strict";function e(e){function t(e,t,n){var a=[];e.activeClass="phi-switch-active"+(e.customClassName?" "+e.customClassName:""),e.controls=void 0!=e.controls?e.controls:{},e.controls={activeIndex:null,length:0,select:function(n){a=t.children(),this.length=a.length,a.length&&(n>=a.length?n%=a.length:0>n&&(n=a.length+n),void 0!=a[n]&&(null!==this.activeIndex&&void 0!=a[this.activeIndex]&&angular.element(a[this.activeIndex]).removeClass(e.activeClass),angular.element(a[n]).addClass(e.activeClass),this.activeIndex=n))},next:function(){e.controls.select(e.controls.activeIndex+1)},previous:function(){e.controls.select(e.controls.activeIndex-1)},hasNext:function(){return void 0!=a[e.controls.activeIndex+1]},hasPrevious:function(){return void 0!=a[e.controls.activeIndex-1]}}}return{restrict:"A",scope:{controls:"=phiSwitch",customClassName:"@phiSwitchActiveClass"},link:t}}angular.module("phi.ui").directive("phiSwitch",e),e.$inject=["$timeout"]}(),function(){"use strict";function e(e){function t(t,n,a){function r(){var t=angular.element(document.getElementById(a.phiTooltipFor));if(t.length){var r=e.getBounds(t),i=e.getBounds(n),o={top:0,left:0},s=e.parseAlignmentString(a.phiTooltipAlign)||{vertical:"bottom",horizontal:"left"};switch(s.vertical){case"top":o.top+=r.top;break;case"center":o.top+=r.top+r.height/2;break;case"bottom":o.top+=r.top+r.height}switch(s.horizontal){case"left":o.left+=r.left;break;case"center":o.left+=r.left+r.width/2;break;case"right":o.left+=r.left+r.width}var l=e.parseAlignmentString(a.phiTooltipOrigin)||{vertical:"top",horizontal:"left"};switch(l.vertical){case"bottom":o.top-=i.height;break;case"center":o.top-=i.height/2}switch(l.horizontal){case"right":o.left-=i.width;break;case"center":o.left-=i.width/2}var d={top:o.top+"px",left:o.left+"px",right:"auto",bottom:"auto"};"width"==a.phiTooltipMatch?d.minWidth=r.width+"px":"height"==a.phiTooltipMatch&&(d.minHeight=r.height+"px"),n.css(d)}}n.css("position","absolute"),a.$observe("phiTooltipFor",function(){r()}),a.$observe("phiTooltipAlign",function(){r()}),a.$observe("phiTooltipOrigin",function(){r()}),a.$observe("phiVisible",function(){r()})}return{restrict:"A",link:t}}angular.module("phi.ui").directive("phiTooltipFor",e),e.$inject=["phiCoordinates"]}(),angular.module("phi.ui").directive("phiViewportLeave",["$window","phiCoordinates","$timeout",function(e,t,n){return{restrict:"A",link:function(n,a,r){var i=e.scrollY;angular.element(e).bind("scroll",function(){var o=t.getBounds(a),s=null;i<o.top&&o.top<=e.scrollY?s={direction:"up"}:i+e.innerHeight>o.bottom&&o.bottom>=e.scrollY+e.innerHeight&&(s={direction:"down"}),s&&(n.$eval(r.phiViewportLeave,{event:s}),n.$apply()),i=e.scrollY})}}}]),angular.module("phi.ui").directive("phiViewportLeaveEnd",["$window","phiCoordinates","$timeout",function(e,t,n){return{restrict:"A",link:function(n,a,r){var i=e.scrollY;n.scrollListener=function(){var o=t.getBounds(a),s=null;i<o.bottom&&o.bottom<=e.scrollY?s={direction:"up"}:i+e.innerHeight>o.top&&o.top>=e.scrollY+e.innerHeight&&(s={direction:"down"}),s&&(n.$eval(r.phiViewportLeaveEnd,{event:s}),n.$apply()),i=e.scrollY},angular.element(e).bind("scroll",n.scrollListener),a.on("$destroy",function(){angular.element(e).unbind("scroll",n.scrollListener)})}}}]),angular.module("phi.ui").directive("phiViewportEnter",["$window","phiCoordinates","$timeout",function(e,t,n){return{restrict:"A",link:function(n,a,r){var i=e.scrollY;angular.element(e).bind("scroll",function(){var o=t.getBounds(a),s=null;i+e.innerHeight<o.top&&o.top<=e.scrollY+e.innerHeight?s={direction:"up"}:i>o.bottom&&o.bottom>=e.scrollY&&(s={direction:"down"}),s&&(n.$eval(r.phiViewportEnter,{event:s}),n.$apply()),i=e.scrollY})}}}]),angular.module("phi.ui").directive("phiViewportEnterEnd",["$window","phiCoordinates","$timeout",function(e,t,n){return{restrict:"A",link:function(n,a,r){var i=e.scrollY;angular.element(e).bind("scroll",function(){var o=t.getBounds(a),s=null;i+e.innerHeight<o.bottom&&o.bottom<=e.scrollY+e.innerHeight?s={direction:"up"}:i>o.top&&o.top>=e.scrollY&&(s={direction:"down"}),s&&(n.$eval(r.phiViewportEnterEnd,{event:s}),n.$apply()),i=e.scrollY})}}}]),angular.module("phi.ui").directive("phiCutout",[function(){return{restrict:"C",link:function(e,t,n){t.prepend(angular.element('<div class="phi-cutout-ridge"><div></div><div></div><div></div></div>'))}}}]),function(){"use strict";function e(){return{restrict:"E",template:'<div><img ng-src="{{src}}" /></div>',scope:{src:"@"}}}angular.module("phi.ui").directive("phiAvatar",e)}(),function(){"use strict";function e(e,t){function n(n,a){function r(e){var t="phiBlock"+e.charAt(0).toUpperCase()+e.slice(1).toLowerCase();return angular.element(document.body).injector().get(t)}function i(){a.addClass(n.ngModel.type),void 0!==n.assignControllerTo&&(n.assignControllerTo=c),d.initialize&&e(d.initialize,{$scope:u,phiBlockController:c}),c.currentAction||c.openAction("default")}function o(n){if(n||(n="default"),void 0!==d.actions[n]&&c.currentAction!=n){a.removeClass("action-"+c.currentAction),a.addClass("action-"+n),c.currentAction=n;var r=d.actions[n];if(r.controller){var i=e(r.controller,{$scope:u,phiBlockController:c});r.controllerAs&&(u[r.controllerAs]=i)}if(r.template){var o=t(r.template)(u);a.empty().append(o)}}}function s(){n.onCreate()}function l(){a.empty(),u.$destroy(),n.onDestroy(),n.$destroy()}var d=r(n.ngModel.type),u=n.$new(!0);u.ngModel=n.ngModel;var c=this;c.currentAction=null,c.openAction=o,c.create=s,c.destroy=l,i()}return{restrict:"E",scope:{ngModel:"=",assignControllerTo:"=",onCreate:"&",onDestroy:"&"},controller:n,controllerAs:"vm"}}angular.module("phi.ui").directive("phiBlock",e),e.$inject=["$controller","$compile"]}(),function(){"use strict";function e(){return{restrict:"E",transclude:!0,template:"<button phi-button ng-transclude></button>",replace:!0}}angular.module("phi.ui").directive("phiButton",e)}(),function(){"use strict";function e(e){function t(t,a){return a.type="checkbox",a.tabIndex=0,t.attr("role",a.type),function(t,a,r,i){function o(e){32===e.which&&(e.preventDefault(),s(e))}function s(e){a[0].hasAttribute("disabled")||t.$apply(function(){d=!d,i.$setViewValue(d,e&&e.type),i.$render()})}function l(){d=i.$viewValue,a.toggleClass(n,d)}var d=!1;e.link.pre(t,{on:angular.noop,0:{}},r,[i]),a.on("click",s).on("keypress",o),i.$render=l}}e=e[0];var n="phi-checked";return{restrict:"E",transclude:!0,require:"?ngModel",template:'<div class="phi-container"><div class="phi-icon"></div></div><div ng-transclude class="phi-label"></div>',compile:t}}angular.module("phi.ui").directive("phiCheckbox",["inputDirective",e])}(),function(){"use strict";function e(){return{restrict:"E",scope:{src:"@","default":"@"},link:function(e,t,n){n.$observe("src",function(n){var a=[];n&&a.push("url('"+n+"')"),e["default"]&&a.push("url('"+e["default"]+"')"),a.length&&t.css("background-image",a.join())})}}}angular.module("phi.ui").directive("phiCover",e)}(),function(){"use strict";function e(){function e(e){function t(t,r){t.key=n++,a.images.push(t),r.on("click",function(){e.$apply(function(){a.control.select(t.key),a.modalShown=!0})})}var n=0,a=this;a.control=null,a.title="foo",a.images=[],a.addImage=t,a.modalShown=!1}return{restrict:"E",transclude:!0,scope:!0,template:'<ul class="phi-gallery-thumbnails" ng-transclude></ul><div phi-modal class="phi-gallery-modal" phi-visible="{{gallery.modalShown}}" ng-click="gallery.modalShown = false"><div class="phi-gallery-modal-navigation"><a class="previous"phi-icon-left="fa-caret-left"ng-class="{disabled: !gallery.control.hasPrevious()}"ng-click="gallery.control.previous(); $event.stopPropagation();">anterior</a><span>{{gallery.control.activeIndex+1}} de {{gallery.control.length}}</span><a class="next"phi-icon-right="fa-caret-right"ng-class="{disabled: !gallery.control.hasNext()}"ng-click="gallery.control.next(); $event.stopPropagation();">siguiente</a></div><div class="phi-gallery-modal-contents" phi-switch="gallery.control"><div ng-repeat="image in gallery.images"><img ng-src="{{image.src}}" /><p ng-bind="image.description"></p></div></div></div>',controller:e,controllerAs:"gallery"}}function t(){return{restrict:"E",require:"^phiGallery",template:'<li><img ng-src="{{thumbnail}}" alt="{{alt}}" /></li>',replace:!0,scope:{thumbnail:"@",alt:"@"},link:function(e,t,n,a){var r={src:n.src,thumbnail:n.thumbnail};a.addImage(r,t)}}}angular.module("phi.ui").directive("phiGallery",e).directive("phiGalleryImage",t)}(),angular.module("phi.ui").directive("phiInput",[function(){var e=1;return{restrict:"E",scope:{name:"@",type:"@",label:"@",placeholder:"@",ngModel:"=",ngModelOptions:"=",ngChange:"&",ngFocus:"&",ngBlur:"&"},template:'<div><label for="{{elementId}}" ng-bind="label"></label><input type="{{type||\'text\'}}" ng-if="!multiline" placeholder="{{placeholder}}" ng-focus="focus()" ng-blur="blur()" id="{{elementId}}" name="{{name}}" ng-model="$parent.ngModel" ng-disabled="state.disabled" ng-model-options="ngModelOptions||{}" /><textarea ng-if="multiline" placeholder="{{placeholder}}" ng-focus="focus()" ng-blur="blur()" id="{{elementId}}" name="{{name}}" ng-model="$parent.ngModel" ng-disabled="state.disabled" ng-trim="false" ng-model-options="ngModelOptions||{}"></textarea></div><hr />',link:function(t,n,a){t.elementId="phi-input-"+e++,t.floatinglabel="undefined"!=typeof a.floatinglabel&&"false"!==a.floatinglabel&&"0"!==a.floatinglabel,t.multiline="undefined"!=typeof a.multiline&&"false"!==a.multiline&&"0"!==a.multiline,t.state={focused:!1,empty:!0,disabled:"undefined"!=typeof a.disabled&&"false"!==a.disabled&&"0"!==a.disabled},n.toggleClass("phi-input-disabled",t.state.disabled),n.attr("tabindex",-1),n.on("focus",function(){var e=t.multiline?n.find("textarea"):n.find("input");e[0].focus()}),t.focus=function(){t.state.focused=!0,n.toggleClass("phi-input-focused",!0),t.ngFocus()},t.blur=function(){t.state.focused=!1,n.toggleClass("phi-input-focused",!1),t.ngBlur()},t.resizeTextarea=function(){if(t.multiline){var e=n.find("textarea");e.css("height","auto"),e.css("height",Math.max(e[0].scrollHeight,e[0].clientHeight)+"px")}},t.$watch("ngModel",function(e,a){t.state.empty=void 0==e||!e.length,n.toggleClass("phi-input-empty",t.state.empty),e!=a&&(t.resizeTextarea(),t.ngChange())})}}}]),function(){"use strict";function e(){return{restrict:"E",scope:{onSelect:"&"},controller:["$scope",function(e){this.select=function(t){e.onSelect(t)}}]}}function t(){return{restrict:"E",require:"^phiMenu",scope:{label:"@"},transclude:!0,template:'<a class="phi-submenu-label" ng-bind="label" tabindex="0" ng-click="toggle()"></a><div class="phi-submenu-contents" ng-transclude></div>',link:function(e,t,n,a){e.setExpanded=function(n){e.expanded=n,e.expanded?(t.attr("expanded","expanded"),t.find("div").find("a").attr("tabindex",0)):(t.removeAttr("expanded"),t.find("div").find("a").attr("tabindex",-1))},e.toggle=function(){e.setExpanded(!e.expanded)},e.setExpanded(!1);for(var r=t.find("a"),i=0;i<r.length;i++)if(void 0!==angular.element(r[i]).attr("active")){e.setExpanded(!0);break}}}}function n(){return{restrict:"E",require:"^phiMenu",template:"<a ng-transclude></a>",transclude:!0,replace:!0,link:function(e,t,n,a){t.on("click",function(){a.select(t)})}}}angular.module("phi.ui").directive("phiMenu",e).directive("phiSubmenu",t).directive("phiMenuItem",n)}(),function(){"use strict";function e(){function e(e,t,r,i){function o(n){if(void 0!==c.states[n]&&c.currentState!=n){u&&(u.$destroy(),u=null),u=e.$new(!0),u.phiObject=c,t.removeClass("phi-object-state-"+c.currentState),t.addClass("phi-object-state-"+n),c.currentState=n,c.controller.currentState=n;var a=c.states[n];if(a.controller){var o=r(a.controller,{$scope:u});a.controllerAs&&(u[a.controllerAs]=o)}if(a.template){var s=i(a.template)(u);t.empty().append(s)}}}function s(){c.onChange()}function l(){c.onDestroy()}function d(e){c.isLoading=e,c.controller.isLoading=e}var u,c=this;c.ngModel=e.ngModel,c.onChange=e.onChange,c.onDestroy=e.onDestroy,c.states=[],c.currentState=null,c.go=o,c.isLoading=!1,c.setLoading=d,c.change=s,c.destroy=l,a=n(e.type,c),c.states=a.states,c.controller={states:Object.keys(c.states),currentState:c.currentState,go:o,isLoading:c.isLoading},void 0!=e.controllerAs&&(e.controllerAs=c.controller)}function t(e){var t=e.vm;"function"==typeof a.initialize?a.initialize():t.go(Object.keys(t.states)[0])}function n(e,t){var n=e.split("-").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}),a="phiObject"+n.join(""),r=angular.element(document.body).injector().get(a);return r(t)}var a;return{restrict:"E",scope:{type:"@",controllerAs:"=",ngModel:"=",onChange:"&",onDestroy:"&"},controller:e,controllerAs:"vm",link:t}}angular.module("phi.ui").directive("phiObject",e)}(),function(){function e(){function e(e,t){function n(e){o.post.blocks||(o.post.blocks=[]);var t={type:e,order:o.post.blocks.length};for(var n in o.post.insertable[e])t[n]=o.post.insertable[e][n];o.post.blocks.push(t)}function a(e){t.post(o.post.url+"/blocks",e).success(function(t){e.id=t.id})}function r(e){e.id?t.remove(o.post.url+"/blocks/"+e.id).success(function(){o.post.blocks.splice(o.post.blocks.indexOf(e),1)}):o.post.blocks.splice(o.post.blocks.indexOf(e),1)}function i(){for(var e=[],n=0;n<o.post.blocks.length;n++)e.push(o.post.blocks[n].id);t.put(o.post.url+"/blocks/",e)}var o=this;o.post=e.ngModel,o.addBlock=n,o.attachBlock=a,o.removeBlock=r,o.reorder=i,e.$watch("ngModel",function(e,t){e!=t&&(o.post=e)})}return{restrict:"E",scope:{ngModel:"="},controller:e,controllerAs:"vm",template:'<div class="phi-post"><div class="phi-post-blocks" sv-root sv-part="vm.post.blocks" sv-on-sort="vm.reorder()"><div ng-repeat="(key, block) in vm.post.blocks" ng-init="block.ctrl = {}" class="phi-block" sv-element><div ng-show="vm.post.editable" class="phi-block-toolbar" sv-handle><div class="phi-block-menu"><button ng-blur="block.menuShown = false" id="menu_toggler_{{post.id}}_{{key}}" ng-show="block.ctrl.currentAction == \'default\'" ng-click="block.menuShown = !block.menuShown" phi-icon="fa-ellipsis-v"></button><button ng-blur="block.menuShown = false" ng-show="block.ctrl.currentAction != \'default\'" ng-click="block.ctrl.openAction()" phi-icon="fa-times"></button><div phi-tooltip-for="menu_toggler_{{post.id}}_{{key}}" phi-tooltip-origin="top right" phi-tooltip-align="bottom right" phi-visible="{{block.menuShown}}" phi-visible-animation="slide-bottom"><phi-menu phi-texture="paper"><phi-menu-item phi-icon-left="fa-pencil" ng-click="block.ctrl.openAction(\'modify\')">Modificar</phi-menu-item><phi-menu-item phi-icon-left="fa-trash-o" ng-click="block.ctrl.openAction(\'remove\')">Eliminar</phi-menu-item></phi-menu></div></div></div><phi-block ng-model="block" assign-controller-to="block.ctrl"on-create="vm.attachBlock(block)"on-destroy="vm.removeBlock(block)"></phi-block></div></div><div class="phi-block-adder" ng-show="vm.post.editable"><ul><li ng-if="vm.post.insertable.html" class="html" phi-icon="fa-font" ng-click="vm.addBlock(\'html\')">texto</li><li ng-if="vm.post.insertable.gallery" class="gallery" phi-icon="fa-files-o" ng-click="vm.addBlock(\'gallery\')">archivos</li><li ng-if="vm.post.insertable.video" class="video" phi-icon="fa-youtube-play" ng-click="vm.addBlock(\'video\')">video</li><li ng-if="vm.post.insertable.form" class="form" phi-icon="fa-pencil-square-o" ng-click="vm.addBlock(\'form\')">formulario</li></ul></div></div>'}}angular.module("phi.ui").directive("phiPost",e)}(),function(){"use strict";function e(){function e(e,t,a,r){function i(e){e||(e="");for(var n=t.find("phi-option"),a=0;a<n.length;a++){var r=angular.element(n[a]);if(r.attr("value")==e)return r}return null}e.vm.uniqueId="phiSelect"+ ++n,t.data("phiSelectLinkId",e.vm.uniqueId),t.on("focus",e.vm.expand);var o=angular.element(t.find("div")[1]);e.vm.ngModel=r,r.$render=function(){var e=i(r.$viewValue);o.html(e?e.html():r.$viewValue)},e.$watch("vm.query",function(t,n){t!=n&&e.vm.onSearch({query:t})})}function t(e,t,n,a){function r(t){angular.element(t.target).inheritedData("phiSelectLinkId")!=n.data("phiSelectLinkId")&&e.$apply(i.collapse)}var i=this;i.query=null,i.setValue=function(e){i.collapse(),i.ngModel.$setViewValue(e),i.ngModel.$render()},i.isExpanded=!1,i.expand=function(){i.isExpanded||(i.isExpanded=!0,a(function(){n.find("input")[0].focus()},0),t.bind("click",r),i.onSearch())},i.collapse=function(){i.isExpanded=!1,t.unbind("click",r)},i.toggle=function(){i.isExpanded?i.collapse():i.expand()},i.attachOptionElement=function(e){e.on("click",function(){i.setValue(e.attr("value"))})}}var n=0;return{restrict:"E",require:"?ngModel",transclude:!0,template:'<div id="{{vm.uniqueId}}" class="phi-select-face" ng-click="vm.expand()" ng-class="{\'phi-select-expanded\': vm.isExpanded}"><div ng-show="!vm.isExpanded" class="phi-select-value"></div><input ng-show="!!vm.isExpanded" type="text" ng-model="vm.query" tabindex="-1" size="2" /></div><phi-menu ng-transclude phi-texture="paper" phi-tooltip-for="{{vm.uniqueId}}" phi-visible="{{vm.isExpanded}}" phi-visible-animation="slide-bottom"></phi-menu>',scope:{onSearch:"&phiOnSearch"},controller:t,controllerAs:"vm",bindToController:!0,link:e}}function t(){return{restrict:"E",require:"^phiSelect",template:"<a ng-transclude></a>",transclude:!0,link:function(e,t,n,a){a.attachOptionElement(t)}}}angular.module("phi.ui").directive("phiSelect",e).directive("phiOption",t)}(),function(){"use strict";function e(e){function t(t,a){t.ngModel.url?e.get(t.ngModel.url).success(function(e){t.form=e,n(t)}):(t.form={id:null,fields:[]},a.openAction("create"))}function n(t){void 0!=t.ngModel.settings.recordsUrl&&e.get(t.ngModel.settings.recordsUrl).success(function(e,n,a){e.length>0&&(t.currentRecord=e[0])})}function a(t,n){function a(){var n={};t.form.fields.map(function(e){n[e.name]=e.value}),e.post(u.settings.recordsUrl,n).success(function(e,n,a){t.currentRecord=e})}function r(){t.form.fields.push({type:"text"})}function i(e){confirm("Deseas eliminar este campo ?")&&t.form.fields.splice(t.form.fields.indexOf(e),1)}function o(){if(t.ngModel.url)e.put(t.ngModel.url,t.form).success(function(e,t,a){n.openAction("default")});else{if(!t.ngModel.endpoint)return;e.post(t.ngModel.endpoint,t.form).success(function(e,a,r){t.ngModel.url=r("location"),n.openAction("default"),n.create()})}}function s(){n.destroy()}function l(){e.remove(t.ngModel.url).success(function(e,t,n){u.destroy()})}function d(){t.ngModel.url?n.openAction("default"):u.destroy()}var u=this;u.settings=t.ngModel.settings,u.addField=r,u.removeField=i,u.save=o,u.destroy=s,u.doDelete=l,u.cancel=d,u.submit=a}var r='<div class="preview" ng-switch="field.type"><div ng-switch-when="text"><label ng-bind="field.title"></label><input ng-model="field.value" type="text" /></div><div ng-switch-when="textarea"><label ng-bind="field.title"></label><textarea ng-model="field.value"></textarea></div><div ng-switch-when="select"><label ng-bind="field.title"></label><select ng-model="field.value"><option value="">---</option><option ng-repeat="line in field.options | lines" value="{{line}}">{{line}}</option></select></div><div ng-switch-when="checkbox"><input type="checkbox" ng-model="field.value">{{field.title}}</input></div><p class="notice" ng-bind="field.description"></p></div>',i='<form class="builder"><fieldset><phi-input multiline ng-model="form.description" label="descripci&oacute;n"></phi-input></fieldset><fieldset class="fields" sv-root sv-part="form.fields"><div ng-repeat="field in form.fields" sv-element class="field"><div class="toolbar" sv-handle><a phi-icon="fa-times" ng-click="vm.removeField(field)" href="">&nbsp;</a></div><div class="controls"><phi-select label="tipo" ng-model="field.type"><phi-option value="text">texto</phi-option><phi-option value="textarea">textarea</phi-option><phi-option value="select">lista</phi-option><phi-option value="checkbox">checkbox</phi-option></phi-select><phi-input label="titulo" ng-model="field.title"></phi-input><phi-input multiline label="descripci&oacute;n" ng-model="field.description"></phi-input><div ng-show="field.type == \'select\'"><phi-input multiline label="opciones" ng-model="field.options"></phi-input><p class="notice">Escribe una opci&oacute;n por l&iacute;nea</p></div></div>'+r+'</div><button class="field-adder" phi-icon-left="fa-plus" ng-click="vm.addField()">Agregar campo</button></fieldset><footer><phi-button ng-click="vm.save()">guardar</phi-button><phi-button class="cancel" ng-click="vm.cancel()">cancelar</phi-button></footer></form>',o={
type:"form",title:"Formulario",description:"",initialize:t,actions:{"default":{template:'<form class="face"><p ng-bind="form.description"></p><div ng-show="!currentRecord"><fieldset class="fields"><div ng-repeat="field in form.fields">'+r+'</div></fieldset><div ng-show="!!vm.settings.recordsUrl"><button ng-click="vm.submit()">Enviar</button></div></div><div ng-show="!!currentRecord"><fieldset class="fields"><div ng-repeat="field in form.fields"><strong ng-bind="field.title"></strong>: <span ng-bind="currentRecord.values[field.name]"></span></div></fieldset></div></form>',controller:a,controllerAs:"vm"},create:{template:i,controller:a,controllerAs:"vm"},modify:{template:i,controller:a,controllerAs:"vm"},remove:{template:'<div><h3>Eliminar este formulario ?</h3><button ng-click="vm.doDelete()">eliminar</button><button ng-click="vm.cancel()">cancelar</button></div>',controller:a,controllerAs:"vm"}}};return o}angular.module("phi.ui").factory("phiBlockForm",e),e.$inject=["phiApi"]}(),function(){"use strict";function e(e){function t(t,n){t.ngModel.url?e.get(t.ngModel.url).success(function(n){t.gallery=n,e.get(t.ngModel.url+"/files").success(function(e){t.gallery.pictures=e})}):(t.gallery={pictures:[]},n.openAction("create"))}function n(t,n){function a(){e.get(t.ngModel.url+"/files").success(function(e){t.gallery.pictures=e})}function r(){n.openAction("default")}function i(a){t.gallery.type=a,t.ngModel.endpoint&&e.post(t.ngModel.endpoint,t.gallery).success(function(e,a,r){t.ngModel.url=r("location"),n.openAction("modify"),n.create()})}function o(){e.put(t.ngModel.url,t.gallery).success(function(e,t,a){n.openAction("default")})}function s(){e.remove(t.ngModel.url).success(function(e,t,a){n.destroy()})}function l(){n.destroy()}var d=this;d.cancel=r,d.create=i,d.save=o,d.remove=s,d.destroy=l,d.reload=a}var a={type:"gallery",title:"Galeria",description:"",initialize:t,actions:{"default":{template:'<div><div ng-show="!gallery.pictures.length">No se han subido archivos</div><phi-gallery><phi-gallery-image ng-repeat="picture in gallery.pictures" src="{{picture.url|trustAsResourceUrl}}" thumbnail="{{picture.thumbnail|trustAsResourceUrl}}"></phi-gallery-image></phi-gallery></div>'},create:{template:'<form><fieldset><ul class="gallery-class-picker"><li ng-click="vm.create(\'gallery\')"><h1 phi-icon="fa-picture-o"></h1><span>Galer&iacute;a de im&aacute;genes</span></li><li ng-click="vm.create(\'folder\')"><h1 phi-icon="fa-files-o"></h1><span>Lista de archivos</span></li></ul></fieldset><footer><phi-button ng-click="vm.destroy()" class="cancel">cancelar</phi-button></footer></form>',controller:n,controllerAs:"vm"},modify:{template:'<form><phi-api-folder url="{{ngModel.url}}/files" on-change="vm.reload()"></phi-api-folder><footer><phi-button ng-click="vm.cancel()" class="cancel">aceptar</phi-button></footer></form>',controller:n,controllerAs:"vm"},remove:{template:'<form><h1>Eliminar esta galer&iacute;a ?</h1><footer><phi-button ng-click="vm.remove()">eliminar</phi-button><phi-button ng-click="vm.cancel()" class="cancel">cancelar</phi-button></footer></form>',controller:n,controllerAs:"vm"}}};return a}angular.module("phi.ui").factory("phiBlockGallery",e),e.$inject=["phiApi"]}(),function(){"use strict";function e(e){function t(t,n){t.ngModel.url?e.get(t.ngModel.url).success(function(e){t.html=e}):(t.html={id:null,body:null},n.openAction("create"))}function n(t,n){function a(){n.openAction("default")}function r(){t.ngModel.endpoint&&e.post(t.ngModel.endpoint,t.html).success(function(e,a,r){t.html.id=e.id,t.ngModel.url=r("location"),n.openAction("default"),n.create()})}function i(){e.put(t.ngModel.url,t.html).success(function(e,t,a){n.openAction("default")})}function o(){e.remove(t.ngModel.url).success(function(e,t,a){n.destroy()})}function s(){n.destroy()}var l=this;l.cancel=a,l.create=r,l.save=i,l.remove=o,l.destroy=s}var a={type:"html",title:"texto html",description:"",initialize:t,actions:{"default":{template:'<div ng-bind-html="html.body"></div>'},create:{template:'<form><fieldset><div text-angular ng-model="html.body"></div></fieldset><footer><phi-button ng-click="vm.create()">crear</phi-button><phi-button class="cancel" ng-click="vm.destroy()">cancelar</phi-button></footer></form>',controller:n,controllerAs:"vm"},modify:{template:'<form><fieldset><div text-angular ng-model="html.body"></div></fieldset><footer><phi-button ng-click="vm.save()">guardar</phi-button><phi-button class="cancel" ng-click="vm.cancel()">cancelar</phi-button></footer></form>',controller:n,controllerAs:"vm"},remove:{template:'<div><h1>Eliminar este texto ?</h1><footer><phi-button ng-click="vm.remove()">eliminar</phi-button><phi-button class="cancel" ng-click="vm.cancel()">cancelar</phi-button></footer></div>',controller:n,controllerAs:"vm"}}};return a}angular.module("phi.ui").factory("phiBlockHtml",e),e.$inject=["phiApi"]}(),function(){"use strict";function e(e){function t(t,n){function a(e){if(!e.trim().length)return null;var t=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,n=e.match(t);return n&&11==n[2].length?n[2]:null}t.ngModel.url?e.get(t.ngModel.url).success(function(e){t.video=e}):(t.video={id:null,source:"YouTube",title:null,url:null,videoId:null,thumbnail:null,isInvalid:!1},n.openAction("create")),t.$watch("video.url",function(e,n){e!=n&&(t.video.videoId=a(e),t.video.isInvalid=!!e&&!t.video.videoId,t.video.thumbnail=t.video.videoId?"http://img.youtube.com/vi/"+t.video.videoId+"/0.jpg":null)})}function n(t,n){function a(){n.openAction("default")}function r(){t.ngModel.endpoint&&e.post(t.ngModel.endpoint,t.video).success(function(e,a,r){t.ngModel.url=r("location"),n.openAction("default"),n.create()})}function i(){e.put(t.ngModel.url,t.video).success(function(e,t,a){n.openAction("default")})}function o(){e.remove(t.ngModel.url).success(function(e,t,a){n.destroy()})}function s(){n.destroy()}var l=this;l.cancel=a,l.create=r,l.save=i,l.remove=o,l.destroy=s}var a={type:"video",title:"YouTube",description:"",initialize:t,actions:{"default":{template:'<div><p ng-show="!video.videoId">El v&iacute;deo no es v&aacute;lido</p><p ng-show="!!video.videoId" ng-bind="video.title"></p><iframe ng-if="!!video.videoId" width="100%" height="420" ng-src="{{\'http://www.youtube.com/embed/\' + video.videoId | trustAsResourceUrl}}" frameborder="0" allowfullscreen></iframe></div>'},create:{template:'<form><fieldset><phi-input ng-model="video.url" label="URL de youtube"></phi-input><p ng-show="!video.videoId" class="notice">Debes ingresar una direcci&oacute;n v&aacute;lida de YouTube</p><div ng-show="!!video.videoId" class="description"><img ng-if="!!video.thumbnail" ng-src="{{video.thumbnail}}" /><phi-input multiline ng-model="video.title" label="descripci&oacute;n"></phi-input></div></fieldset><footer><phi-button ng-show="!!video.videoId" ng-click="vm.create()">guardar</phi-button><phi-button ng-click="vm.destroy()" class="cancel">cancelar</phi-button></footer></form>',controller:n,controllerAs:"vm"},modify:{template:'<form><fieldset><phi-input ng-model="video.url" label="URL de youtube"></phi-input><p ng-show="!video.videoId" class="notice">Debes ingresar una direcci&oacute;n v&aacute;lida de YouTube</p><div ng-show="!!video.videoId" class="description"><img ng-if="!!video.thumbnail" ng-src="{{video.thumbnail}}" /><phi-input multiline ng-model="video.title" label="descripci&oacute;n"></phi-input></div></fieldset><footer><phi-button ng-show="!!video.videoId" ng-click="vm.save()">guardar</phi-button><phi-button ng-click="vm.cancel()" class="cancel">cancelar</phi-button></footer></form>',controller:n,controllerAs:"vm"},remove:{template:'<form><h1>Eliminar este video ?</h1><footer><phi-button ng-click="vm.remove()">eliminar</phi-button><phi-button ng-click="vm.cancel()" class="cancel">cancelar</phi-button></footer></form>',controller:n,controllerAs:"vm"}}};return a}angular.module("phi.ui").factory("phiBlockVideo",e),e.$inject=["phiApi"]}(),function(){"use strict";function e(){return{restrict:"A",link:function(e,t,n){var a=n.phiColorTint,r=n.phiColorTheme;t.prepend('<div phi-color-theme="'+r+'" class="phi-color-tint phi-color-background-'+a+'" />')}}}angular.module("phi.ui").directive("phiColorTint",e)}(),function(){"use strict";function e(e,t){function n(n,a,r){n.selected=n.ngModel,n.items=[],n.uploader=null,n.reload=function(){return e.get(n.url).success(function(e){n.items=e})},n["delete"]=function(t,a){a.stopPropagation(),confirm("Eliminar este archivo?")&&e["delete"](n.url+"/"+t.basename).success(function(e){n.items.splice(n.items.indexOf(t),1),n.onChange({items:n.items})})},n.select=function(e){r.onSelect&&(n.selected=e,n.onSelect({item:e}))},r.$observe("url",function(a){var r=e.host?e.host+"/"+n.url:n.url;n.uploader=new t({url:r}),n.uploader.onAfterAddingAll=function(e){n.uploader.uploadAll()},n.uploader.onCompleteAll=function(){n.uploader.clearQueue(),n.reload().success(function(){n.onChange({items:n.items})})},n.reload()}),n.clickDropZone=function(){a.find("input")[0].click()}}return{restrict:"E",scope:{url:"@",onSelect:"&",onChange:"&"},template:'<div ng-if="uploader"><ul><li ng-repeat="item in items" ng-class="{selected: selected.url == item.url}" ng-click="select(item)"><div class="thumbnail"><img ng-src="{{item.thumbnail}}" /></div><p ng-bind="item.basename"></p><a class="delete" ng-click="delete(item, $event)" phi-icon="fa-times"></a></li><li ng-repeat="item in uploader.queue"><div class="thumbnail"><div ng-thumb="{file: item._file, height: 100}"></div></div><progress max="100" value="{{item.progress}}"></progress><a class="delete" ng-click="item.remove()" phi-icon="fa-times"></a></li></ul><div nv-file-over uploader="uploader" class="dropzone" ng-click="clickDropZone()"><div nv-file-drop uploader="uploader">arrastra o selecciona archivos</div></div><input type="file" nv-file-select uploader="uploader" multiple /></div>',link:n}}angular.module("phi.ui").directive("phiApiFilesystem",e),e.$inject=["phiApi","FileUploader"]}(),angular.module("phi.ui").directive("ngThumb",["$window",function(e){var t={support:!(!e.FileReader||!e.CanvasRenderingContext2D),isFile:function(t){return angular.isObject(t)&&t instanceof e.File},isImage:function(e){var t="|"+e.type.slice(e.type.lastIndexOf("/")+1)+"|";return-1!=="|jpg|png|jpeg|bmp|gif|".indexOf(t)}};return{restrict:"A",template:"<canvas/>",link:function(e,n,a){function r(e){var t=new Image;t.onload=i,t.src=e.target.result}function i(){var e=o.width||this.width/this.height*o.height,t=o.height||this.height/this.width*o.width;s.attr({width:e,height:t}),s[0].getContext("2d").drawImage(this,0,0,e,t)}if(t.support){var o=e.$eval(a.ngThumb);if(t.isFile(o.file)&&t.isImage(o.file)){var s=n.find("canvas"),l=new FileReader;l.onload=r,l.readAsDataURL(o.file)}}}}}]),function(){"use strict";function e(e,t){function n(n,a,r){n.selected=n.ngModel,n.items=[],n.uploader=null,n.reload=function(){return e.get(n.url).success(function(e){n.items=e})},n["delete"]=function(t,a){a.stopPropagation(),confirm("Eliminar este archivo?")&&e["delete"](n.url+"/"+t.name).success(function(e){n.items.splice(n.items.indexOf(t),1),n.onChange({items:n.items})})},n.select=function(e){r.onSelect&&(n.selected=e,n.onSelect({item:e}))},r.$observe("url",function(a){n.uploader=new t({url:e.host+"/"+n.url}),n.uploader.onAfterAddingAll=function(e){n.uploader.uploadAll()},n.uploader.onCompleteAll=function(){n.uploader.clearQueue(),n.reload().success(function(){n.onChange({items:n.items})})},n.reload()}),n.clickDropZone=function(){a.find("input")[0].click()}}return{restrict:"E",scope:{url:"@",onSelect:"&",onChange:"&"},template:'<div class="phi-api-folder" ng-if="uploader"><ul><li ng-repeat="item in items" ng-class="{selected: selected.url == item.url}" ng-click="select(item)"><div class="thumbnail"><img ng-src="{{item.thumbnail}}" /></div><a class="delete" ng-click="delete(item, $event)" phi-icon="fa-times"></a></li><li ng-repeat="item in uploader.queue"><div class="thumbnail"><div ng-thumb="{file: item._file, height: 100}"></div></div><progress max="100" value="{{item.progress}}"></progress><a class="delete" ng-click="item.remove()" phi-icon="fa-times"></a></li></ul><div nv-file-over uploader="uploader" class="dropzone" ng-click="clickDropZone()"><div nv-file-drop uploader="uploader">arrastra o selecciona archivos</div></div><input type="file" nv-file-select uploader="uploader" multiple /></div>',link:n}}angular.module("phi.ui").directive("phiApiFolder",e),e.$inject=["phiApi","FileUploader"]}(),function(){function e(){function e(e,t,n,a){var r="phiApiResource"+this.type.charAt(0).toUpperCase()+this.type.slice(1).toLowerCase()+"Directive";if(a.has(r)){var i=t("<phi-api-resource-"+this.type+' src="{{vm.src}}"></phi-api-resource-'+this.type+">")(n);e.empty().append(i)}}return{restrict:"E",scope:{type:"@",src:"@"},bindToController:!0,controller:e,controllerAs:"vm",template:"<div>could not load {{vm.type}} {{vm.src}}</div>"}}angular.module("phi.ui").directive("phiApiResource",e)}(),function(){function e(){function e(e){function t(e){i.page.blocks||(i.page.blocks=[]);var t={order:i.page.blocks.length};for(var n in e)t[n]=e[n];i.page.blocks.push(t)}function n(t){t.id?e.put(i.page.url+"/blocks/"+t.id,t):e.post(i.page.url+"/blocks",{type:t.type,url:t.url,title:t.title,description:t.description,order:i.page.blocks.length}).success(function(e){t.id=e.id})}function a(t){t.id?e.remove(i.page.url+"/blocks/"+t.id).success(function(){i.page.blocks.splice(i.page.blocks.indexOf(t),1)}):i.page.blocks.splice(i.page.blocks.indexOf(t),1)}function r(){for(var t=[],n=0;n<i.page.blocks.length;n++)t.push(i.page.blocks[n].id);e.put(i.page.url+"/blocks/",t)}var i=this;i.addBlock=t,i.attachBlock=n,i.removeBlock=a,i.reorder=r}return{restrict:"E",scope:{page:"=ngModel",insertable:"="},controller:e,controllerAs:"vm",bindToController:!0,template:'<div><h1 ng-bind="vm.page.title"></h1><div ng-bind="vm.page.description"></div><div sv-root sv-part="vm.page.blocks" sv-on-sort="vm.reorder()"><div ng-repeat="(key, block) in vm.page.blocks" ng-init="block.ctrl = {}" class="phi-block" sv-element><div class="phi-block-toolbar" sv-handle><div class="phi-block-menu"><phi-button class="cancel" ng-blur="block.menuShown = false" id="menu_toggler_{{post.id}}_{{key}}" ng-show="block.ctrl.currentState == \'default\'" ng-click="block.menuShown = !block.menuShown" phi-icon="fa-ellipsis-v"></phi-button><phi-button class="cancel" ng-blur="block.menuShown = false" ng-show="block.ctrl.currentState != \'default\'" ng-click="block.ctrl.go(\'default\')" phi-icon="fa-arrow-left"></phi-button><div phi-tooltip-for="menu_toggler_{{post.id}}_{{key}}" phi-tooltip-origin="top right" phi-tooltip-align="bottom right" phi-visible="{{block.menuShown}}" phi-visible-animation="slide-bottom"><phi-menu phi-texture="paper"><phi-menu-item ng-repeat="item in block.menu" phi-icon-left="{{item.icon}}" ng-click="block.ctrl.go(item.state)">{{item.title}}</phi-menu-item></phi-menu></div></div></div><phi-object type="page-block-{{block.type}}"ng-model="block" controller-as="block.ctrl"on-change="vm.attachBlock(block)"on-destroy="vm.removeBlock(block)"></phi-object></div></div><div class="phi-block-adder"><ul><li ng-repeat="insertable in vm.insertable" phi-icon="{{insertable.icon}}" ng-click="vm.addBlock(insertable)" ng-bind="insertable.title"></li></ul></div></div>'}}angular.module("phi.ui").directive("phiPageEditor",e)}(),function(){"use strict";function e(e){return function(t){function n(){e.get(t.ngModel.url).success(function(e){t.files=e})}function a(){return t.ngModel.url?void t.go("default"):void t.go("editor")}function r(){if(!t.ngModel.url){var e=Math.floor(1e4*Math.random()+1);t.ngModel.url="http://127.0.0.1/filesystem/people/citizen"+e+"/files/dropbox/",t.change()}}return{initialize:a,states:{"default":{controller:n,template:'<ul><li ng-repeat="file in phiObject.files"><a href="{{phiObject.ngModel.url}}/{{file.path}}" target="_blank" ng-bind="file.path"></a></li></ul>'},editor:{controller:r,controllerAs:"vm",template:'<phi-api-filesystem url="{{phiObject.ngModel.url}}"></phi-api-filesystem>'},"delete":{template:'<form><h1>Eliminar esta carpeta ?</h1><footer><phi-button ng-click="phiObject.destroy()">eliminar</phi-button><phi-button ng-click="phiObject.go(\'default\')" class="cancel">cancelar</phi-button></footer></form>'}}}}}angular.module("phi.ui").factory("phiObjectPageBlockFilesystem",e),e.$inject=["phiApi"]}(),function(){"use strict";function e(e){return function(t){function n(){return t.ngModel.url?void t.go("default"):t.ngModel.collectionUrl?void e.post(t.ngModel.collectionUrl).success(function(e,n,a){t.ngModel.url="http://127.0.0.1/v4/"+a("location"),t.change(),t.go("editor")}):void t.go("error")}function a(){var n=this;e.get(t.ngModel.url).success(function(e){n.body=e.body})}function r(n){function a(n){e.put(t.ngModel.url,{body:n})}var r=this;e.get(t.ngModel.url).success(function(e){r.body=e.body,n.$watch("vm.body",function(e,t){e!=t&&void 0!=t&&void 0!=e&&a(e)})})}function i(){function n(){e["delete"](t.ngModel.url).success(function(e){t.destroy()})}function a(){t.go("default")}var r=this;r.confirm=n,r.cancel=a}return{initialize:n,states:{"default":{controller:a,controllerAs:"vm",template:'<div ng-bind-html="vm.body"></div>'},editor:{controller:r,controllerAs:"vm",template:'<text-angular ng-model="vm.body" ng-model-options="{default: 920, blur: 0}"></text-angular>'},"delete":{controller:i,controllerAs:"vm",template:'<h1>Are you sure ?</h1><phi-button class="danger" ng-click="vm.confirm()">Delete</phi-button><phi-button class="cancel" ng-click="vm.cancel()">Cancel</phi-button>'},error:{template:"<h1>error!</h1>"}}}}}angular.module("phi.ui").factory("phiObjectPageBlockHtml",e),e.$inject=["phiApi"]}(),function(){"use strict";function e(e){return function(e){function t(){return e.ngModel.url?void e.go("default"):e.ngModel.collectionUrl?void e.go("editor"):void e.go("error")}function n(){e.ngModel.url&&(e.ngModel.videoId=i(e.ngModel.url),e.ngModel.isInvalid=!e.ngModel.videoId,e.ngModel.thumbnail=e.ngModel.videoId?"http://img.youtube.com/vi/"+e.ngModel.videoId+"/0.jpg":null)}function a(t){function n(){e.change(),e.go("default")}function a(){e.go("default")}var r=this;r.save=n,r.cancel=a,t.$watch("phiObject.ngModel.url",function(t,n){t!=n&&(e.ngModel.videoId=i(t),e.ngModel.isInvalid=!!t&&!e.ngModel.videoId,e.ngModel.thumbnail=e.ngModel.videoId?"http://img.youtube.com/vi/"+e.ngModel.videoId+"/0.jpg":null)})}function r(){function t(){e.destroy()}function n(){e.go("default")}var a=this;a.confirm=t,a.cancel=n}function i(e){if(!e.trim().length)return null;var t=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,n=e.match(t);return n&&11==n[2].length?n[2]:null}return{initialize:t,states:{"default":{controller:n,controllerAs:"vm",template:'<div><p ng-show="!phiObject.ngModel.videoId">El v&iacute;deo no es v&aacute;lido</p><p ng-show="!!phiObject.ngModel.videoId" ng-bind="phiObject.ngModel.title"></p><iframe ng-if="!!phiObject.ngModel.videoId" width="100%" height="420" ng-src="{{\'http://www.youtube.com/embed/\' + phiObject.ngModel.videoId | trustAsResourceUrl}}" frameborder="0" allowfullscreen></iframe></div>'},editor:{controller:a,controllerAs:"vm",template:'<form><fieldset><phi-input ng-model="phiObject.ngModel.url" label="URL de youtube"></phi-input><p ng-show="!phiObject.ngModel.videoId" class="notice">Debes ingresar una direcci&oacute;n v&aacute;lida de YouTube</p><div ng-show="!!phiObject.ngModel.videoId" class="description"><phi-input ng-model="phiObject.ngModel.title" label="titulo"></phi-input><phi-input multiline ng-model="phiObject.ngModel.description" label="descripci&oacute;n"></phi-input><img ng-if="!!phiObject.ngModel.thumbnail" ng-src="{{phiObject.ngModel.thumbnail}}" /></div></fieldset><footer><phi-button ng-show="!!phiObject.ngModel.videoId" ng-click="vm.save()">guardar</phi-button><phi-button ng-click="vm.cancel()" class="cancel">cancelar</phi-button></footer></form>'},"delete":{controller:r,controllerAs:"vm",template:'<form><h1>Eliminar este video ?</h1><footer><phi-button ng-click="vm.confirm()">eliminar</phi-button><phi-button ng-click="vm.cancel()" class="cancel">cancelar</phi-button></footer></form>'},error:{template:"<h1>error!</h1>"}}}}}angular.module("phi.ui").factory("phiObjectPageBlockYoutube",e),e.$inject=["phiApi"]}(),function(){"use strict";function e(){function e(e,t){function n(){i&&e.post(i,a.currentRecord).success(function(e,t,n){a.records=[e],a.currentRecord={}})}var a=this;a.entity=null,a.records=null,a.currentRecord={},a.saveCurrentRecord=n;var r=t.decode(e.token),i=null;e.get(a.src).success(function(t){a.entity=t,r&&(i="people/"+r.person+"/data/entities/"+a.entity.id+"/records",e.get(i).success(function(e){a.records=e}))})}return{restrict:"E",scope:{src:"@"},bindToController:!0,controller:e,controllerAs:"vm",template:'<form ng-if="!!vm.entity && !vm.records.length"><fieldset><div ng-repeat="field in vm.entity.fields" ng-switch="field.type" class="phi-api-resource-form-field"><div ng-switch-when="text"><label ng-bind="field.title"></label><input ng-model="vm.currentRecord[field.name]" type="text" /></div><div ng-switch-when="textarea"><label ng-bind="field.title"></label><textarea ng-model="vm.currentRecord[field.name]"></textarea></div><div ng-switch-when="select"><label ng-bind="field.title"></label><select ng-model="vm.currentRecord[field.name]"><option value="">---</option><option ng-repeat="line in field.options | lines" value="{{line}}">{{line}}</option></select></div><div ng-switch-when="checkbox"><input type="checkbox" ng-model="vm.currentRecord[field.name]">{{field.title}}</input></div><p ng-bind="field.description"></p></div></fieldset><footer><phi-button ng-click="vm.saveCurrentRecord()">Enviar</phi-button></footer></form><div ng-if="!!vm.records.length"><fieldset ng-repeat="record in vm.records"><div ng-repeat="field in vm.entity.fields"><strong ng-bind="field.title"></strong>: <span ng-bind="record.values[field.name]"></span></div></fieldset></div>'}}angular.module("phi.ui").directive("phiApiResourceForm",e)}(),function(){"use strict";function e(){function e(e){var t=this;t.gallery=null,e.get(t.src).success(function(n){t.gallery=n,e.get(t.src+"/files").success(function(e){t.gallery.pictures=e})})}return{restrict:"E",scope:{src:"@"},bindToController:!0,controller:e,controllerAs:"vm",template:'<phi-gallery><phi-gallery-image ng-repeat="picture in vm.gallery.pictures" src="{{picture.url|trustAsResourceUrl}}" thumbnail="{{picture.thumbnail|trustAsResourceUrl}}"></phi-gallery-image></phi-gallery>'}}angular.module("phi.ui").directive("phiApiResourceGallery",e)}(),function(){"use strict";function e(){function e(e){var t=this;t.html=null,e.get(t.src).success(function(e){t.html=e})}return{restrict:"E",scope:{src:"@"},bindToController:!0,controller:e,controllerAs:"vm",template:'<div ng-bind-html="vm.html.body"></div>'}}angular.module("phi.ui").directive("phiApiResourceHtml",e)}(),function(){"use strict";function e(){function e(e){var n=this;n.video=null,e.get(n.src).success(function(e){n.video=e,n.video.videoId=t(n.video.url),n.video.isInvalid=!n.video.videoId,n.video.thumbnail=n.video.videoId?"http://img.youtube.com/vi/"+n.video.videoId+"/0.jpg":null})}function t(e){if(!e.trim().length)return null;var t=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,n=e.match(t);return n&&11==n[2].length?n[2]:null}return{restrict:"E",scope:{src:"@"},bindToController:!0,controller:e,controllerAs:"vm",template:'<div><p ng-show="!vm.video.videoId">El v&iacute;deo no es v&aacute;lido</p><p ng-show="!!vm.video.videoId" ng-bind="vm.video.title"></p><iframe ng-if="!!vm.video.videoId" width="100%" height="420" ng-src="{{\'http://www.youtube.com/embed/\' + vm.video.videoId | trustAsResourceUrl}}" frameborder="0" allowfullscreen></iframe></div>'}}angular.module("phi.ui").directive("phiApiResourceVideo",e)}(),function(){"use strict";function e(){return function(e){var t=[];return void 0==e?t:(e.split("\n").map(function(e){var n=e.trim();n.length>0&&t.push(n)}),t)}}angular.module("phi.ui").filter("lines",e)}(),function(){"use strict";function e(){return function(e){return moment(1e3*e).calendar()}}function t(){return function(e){return moment(1e3*e).fromNow()}}angular.module("phi.ui").filter("momentCalendar",e).filter("momentFromNow",t)}(),function(){"use strict";function e(e){return e.trustAsResourceUrl}function t(e){return e.trustAsUrl}angular.module("phi.ui").filter("trustAsResourceUrl",e).filter("trustAsUrl",t),e.$inject=["$sce"],t.$inject=["$sce"]}(),function(){"use strict";function e(){function e(e){a.host=e}function t(e){a.token=e}function n(e){function t(e,t,n){return l("get",e,t,n)}function n(e,t,n){return l("post",e,t,n)}function r(e,t,n){return l("put",e,t,n)}function i(e,t,n){return l("patch",e,t,n)}function o(e,t,n){return l("options",e,t,n)}function s(e,t,n){return l("delete",e,t,n)}function l(t,n,r,i){var o={method:t,url:a.host?a.host+"/"+n:n,data:r};return angular.extend(o,i),a.token&&angular.extend(o,{headers:{Authorization:"Bearer "+a.token}}),"get"==t&&(o.url+="?"+d(r),o.data=null),e(o,i)}function d(e,t){var n=[];for(var a in e)if(e.hasOwnProperty(a)){var r=t?t+"["+a+"]":a,i=e[a];if(null==i)continue;"object"==typeof i?n.push(d(i,r)):("number"==typeof i||i.length>0)&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}return n.join("&")}var u={get:t,post:n,put:r,patch:i,options:o,"delete":s,remove:s};return angular.extend(a,u)}var a=this;a.host=null,a.token=null,a.setHost=e,a.setToken=t,a.$get=n,n.$inject=["$http"]}angular.module("phi.ui").provider("phiApi",e)}(),function(){"use strict";function e(e,t,n){function a(){var e=n.session.get("phiAuthentication.token");e&&d.setToken(e)}function r(a){var r=t.decode(a);r&&(d.token=a,d.setCredentials(r),e.setToken(a),n.session.set("phiAuthentication.token",a))}function i(e){d.credentials=e,d.isResolved=!0}function o(t,n){return e.post("oauth/token","grant_type=client_credentials",{headers:{Authorization:"Basic "+btoa(t+":"+n),"Content-Type":"application/x-www-form-urlencoded"}}).success(function(e){d.setToken(e.access_token)})}function s(){d.token=null,d.credentials=null,d.isResolved=!1,e.setToken(null),n.session.clear("phiAuthentication.token")}function l(t){return e.post("accounts",t)}var d={token:null,credentials:null,isResolved:!1,setToken:r,setCredentials:i,login:o,logout:s,signup:l};return a(),d}angular.module("phi.ui").factory("phiAuthentication",e),e.$inject=["phiApi","phiToken","phiStorage"]}(),angular.module("phi.ui").service("phiCoordinates",["$timeout",function(e){return{getBounds:function(t,n){e.cancel(t.clearBoundsTimeout),t.clearBoundsTimeout=e(function(){t.data("phi-coordinates-bounds",null)},500);var a=t.data("phi-coordinates-bounds");if(!a){var r=t[0];n=n||r.offsetParent||document.body,n=n[0]||n;var i=r.getBoundingClientRect(),o=n.getBoundingClientRect();a={left:i.left-o.left,top:i.top-o.top,width:i.width,height:i.height,bottom:i.top-o.top+i.height},t.data("phi-coordinates-bounds",a)}return a},parseAlignmentString:function(e){if(void 0==e)return null;var t=null,n=null;return-1!=e.indexOf("center")&&(t="center",n="center"),-1!=e.indexOf("top")&&(t="top"),-1!=e.indexOf("bottom")&&(t="bottom"),-1!=e.indexOf("left")&&(n="left"),-1!=e.indexOf("right")&&(n="right"),t&&n?{vertical:t,horizontal:n}:null}}}]),function(){"use strict";function e(){return{session:t(window.sessionStorage),local:t(window.localStorage)}}function t(e){return{set:function(t,n){e[t]=angular.toJson(n)},get:function(t,n){return void 0===e[t]?n:angular.fromJson(e[t])},clear:function(t){return void 0!==t?e.removeItem(t):e.clear()}}}angular.module("phi.ui").factory("phiStorage",e)}(),function(){"use strict";function e(){function e(e){var t=e.split(".");if(3!==t.length)throw new Error("JWT must have 3 parts");var n=a(t[1]);if(!n)throw new Error("Cannot decode the token");return JSON.parse(n)}function t(e){var t=n(e);return t?!(t.valueOf()>(new Date).valueOf()):!1}function n(t){var n;if(n=e(t),!n.exp)return null;var a=new Date(0);return a.setUTCSeconds(n.exp),a}function a(e){var t=e.replace("-","+").replace("_","/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}return decodeURIComponent(escape(window.atob(t)))}return{decode:e,isExpired:t,getExpirationDate:n}}angular.module("phi.ui").factory("phiToken",e)}();