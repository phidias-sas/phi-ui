angular.module("phi.ui",["ngAria"]),angular.module("phi.ui").run(["$rootScope","$location",function(e,t){e.$location=t,e.cities=["cyan","default","amber","blue-grey","blue","brown","deep-orange","deep-purple","green","grey","indigo","light-blue","light-green","lime","orange","pink","purple","red","teal","yellow"]}]),angular.module("phi.ui").service("$phiCoordinates",["$timeout",function(e){return{getBounds:function(t,i){e.cancel(t.clearBoundsTimeout),t.clearBoundsTimeout=e(function(){t.data("phi-coordinates-bounds",null)},500);var n=t.data("phi-coordinates-bounds");if(!n){var o=t[0];i=i||o.offsetParent||document.body,i=i[0]||i;var l=o.getBoundingClientRect(),r=i.getBoundingClientRect();n={left:l.left-r.left,top:l.top-r.top,width:l.width,height:l.height,bottom:l.top-r.top+l.height},t.data("phi-coordinates-bounds",n)}return n},parseAlignmentString:function(e){if(void 0==e)return null;var t=null,i=null;return-1!=e.indexOf("center")&&(t="center",i="center"),-1!=e.indexOf("top")&&(t="top"),-1!=e.indexOf("bottom")&&(t="bottom"),-1!=e.indexOf("left")&&(i="left"),-1!=e.indexOf("right")&&(i="right"),t&&i?{vertical:t,horizontal:i}:null}}}]),angular.module("phi.ui").directive("phiTooltipFor",["$timeout","$phiCoordinates",function(e,t){return{restrict:"A",scope:{parentId:"@phiTooltipFor",align:"@phiTooltipAlign",origin:"@phiTooltipOrigin"},link:function(i,n,o){i.reposition=function(){n.css("position","absolute");var e=angular.element(document.getElementById(i.parentId)),l=t.getBounds(e),r=t.getBounds(n),a={top:0,left:0},u=t.parseAlignmentString(i.align)||{vertical:"bottom",horizontal:"left"};switch(u.vertical){case"top":a.top+=l.top;break;case"center":a.top+=l.top+l.height/2;break;case"bottom":a.top+=l.top+l.height}switch(u.horizontal){case"left":a.left+=l.left;break;case"center":a.left+=l.left+l.width/2;break;case"right":a.left+=l.left+l.width}var c=t.parseAlignmentString(i.origin)||{vertical:"top",horizontal:"left"};switch(c.vertical){case"bottom":a.top-=r.height;break;case"center":a.top-=r.height/2}switch(c.horizontal){case"right":a.left-=r.width;break;case"center":a.left-=r.width/2}var d={top:a.top+"px",left:a.left+"px",right:"auto",bottom:"auto"};"width"==o.phiTooltipMatch?d.minWidth=l.width+"px":"height"==o.phiTooltipMatch&&(d.minHeight=l.height+"px"),n.css(d)},o.$observe("phiVisible",function(){i.reposition()}),o.$observe("phiTooltipAlign",function(){i.reposition()}),o.$observe("phiTooltipOrigin",function(){i.reposition()}),e(function(){i.reposition(),i.$apply()},200)}}}]),angular.module("phi.ui").directive("phiViewportLeave",["$window","$phiCoordinates","$timeout",function(e,t){return{restrict:"A",link:function(i,n,o){var l=e.scrollY;angular.element(e).bind("scroll",function(){var r=t.getBounds(n),a=null;l<r.top&&r.top<=e.scrollY?a={direction:"up"}:l+e.innerHeight>r.bottom&&r.bottom>=e.scrollY+e.innerHeight&&(a={direction:"down"}),a&&(i.$eval(o.phiViewportLeave,{event:a}),i.$apply()),l=e.scrollY})}}}]),angular.module("phi.ui").directive("phiViewportLeaveEnd",["$window","$phiCoordinates","$timeout",function(e,t){return{restrict:"A",link:function(i,n,o){var l=e.scrollY;angular.element(e).bind("scroll",function(){var r=t.getBounds(n),a=null;l<r.bottom&&r.bottom<=e.scrollY?a={direction:"up"}:l+e.innerHeight>r.top&&r.top>=e.scrollY+e.innerHeight&&(a={direction:"down"}),a&&(i.$eval(o.phiViewportLeaveEnd,{event:a}),i.$apply()),l=e.scrollY})}}}]),angular.module("phi.ui").directive("phiViewportEnter",["$window","$phiCoordinates","$timeout",function(e,t){return{restrict:"A",link:function(i,n,o){var l=e.scrollY;angular.element(e).bind("scroll",function(){var r=t.getBounds(n),a=null;l+e.innerHeight<r.top&&r.top<=e.scrollY+e.innerHeight?a={direction:"up"}:l>r.bottom&&r.bottom>=e.scrollY&&(a={direction:"down"}),a&&(i.$eval(o.phiViewportEnter,{event:a}),i.$apply()),l=e.scrollY})}}}]),angular.module("phi.ui").directive("phiViewportEnterEnd",["$window","$phiCoordinates","$timeout",function(e,t){return{restrict:"A",link:function(i,n,o){var l=e.scrollY;angular.element(e).bind("scroll",function(){var r=t.getBounds(n),a=null;l+e.innerHeight<r.bottom&&r.bottom<=e.scrollY+e.innerHeight?a={direction:"up"}:l>r.top&&r.top>=e.scrollY&&(a={direction:"down"}),a&&(i.$eval(o.phiViewportEnterEnd,{event:a}),i.$apply()),l=e.scrollY})}}}]),angular.module("phi.ui").directive("phiPosition",["$phiCoordinates",function(e){return{restrict:"A",scope:{},link:function(t,i,n){i.parent().css("position","relative"),i.css("position","absolute"),t.reposition=function(t){var n=e.getBounds(i),o=e.parseAlignmentString(t)||{vertical:"top",horizontal:"left"},l={top:"auto",left:"auto",bottom:"auto",right:"auto",marginTop:0,marginLeft:0};switch(o.vertical){case"top":l.top="10px";break;case"center":l.top="50%",l.marginTop=n.height*-.5+"px";break;case"bottom":l.bottom="10px"}switch(o.horizontal){case"left":l.left="10px";break;case"center":l.left="50%",l.marginLeft=n.width*-.5+"px";break;case"right":l.right="10px"}i.css(l)},n.$observe("phiPosition",function(e){t.reposition(e)})}}}]),angular.module("phi.ui").directive("phiCutout",[function(){return{restrict:"C",link:function(e,t){t.prepend(angular.element('<div class="phi-cutout-ridge"><div></div><div></div><div></div></div>'))}}}]),angular.module("phi.ui").directive("phiMenu",[function(){return{restrict:"E",link:function(){}}}]),angular.module("phi.ui").directive("phiSubmenu",[function(){return{restrict:"E",scope:{label:"@"},transclude:!0,template:'<a class="phi-submenu-label" ng-bind="label" tabindex="0" ng-click="toggle()"></a><div class="phi-submenu-contents" ng-transclude></div>',link:function(e,t){e.setExpanded=function(i){e.expanded=i,e.expanded?(t.attr("expanded","expanded"),t.find("div").find("a").attr("tabindex",0)):(t.removeAttr("expanded"),t.find("div").find("a").attr("tabindex",-1))},e.toggle=function(){e.setExpanded(!e.expanded)},e.setExpanded(!1);for(var i=t.find("a"),n=0;n<i.length;n++)if(void 0!==angular.element(i[n]).attr("active")){e.setExpanded(!0);break}}}}]),function(){"use strict";function e(e){function t(t,n){return n.type="checkbox",n.tabIndex=0,t.attr("role",n.type),function(t,n,o,l){function r(e){32===e.which&&(e.preventDefault(),a(e))}function a(e){n[0].hasAttribute("disabled")||t.$apply(function(){c=!c,l.$setViewValue(c,e&&e.type),l.$render()})}function u(){c=l.$viewValue,n.toggleClass(i,c)}var c=!1;e.link.pre(t,{on:angular.noop,0:{}},o,[l]),n.on("click",a).on("keypress",r),l.$render=u}}e=e[0];var i="phi-checked";return{restrict:"E",transclude:!0,require:"?ngModel",template:'<div class="phi-container" phi-ink-ripple phi-ink-ripple-checkbox><div class="phi-icon"></div></div><div ng-transclude class="phi-label"></div>',compile:t}}angular.module("phi.ui").directive("phiCheckbox",["inputDirective",e])}(),angular.module("phi.ui").directive("phiInput",[function(){var e=1;return{restrict:"E",scope:{name:"@",label:"@",placeholder:"@",ngModel:"=",ngFocus:"&",ngBlur:"&"},template:'<div><label for="{{elementId}}" ng-bind="label"></label><input type="text" ng-if="!multiline" placeholder="{{placeholder}}" ng-focus="focus()" ng-blur="blur()" id="{{elementId}}" name="{{name}}" ng-model="$parent.ngModel" ng-disabled="state.disabled" /><textarea          ng-if="multiline"  placeholder="{{placeholder}}" ng-focus="focus()" ng-blur="blur()" id="{{elementId}}" name="{{name}}" ng-model="$parent.ngModel" ng-disabled="state.disabled" ng-trim="false"></textarea></div><hr />',link:function(t,i,n){t.elementId="phi-input-"+e++,t.floatinglabel="undefined"!=typeof n.floatinglabel&&"false"!==n.floatinglabel&&"0"!==n.floatinglabel,t.multiline="undefined"!=typeof n.multiline&&"false"!==n.multiline&&"0"!==n.multiline,t.state={focused:!1,empty:!0,disabled:"undefined"!=typeof n.disabled&&"false"!==n.disabled&&"0"!==n.disabled},i.toggleClass("phi-input-disabled",t.state.disabled),i.attr("tabindex",-1),i.on("focus",function(){var e=i.find(t.multiline?"textarea":"input");e[0].focus()}),t.focus=function(){t.state.focused=!0,i.toggleClass("phi-input-focused",!0),t.ngFocus()},t.blur=function(){t.state.focused=!1,i.toggleClass("phi-input-focused",!1),t.ngBlur()},t.resizeTextarea=function(){if(t.multiline){var e=i.find("textarea");e.css("height","auto"),e.css("height",Math.max(e[0].scrollHeight,e[0].clientHeight)+"px")}},t.$watch("ngModel",function(e){t.state.empty=void 0==e||!e.length,i.toggleClass("phi-input-empty",t.state.empty),t.resizeTextarea()})}}}]),angular.module("phi.ui").directive("phiSelect",["$compile","$document",function(e,t){var i=1;return{restrict:"E",scope:{name:"@",label:"@",ngModel:"=",ngChange:"&",ngFocus:"&",ngBlur:"&",onSearch:"&phiOnSearch"},transclude:!0,template:'<phi-input id="{{elementId}}" label="{{label}}" ng-model="query" tabindex="-1" ng-focus="expand()"></phi-input><phi-menu ng-transclude phi-tooltip-for="{{elementId}}" phi-tooltip-match="width" phi-visible="{{state.expanded}}" class="phi-visible-slide-bottom phi-texture-paper"></phi-menu>',controller:["$scope","$element",function(e){this.select=function(t){e.ngModel=t,e.collapse(),e.ngChange()}}],link:function(e,n){n.attr("tabindex",-1),e.elementId="phi-select-"+i++,n.data("phiSelectId",e.elementId),e.query=null,e.state={expanded:!1},e.expand=function(){e.state.expanded||(e.query="",e.state.expanded=!0,t.bind("click",e.documentClicked))},e.collapse=function(){e.state.expanded=!1,e.query=e.ngModel,t.unbind("click",e.documentClicked)},e.documentClicked=function(t){angular.element(t.target).inheritedData("phiSelectId")!=e.elementId&&(e.collapse(),e.$apply())},e.$watch("query",function(t,i){t!=i&&t!=e.ngModel&&e.onSearch({query:t})}),e.$watch("ngModel",function(t){e.query=t})}}}]),angular.module("phi.ui").directive("option",["$compile","$interpolate",function(){return{restrict:"E",require:"^?phiSelect",scope:{value:"="},template:'<a ng-click="select()" ng-transclude></a>',transclude:!0,replace:!0,link:function(e,t,i,n){n&&(e.select=function(){return n.select(e.value,t)})}}}]);