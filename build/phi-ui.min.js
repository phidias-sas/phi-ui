angular.module("phi.ui",["ngAria"]),angular.module("phi.ui").directive("phiPositionAround",[function(){return{restrict:"A",scope:{referenceId:"@phiPositionAround",reference:"@phiPositionReference",target:"@phiPositionTarget"},link:function(e,t){t.css("position","absolute");var n=document.getElementById(e.referenceId),i=n.getBoundingClientRect(),l=t[0].getBoundingClientRect(),a={top:window.scrollY,left:window.scrollX},r=null,o=null;if(e.target){var u=e.target.toLowerCase().split(" ");r=u.length?u[0]:null,o=u.length>1?u[1]:null}switch(r){case"top":a.top+=i.top;break;default:case"bottom":a.top+=i.top+i.height;break;case"center":a.top+=i.top+i.height/2}switch(o){default:case"left":a.left+=i.left;break;case"right":a.left+=i.left+i.width;break;case"center":a.left+=i.left+i.width/2}var c=null,d=null;if(e.reference){var s=e.reference.toLowerCase().split(" ");c=s.length?s[0]:null,d=s.length>1?s[1]:null}switch(c){default:case"top":break;case"bottom":a.top-=l.height;break;case"center":a.top-=l.height/2}switch(d){default:case"left":break;case"right":a.left-=l.width;break;case"center":a.left-=l.width/2}var p=a,p={top:a.top+"px",left:a.left+"px",right:a.right+"px",bottom:a.bottom+"px"};t.css(p)}}}]),angular.module("phi.ui").directive("phiCutout",[function(){return{restrict:"A",link:function(e,t){t.prepend(angular.element('<div class="phi-cutout"><div></div><div></div><div></div></div>'))}}}]),function(){"use strict";function e(e){function t(t,i){return i.type="checkbox",i.tabIndex=0,t.attr("role",i.type),function(t,i,l,a){function r(e){32===e.which&&(e.preventDefault(),o(e))}function o(e){i[0].hasAttribute("disabled")||t.$apply(function(){c=!c,a.$setViewValue(c,e&&e.type),a.$render()})}function u(){i.toggleClass(n,a.$viewValue)}var c=!1;e.link.pre(t,{on:angular.noop,0:{}},l,[a]),i.on("click",o).on("keypress",r),a.$render=u}}e=e[0];var n="phi-checked";return{restrict:"E",transclude:!0,require:"^ngModel",template:'<div class="phi-container" phi-ink-ripple phi-ink-ripple-checkbox><div class="phi-icon"></div></div><div ng-transclude class="phi-label"></div>',compile:t}}angular.module("phi.ui").directive("phiCheckbox",["inputDirective",e])}(),angular.module("phi.ui").directive("phiInput",["$timeout",function(e){var t=0;return{restrict:"EA",scope:{name:"@",type:"@",label:"@",error:"@",invalid:"@",disabled:"@",ngModel:"=",ngChange:"&",ngFocus:"&",ngBlur:"&"},template:'<label for="{{id}}" ng-bind="label"></label><input id="{{id}}" ng-if="!multiline" type="text" ng-model="$parent.ngModel" ng-focus="focus()" ng-blur="blur()" ng-change="change()" /><textarea id="{{id}}" ng-if="multiline" name="{{name}}" ng-model="$parent.ngModel" ng-trim="false" ng-focus="focus()" ng-blur="blur()" ng-disabled="disabled == \'true\'" ng-change="change()"></textarea><hr />',link:function(n,i,l){i.attr("tabindex",-1),n.id="phi-input-"+ ++t,n.floatinglabel="undefined"!=typeof l.floatinglabel&&"false"!==l.floatinglabel&&"0"!==l.floatinglabel,n.multiline="undefined"!=typeof l.multiline&&"false"!==l.multiline&&"0"!==l.multiline,n.state={focused:!1,empty:!0},n.focus=function(){n.focused=!0,n.ngFocus(),i.toggleClass("phi-input-focused",!0)},n.blur=function(){n.focused=!1,n.ngBlur(),i.toggleClass("phi-input-focused",!1)},n.change=function(){e(n.ngChange,0)},n.resizeTextarea=function(){if(n.multiline){var e=i.find("textarea");e.css("height","auto"),e.css("height",Math.max(50,e[0].scrollHeight,e[0].clientHeight)+"px")}},n.$watch("ngModel",function(e){n.state.empty=void 0==e||!e.length,i.toggleClass("phi-input-empty",n.state.empty),n.resizeTextarea()})}}}]),angular.module("phi.ui").directive("phiMenu",[function(){return{restrict:"E",link:function(){}}}]),angular.module("phi.ui").directive("phiSubmenu",[function(){return{restrict:"E",scope:{label:"@"},transclude:!0,template:'<a class="phi-submenu-label" ng-bind="label" tabindex="0" ng-click="toggle()"></a><div class="phi-submenu-contents" ng-transclude></div>',link:function(e,t){e.setExpanded=function(n){e.expanded=n,e.expanded?(t.attr("expanded","expanded"),t.find("div").find("a").attr("tabindex",0)):(t.removeAttr("expanded"),t.find("div").find("a").attr("tabindex",-1))},e.toggle=function(){e.setExpanded(!e.expanded)},e.setExpanded(!1);for(var n=t.find("a"),i=0;i<n.length;i++)if(void 0!==angular.element(n[i]).attr("active")){e.setExpanded(!0);break}}}}]);