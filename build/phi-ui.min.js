angular.module("phi.ui",[]);var phiInputCounter=0;angular.module("phi.ui").directive("phiInput",["$timeout",function(e){return{restrict:"EA",scope:{name:"@",type:"@",label:"@",error:"@",invalid:"@",disabled:"@",ngModel:"=",ngChange:"&",ngFocus:"&",ngBlur:"&"},template:'<label for="{{id}}" ng-bind="label"></label><input id="{{id}}" ng-show="!multiline" type="text" ng-model="ngModel" ng-focus="focus()" ng-blur="blur()" ng-change="change()" /><textarea id="{{id}}" ng-show="multiline" name="{{name}}" ng-model="ngModel" ng-trim="false" ng-focus="focus()" ng-blur="blur()" ng-disabled="disabled == \'true\'" ng-change="change()"></textarea><hr />',link:function(n,t,i){n.id="phi-input-"+ ++phiInputCounter,n.floatinglabel="undefined"!=typeof i.floatinglabel&&"false"!==i.floatinglabel&&"0"!==i.floatinglabel,n.multiline="undefined"!=typeof i.multiline&&"false"!==i.multiline&&"0"!==i.multiline,n.state={focused:!1,empty:!0},n.focus=function(){n.focused=!0,n.ngFocus(),t.toggleClass("phi-input-focused",!0)},n.blur=function(){n.focused=!1,n.ngBlur(),t.toggleClass("phi-input-focused",!1)},n.change=function(){e(n.ngChange,0)},n.resizeTextarea=function(){if(n.multiline){var e=t.find("textarea");e.css("height","auto"),e.css("height",Math.max(50,e[0].scrollHeight,e[0].clientHeight)+"px")}},n.$watch("ngModel",function(e){n.state.empty=void 0==e||!e.length,t.toggleClass("phi-input-empty",n.state.empty),n.resizeTextarea()})}}}]);